<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Configuring IPSec Encryption</title>
    <link rel="StyleSheet" href="css/advanced-networking.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="advanced-networking.08.01.html#279691">Chapter 6	Configuring Network Integration Features</a> : Configuring IPSec Encryption</div>
    <hr align="left" />
    <blockquote>
      <div class="Heading1Topic"><a name="279691">Configuring IPSec Encryption</a></div>
      <div class="Body"><a name="279696">You configure IPSec encryption to allow data to be communicated securely between peer Steelhead </a>appliances in the Configure &gt; Optimization &gt; Secure Peering (IPSEC) page.</div>
      <div class="Body"><a name="279698">Enabling IPSec encryption makes it difficult for a third party to view your data or pose as a computer you </a>expect to receive data from. To enable IPSec, you must specify at least one encryption and authentication algorithm. Only optimized data is protected, pass-through traffic is not.</div>
      <div class="Body"><a name="279700">Enabling IPSec support is </a><span class="Emphasis">optional</span>.</div>
      <div class="Body"><a name="731488">RiOS does not support IPSec over IPv6.</a></div>
      <div class="Body"><a name="279704">RiOS v6.0 and later also provides support for SSL peering beyond traditional HTTPS traffic. For details, see </a><span class="xref"><a href="javascript:WWHClickedPopup('Management_Console_Online_Help_v8.5', 'setupServiceProtocolsSSLPeering.html#237300', '');" title="Configuring Secure Peers">Configuring Secure Peers</a></span>.</div>
      <div class="Important">
        <span class="Bold">Important: </span><a name="279711">You must set IPSec support on each peer Steelhead appliance in your network for which you want to </a>establish a secure connection. You must also specify a shared secret on each peer Steelhead appliance.</div>
      <div class="Note">
        <span class="Bold">Note: </span><a name="279720">If you NAT traffic between Steelhead appliances, you cannot use the IPSec channel between the Steelhead </a>appliances because the NAT changes the packet headers, causing IPSec to reject them.</div>
      <div class="HeadingProcedure"><a name="279722">To enable IPSec encryption</a></div>
      <div class="Step1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Step1_inner" style="width: 16.128pt; white-space: nowrap;">
                <span class="Bold">1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Step1_inner"><a name="279723">Choose Configure &gt; Optimization &gt; Secure Peering (IPSEC) to display the Secure Peering (IPSEC) page.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Step_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Step_inner" style="width: 16.128pt; white-space: nowrap;">
                <span class="Bold">2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Step_inner"><a name="279728">Under General Settings, complete the configuration as described in this table. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <table class="RegularTable" style="text-align: left; width: 468.87552pt" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="background-color: #ADBDF2; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 143.68752pt">
            <div class="CellHeading"><a name="836824">Control</a></div>
          </td>
          <td style="background-color: #ADBDF2; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 325.188pt">
            <div class="CellHeading"><a name="836826">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836828">Enable Authentication and </a>Encryption</div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836833">Enables authentication between Steelhead appliances. By default, this option is </a>disabled.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836835">Enable Perfect Forward Secrecy</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836837">Enables additional security by renegotiating keys at specified intervals. If one </a>key is compromised, subsequent keys are secure because they are not derived from previous keys. By default, this option is enabled.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836839">Encryption Policy</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836841">Select one of these encryption methods from the drop-down list:</a></div>
            <li class="CellBullet"><span class="Bold"><a name="836842">DES</a></span> - Encrypts data using the Data Encryption Standard algorithm. <span class="Bold" style="font-weight: normal">DES</span> is the default value.</li>
            <li class="CellBullet"><span class="Bold"><a name="836843">NULL</a></span> - Specifies the null encryption algorithm.</li>
            <li class="CellBullet"><span class="Bold"><a name="836844">None</a></span> - Does not apply an encryption policy.</li>
            <li class="CellBullet"><span class="Bold"><a name="836846">3DES</a></span> - Appears when a valid Enhanced Cryptography License Key is installed on the appliance. Encrypts data using the Triple Digital Encryption Standard with a 168-bit key length. This standard is supported for environments where AES has not been approved, but is both slower and less secure than AES.</li>
            <li class="CellBullet"><span class="Bold"><a name="836849">AES</a></span> - Appears when a valid Enhanced Cryptography License Key is installed on the appliance. Encrypts data using the Advanced Encryption Standard (AES) cryptographic key length of 128 bits.</li>
            <li class="CellBullet"><span class="Bold"><a name="836852">AES256</a></span> - Appears when a valid Enhanced Cryptography License Key is installed. Encrypts data using the Advanced Encryption Standard (AES) cryptographic key length of 256 bits. Provides the highest security.</li>
            <div class="CellBody"><a name="836853">Optionally, select an algorithm from the method 2, 3, 4, or 5 drop-down lists to </a>create a prioritized list of encryption policies for negotiating between peers. </div>
            <div class="CellNote">
              <span class="Bold">Note: </span><a name="836857">Peer Steelhead appliances must both have a valid Enhanced </a>Cryptography License Key installed to use <span class="Bold" style="font-weight: normal">3DES</span>, <span class="Bold" style="font-weight: normal">AES</span>, or <span class="Bold" style="font-weight: normal">AES256</span>. When a Steelhead appliance has the valid Enhanced Cryptography License Key installed and an IPSec encryption level is set to <span class="Bold" style="font-weight: normal">3DES</span> or <span class="Bold" style="font-weight: normal">AES</span>, and a peer Steelhead appliance does not have a valid Enhanced Cryptography License Key installed, the appliances uses the highest encryption level set on the appliance without the key. </div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836865">Authentication Policy</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836869">Select one of these authentication methods from the drop-down list:</a></div>
            <li class="CellBullet"><span class="Bold"><a name="836870">MD5</a></span> - Specifies the Message-Digest 5 algorithm, a widely-used cryptographic hash function with a 128-bit hash value. This is the default value.</li>
            <li class="CellBullet"><span class="Bold"><a name="836871">SHA-1</a></span> - Specifies the Secure Hash Algorithm, a set of related cryptographic hash functions. SHA-1 is considered to be the successor to MD5.</li>
            <div class="CellBody"><a name="836872">Optionally, select an algorithm from the method 2</a><span class="Bold"> </span>drop-down list to create a secondary policy for negotiating the authentication method to use between peers. If the first authentication policy negotiation fails, the peer Steelhead appliances use the secondary policy to negotiate authentication. </div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836877">Time Between Key </a>Renegotiations</div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836879">Specify the number of minutes between quick-mode renegotiation of keys </a>using the Internet Key Exchange (IKE) protocol. IKE uses public key cryptography to provide the secure transmission of a secret key to a recipient so that the encrypted data can be decrypted at the other end. The default value is <span class="Bold" style="font-weight: normal">240</span> minutes.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836881">Enter the Shared Secret/Confirm </a>the Shared Secret</div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836886">Specify and confirm the shared secret. All the Steelhead appliances in a network </a>for which you want to use IPSec must have the same shared secret.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836888">Add a New Secure Peer</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836890">Displays the controls to add a new secure peer.</a></div>
            <li class="CellBullet"><span style="font-weight: bold"><a name="836894">Peer IP Address</a></span> - Specify the IP address for the peer Steelhead appliance (in-path interface) for which you want to make a secure connection.</li>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836896">Add</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836898">Adds the peer specified in the Peer IP Address text box.</a></div>
            <div class="CellBody"><a name="836902">If a connection has not been established between the two Steelhead appliances </a>that are configured to use IPSec security, the peers list does not display the peer Steelhead appliance status as mature. </div>
            <div class="CellNote">
              <span class="Bold">Note: </span><a name="836903">Adding a peer causes a short service disruption (3-4 seconds) to the peer </a>that is configured to use IPSec security. </div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836905">Remove Selected</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="836907">Select the check box next to the name and click </a><span style="font-weight: bold">Remove Selected</span>.</div>
          </td>
        </tr>
      </table>
      <div class="Step_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Step_inner" style="width: 16.128pt; white-space: nowrap;">
                <span class="Bold">3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Step_inner"><a name="279819">Click </a><span class="Bold">Save </span>to save your settings permanently.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Step_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Step_inner" style="width: 16.128pt; white-space: nowrap;">
                <span class="Bold">4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Step_inner"><a name="279823">If you have changed an IPSec encryption setting, you must restart the optimization service. For details, </a>see <span class="xref"><a href="javascript:WWHClickedPopup('Management_Console_Online_Help_v8.5', 'setupAppliance_service.html#281155', '');" title="Starting and Stopping the Optimization Service">Starting and Stopping the Optimization Service</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Note">
        <span class="Bold">Note: </span><a name="279830">The peered Steelhead appliances do not establish the IPSec channel until they are optimizing traffic.</a></div>
      <div class="Heading4"><a name="279831">About the Secure Peers List</a></div>
      <div class="Body"><a name="279832">The Secure Peers list displays the peers with the encryption and authentication policies and one of these </a>states:</div>
      <li class="Bullet"><span class="Bold"><a name="279833">Mature</a></span><span style="font-size: 9.0pt"> - </span>The IPSec connection is established and usable.</li>
      <li class="Bullet"><span class="Bold"><a name="279834">Larval</a></span><span style="font-size: 9.0pt"> - </span>The IPSec connection is being established.</li>
      <li class="Bullet"><span class="Bold"><a name="279835">Disconnected</a></span><span style="font-size: 9.0pt"> - </span>The IPSec connection is not yet established or is not usable.</li>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <hr align="left" />
    <table align="right">
      <tr>
        <td class="WebWorks_Company_Logo_Bottom">
          <a href="http://riverbed.com" target="external_window"><img src="riverbed_logo_without_tagline.jpg" border="0" /></a>
        </td>
      </tr>
    </table>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>