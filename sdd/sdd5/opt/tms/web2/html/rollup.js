var RBT={};var Y=YUI({fetchCSS:false}).use("*");RBT.rpc=function(d){var c=d.errorFn||function(){};var b=d.successFn||function(){};var a={method:(d.form||d.fields)?"POST":"GET",data:d.fields||{},on:{complete:function(j,g,f){if(!g.responseText){c("No response received.","no-response");return}var i;try{i=Y.JSON.parse(g.responseText)}catch(h){c("Unable to parse response: "+g.responseText,"invalid");return}if(i.success){b(i.response,i.msgId)}else{c(i.errorMsg,"other");return}}}};if(d.form!==undefined){a.form={id:Y.one(d.form),upload:(d.upload===true)}}if(d.timeout!==undefined){a.timeout=d.timeout}Y.io(d.url,a)};RBT.Border=function(a){Y.after(this._renderUIBorder,this,"renderUI")};RBT.Border.ATTRS={borderClass:{value:null}};RBT.Border.prototype._renderUIBorder=function(){this.get("contentBox").prepend(Y.Node.create(Y.substitute('<div class="{borderClass} {quadClass} {quadClass}-nw"></div><div class="{borderClass} {quadClass} {quadClass}-ne"></div><div class="{borderClass} {quadClass} {quadClass}-sw"></div><div class="{borderClass} {quadClass} {quadClass}-se"></div>',{borderClass:this.get("borderClass"),quadClass:Y.Widget.getClassName("border","quad")})))};RBT.Dialog=function(a){RBT.Dialog.superclass.constructor.apply(this,arguments)};RBT.Dialog.dismiss=function(a){this.hide();a.halt()};RBT.Dialog._ANIM_DURATION=0.25;RBT.Dialog.NAME="dialog";RBT.Dialog.AFFINITY_NE="ne";RBT.Dialog.AFFINITY_NW="nw";RBT.Dialog.AFFINITY_SE="se";RBT.Dialog.AFFINITY_SW="sw";RBT.Dialog.AFFINITY_CENTER="center";RBT.Dialog.ATTRS={affinity:{value:RBT.Dialog.AFFINITY_SW},alignNode:{value:null},content:{value:null},contentWidth:{value:"30em"},buttons:{value:[{label:"OK",clickFn:RBT.Dialog.dismiss}]}};Y.extend(RBT.Dialog,Y.Widget,{_resizeHandler:null,initializer:function(a){this.set("borderClass",this.getClassName("border"));this.set("visible",false);this.set("zIndex",1000);if(this.get("content")){this.after("render",this.show,this);this.after("visibleChange",function(){if(!this.get("visible")){Y.later(RBT.Dialog._ANIM_DURATION*1000+1000,this,this.destroy)}},this)}this.on("destroy",function(){this.unplug()},this)},renderUI:function(){this.get("boundingBox").prepend(Y.Node.create(Y.substitute('<div class="{cls}"></div>',{cls:this.getClassName("background")})));if(this.get("affinity")===RBT.Dialog.AFFINITY_CENTER){this.get("boundingBox").addClass(this.getClassName("centered"))}if((Y.UA.ie==7)||(Y.UA.ie==8)){this.get("boundingBox").get("children").item(0).setStyle("opacity","0.5")}this.get("boundingBox").prepend(Y.Node.create(Y.substitute('<div class="{cls} {cls}-{affinity}"></div>',{cls:this.getClassName("arrow"),affinity:this.get("affinity")})));this.get("contentBox").addClass(this.getClassName("content",this.get("affinity")));this._addContents();if(this.get("buttons")){var a=Y.Node.create(Y.substitute('<div class="{cls}"></div>',{cls:this.getClassName("button","container")}));Y.Array.each(this.get("buttons"),function(c){c.cls=this.getClassName("button");c.name=Y.guid();var b=Y.Node.create(Y.substitute('<input class="{cls}" type="submit" name="{name}" value="{label}" />',c));Y.on("click",c.clickFn,b,this);a.append(b)},this);this.get("contentBox").append(a)}},_addContents:function(){var a=Y.Node.create('<div class="'+this.getClassName("content","container")+'"></div>');this.get("contentBox").append(a);if(this.get("content")){this.get("contentBox").setStyle("width",this.get("contentWidth"));a.append(this.get("content"))}else{this.get("contentBox").setStyle("display","");this.get("contentBox").get("children").each(function(b){if(!b.compareTo(a)){b.appendTo(a)}})}},show:function(){RBT.Dialog.superclass.show.apply(this,arguments);this._position();this._resizeHandler=Y.on("resize",Y.bind(this._position,this))},hide:function(){RBT.Dialog.superclass.hide.apply(this,arguments);if(this._resizeHandler){this._resizeHandler.detach();this._resizeHandler=null}},_position:function(){if(this.get("affinity")===RBT.Dialog.AFFINITY_CENTER){var a=this.get("contentBox").get("region");var b=Y.DOM.viewportRegion();this.get("boundingBox").setStyles({top:((b.height-a.height)/2)+"px",left:((b.width-a.width)/2)+"px"})}else{this.set("align",{node:this.get("alignNode"),points:[Y.WidgetPositionAlign.TR,(this.get("affinity").charAt(1)=="e")?Y.WidgetPositionAlign.LC:Y.WidgetPositionAlign.RC]})}}});RBT.Dialog=Y.Base.build(RBT.Dialog.NAME,RBT.Dialog,[Y.WidgetPosition,Y.WidgetPositionAlign,Y.WidgetStack,RBT.Border],{dynamic:false});if((Y.UA.ie!=7)&&(Y.UA.ie!=8)){Y.Base.plug(RBT.Dialog,Y.Plugin.WidgetAnim,{duration:RBT.Dialog._ANIM_DURATION})};RBT.DynamicList=function(a){this._name=a.name;this._template=a.template;this._parentEl=Y.one(a.parent);this._dummyRowEl=Y.one(a.dummyRow);this._postAddFn=a.postAddFn;this._preRemoveFn=a.preRemoveFn;this._enableFn=a.enableFn;this._disableFn=a.disableFn;this._enabledStateMap={};this._parentEl.get("children").each(function(d,b){if(!d.compareTo(this._dummyRowEl)){var c=this._getIdFromIdx(b);d.setData("RBT.DynamicList",{id:c});this._enabledStateMap[c]=true}},this);this._nextIdx=this._parentEl.get("children").size();RBT.DynamicList._instances[this._name]=this};RBT.DynamicList._instances={};RBT.DynamicList.prototype._getIdFromIdx=function(a){return"_"+this._name+"_"+a+"_"};RBT.DynamicList.findRowElStatic=function(a,b){return RBT.DynamicList._instances[a].findRowEl(b)};RBT.DynamicList.prototype.findRowEl=function(e){var d=this._parentEl.get("children");for(var a=0;a<d.size();++a){var b=d.item(a);var c=b.getData("RBT.DynamicList");if(c&&(c.id===e)){return b}}};RBT.DynamicList.addRowStatic=function(b,a){RBT.DynamicList._instances[b].addRow(a)};RBT.DynamicList.prototype.addRow=function(a){if(this._dummyRowEl){this._dummyRowEl.remove();this._dummyRowEl=null}var c=this._getIdFromIdx(this._nextIdx);var b=Y.Node.create(Y.substitute(this._template,{id:c}));b.setData("RBT.DynamicList",{id:c});this._parentEl.append(b);this._enabledStateMap[c]=true;if(this._postAddFn){this._postAddFn(c,a)}++this._nextIdx};RBT.DynamicList.removeRowStatic=function(a,b){RBT.DynamicList._instances[a].removeRow(b)};RBT.DynamicList.prototype.removeRow=function(a){if(this._preRemoveFn){this._preRemoveFn(a)}this.findRowEl(a).remove()};RBT.DynamicList.removeAllRowsStatic=function(a){RBT.DynamicList._instances[a].removeAllRows()};RBT.DynamicList.prototype.removeAllRows=function(){if(this._dummyRowEl){return}var d=this._parentEl.get("children");for(var a=0;a<d.size();++a){var b=d.item(a);var c=b.getData("RBT.DynamicList");if(c){this.removeRow(c.id)}}};RBT.DynamicList.enableRowStatic=function(a,b){RBT.DynamicList._instances[a].enableRow(b)};RBT.DynamicList.prototype.enableRow=function(a){if(this._enableFn){this._enableFn(a,this.findRowEl(a))}this._enabledStateMap[a]=true};RBT.DynamicList.disableRowStatic=function(a,b){RBT.DynamicList._instances[a].disableRow(b)};RBT.DynamicList.prototype.disableRow=function(a){if(this._disableFn){this._disableFn(a,this.findRowEl(a))}this._enabledStateMap[a]=false};RBT.DynamicList.syncEnabledStateStatic=function(a){RBT.DynamicList._instances[a].syncEnabledState()};RBT.DynamicList.prototype.syncEnabledState=function(){this._parentEl.get("children").each(function(a){var b=a.getData("RBT.DynamicList");if(b){if(this._enabledStateMap[b.id]){this.enableRow(b.id)}else{this.disableRow(b.id)}}},this)};RBT.Tooltip=function(a){RBT.Tooltip.superclass.constructor.apply(this,arguments)};RBT.Tooltip.NAME="tooltip";RBT.Tooltip.ATTRS={triggerNode:{value:null},addTriggerClass:{value:true},alignNode:{value:null},content:{value:null},fadeDuration:{value:0.5},visible:{value:false},defaultZIndex:{value:1000}};Y.extend(RBT.Tooltip,Y.Widget,{initializer:function(b){this.set("zIndex",this.get("defaultZIndex"));if(this.get("alignNode")===null){this.set("alignNode",this.get("triggerNode"))}if(this.get("triggerNode")){var a=Y.one(this.get("triggerNode"));if(this.get("content")===null){this.set("content",a.get("title"))}if(this.get("addTriggerClass")){a.addClass(this.getClassName("trigger"))}a.set("title","")}this._triggerRegion=null;this._mouseOverHandler=null;this._mouseMoveHandler=null;this._showTimer=null;this._fader=new Y.Anim({node:this.get("boundingBox"),duration:this.get("fadeDuration"),to:{opacity:0}});this._fader.on("end",Y.bind(function(){this.move(0,0);this.get("contentBox").setStyle("width","");RBT.Tooltip.superclass.hide.apply(this,arguments)},this));this._domCreated=false},destructor:function(){if(this._mouseOverHandler){this._mouseOverHandler.detach()}if(this._mouseMoveHandler){this._mouseMoveHandler.detach()}},bindUI:function(){if(this.get("triggerNode")){this._mouseOverHandler=Y.on("mouseover",Y.bind(this._onMouseOver,this),this.get("triggerNode"))}},_createDomElements:function(){var b=this.get("contentBox");b.append(Y.Node.create(this.get("content")));var c=b.get("region");var e=Math.floor(c.width/2);var f=c.width-e;var a=Math.floor(c.height/2);var d=c.height-a;b.append(Y.Node.create("<div />").addClass(this.getClassName("background")).setStyles({top:"0",left:"0",width:e+"px",height:a+"px",backgroundPosition:"top left"}));b.append(Y.Node.create("<div />").addClass(this.getClassName("background")).setStyles({top:"0",left:e+"px",width:f+"px",height:a+"px",backgroundPosition:"top right"}));b.append(Y.Node.create("<div />").addClass(this.getClassName("background")).setStyles({top:a+"px",left:"0",width:e+"px",height:d+"px",backgroundPosition:"bottom left"}));b.append(Y.Node.create("<div />").addClass(this.getClassName("background")).setStyles({top:a+"px",left:e+"px",width:f+"px",height:d+"px",backgroundPosition:"bottom right"}));b.append(Y.Node.create("<div />").addClass(this.getClassName("arrow")).setStyle("top",(c.height-8)+"px"))},show:function(){if(!this._domCreated){this._createDomElements();this._domCreated=true}if(this._fader.get("running")){this._fader.stop()}this.get("boundingBox").setStyle("opacity","1");var c=Y.one("body").get("region");var e=this.get("contentBox").get("region");var b=Y.one(this.get("alignNode")).get("region");var f=(b.width>30)?b.left-8:b.left-22+b.width/2;this.move(f,b.top-e.height);this.get("contentBox").setStyle("width",(e.width-31)+"px");var a=f+e.width;if(a>c.right-4){var d=a-c.right+4;this.move(f-d,b.top-e.height);this.get("contentBox").one(".yui3-tooltip-arrow").setStyle("left",(10+d)+"px")}else{this.get("contentBox").one(".yui3-tooltip-arrow").setStyle("left","")}RBT.Tooltip.superclass.show.apply(this,arguments)},hide:function(){if(this._shouldAnimate()){this._fader.run()}else{RBT.Tooltip.superclass.hide.apply(this,arguments)}},_shouldAnimate:function(){return(Y.UA.ie!==7)&&(Y.UA.ie!==8)},_onMouseOver:function(a){if(!this._mouseMoveHandler){this._triggerRegion=Y.one(this.get("triggerNode")).get("region");if(this._fader.get("running")){this.show()}else{this._showTimer=Y.later(500,this,this.show)}this._mouseMoveHandler=Y.on("mousemove",Y.bind(this._onMouseMove,this),document.body)}},_onMouseMove:function(a){if((a.pageX<this._triggerRegion.left)||(a.pageX>this._triggerRegion.right)||(a.pageY<this._triggerRegion.top)||(a.pageY>this._triggerRegion.bottom)){this._showTimer.cancel();this.hide();this._mouseMoveHandler.detach();this._mouseMoveHandler=null}}},{createPlaceholder:function(a){if(a.addTriggerClass!==false){Y.one(a.triggerNode).addClass("yui3-tooltip-trigger")}var b=Y.one(a.triggerNode).on("mouseover",function(c){b.detach();new RBT.Tooltip(a).render();c.target.simulate("mouseover")})}});RBT.Tooltip=Y.Base.build(RBT.Tooltip.NAME,RBT.Tooltip,[Y.WidgetPosition,Y.WidgetStack],{dynamic:false});Y.on("domready",function(){Y.all(".popupTitle").each(function(a){new RBT.Tooltip({triggerNode:a}).render()})});RBT._TcpIpUtils={};RBT._TcpIpUtils.INVALID=0;RBT._TcpIpUtils.IPv4=4;RBT._TcpIpUtils.IPv6=6;RBT._TcpIpUtils._byteToHexRaw=function(b){if((b<0)||(b>255)){return null}var a=(b.toString(16)).toUpperCase();if(a.length==1){a="0"+a}return a};RBT._TcpIpUtils._hexReformat=function(b,a){if((a!==0)&&(b.length>a)){return null}if(!b.match(/^[\da-f]+$/i)){return null}if(a!==0){while(b.length<a){b="0"+b}}else{while(b.length>1){if(b.charAt(0)=="0"){b=b.substr(1,b.length-1)}else{break}}}return b};RBT._TcpIpUtils._isHexRawAddr=function(b,a){if((a==RBT._TcpIpUtils.IPv4)&&(b.length!=8)){return false}if((a==RBT._TcpIpUtils.IPv6)&&(b.length!=32)){return false}if(!b.match(/^[\da-f]+$/i)){return false}return true};RBT._TcpIpUtils.parseIPv4ToHexRawAddr=function(d){var a=d.match(/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/);var c="";if(!a){return null}a.shift();for(var b=0;b<a.length;b++){a[b]=RBT._TcpIpUtils._byteToHexRaw(parseInt(a[b],10));if(a[b]===null){return null}c+=a[b]}if(RBT._TcpIpUtils._isHexRawAddr(c,RBT._TcpIpUtils.IPv4)){return c}return null};RBT._TcpIpUtils.reformatIPv4=function(a){if(!RBT._TcpIpUtils._isHexRawAddr(a,RBT._TcpIpUtils.IPv4)){return null}return parseInt(a.substr(0,2),16).toString(10)+"."+parseInt(a.substr(2,2),16).toString(10)+"."+parseInt(a.substr(4,2),16).toString(10)+"."+parseInt(a.substr(6,2),16).toString(10)};RBT._TcpIpUtils.parseIPv6ToHexRawAddr=function(m){var e=m.length;var c="";var l="";var k="";var a=0;var f="";var n="";var o=0;var h=0;var b="00000000000000000000000000000000";m=m.toUpperCase();if(e===0){return null}if(e<2){return null}if((e==2)&&(m!="::")){return null}if(m.indexOf(".")>0){return null}l=m.split("::");if(l.length>2){return null}for(var g=0;g<l.length;g++){k=l[g].split(":");a=k.length;f="";if((a==1)&&(k[0]=="")){a=0}for(var d=0;d<a;d++){n=RBT._TcpIpUtils._hexReformat(k[d],4);if(n===null){return null}f+=n}l[g]=f}if(l.length==2){h=l[0].length+l[1].length;if(h>28){return null}f=l[0]+b.substr(0,32-h)+l[1]}if(RBT._TcpIpUtils._isHexRawAddr(f,RBT._TcpIpUtils.IPv6)){return f}return null};RBT._TcpIpUtils.reformatIPv6=function(o,h,c,n,m){var l="";var f="";if(!RBT._TcpIpUtils._isHexRawAddr(o,RBT._TcpIpUtils.IPv6)){return null}o=o.toUpperCase();var d="";if(m){d=RBT._TcpIpUtils.reformatIPv4(o.substr(24,8));o=o.substr(0,24)}var b=0;var a=0;var j=false;var p=0;var e=0;var i=o;var k=0;if(c){while(i!=""){f=i.substr(0,4);i=i.substr(4);if((f=="0000")&&(c)&&(!j)){j=true;p=k;e=0}if(j){if(f=="0000"){e++;if(e>a){b=p;a=e}}else{j=false}}k++}}var g=false;j=false;e=0;i=o;k=0;while(i!=""){f=i.substr(0,4);i=i.substr(4);if(a>0){if((k>=b)&&(k<(b+a))){if(k==b){l=l+"::";g=true}k++;continue}}if(k>0){if(g){g=false}else{l=l+":"}}if(!n){f=RBT._TcpIpUtils._hexReformat(f,0)}if(!h){f=f.toLowerCase()}l=l+f;k++}if(m){if(l[l.length-1]==":"){l=l+d}else{l=l+":"+d}}return l};RBT._TcpIpUtils.getIPPrefix=function(b,d){var c=b.match(/^([\da-f\.:]+)\/(\d+)$/i);var a;var e;if(!c){return null}c.shift();a=parseInt(c[1],10);if(d==RBT._TcpIpUtils.IPv4){e=RBT._TcpIpUtils.parseIPv4ToHexRawAddr(c[0]);if((e===null)||(a>32)){return null}return[e,a]}else{if(d==RBT._TcpIpUtils.IPv6){e=RBT._TcpIpUtils.parseIPv6ToHexRawAddr(c[0]);if((e===null)||(a>128)){return null}return[e,a]}}return null};RBT._TcpIpUtils.prefixToMask=function(c,h){var b=c;var g;var a;var e="";var d=["0","8","C","E","F"];if(h==RBT._TcpIpUtils.IPv4){g=32;a=8}else{if(h==RBT._TcpIpUtils.IPv6){g=128;a=32}else{return null}}if(b>g){return null}for(var f=0;f<a;f++){if(b>=4){b-=4;e+=d[4]}else{e+=d[b];b=0}}return e};RBT.Validator={};RBT.Validator._INPUT_REQUIRED_CLASS_NAME=Y.ClassNameManager.getClassName("rbt","validator","inputRequired");RBT.Validator._ERROR_CLASS_NAME=Y.ClassNameManager.getClassName("rbt","validator","error");RBT.Validator.FIELD_STATE_NORMAL=1;RBT.Validator.FIELD_STATE_INPUT_REQUIRED=2;RBT.Validator.FIELD_STATE_ERROR=3;RBT.Validator._fieldUpdateTimer=null;RBT.Validator._errorPopup=null;RBT.Validator._errorPopupInputEl=null;RBT.Validator.buttonEnabler=function(b,a){b.set("disabled",!a)};function handleFocus(a){RBT.Validator._validateField(a.target,true,true);RBT.Validator._pollInputValue(a.target)}RBT.Validator.addFieldValidation=function(inputEl,syntax,optional,args){inputEl=Y.one(inputEl);if(!inputEl){return}var syntaxFn=syntax;if(Y.Lang.isString(syntax)){if(RBT.Validator.Syntax[syntax]){syntaxFn=RBT.Validator.Syntax[syntax]}else{syntaxFn=eval(syntax)}}inputEl.setData("RBT.Validator",{syntaxFn:syntaxFn,syntaxArgs:(args)?args:[],optional:optional,guid:Y.guid()});var formEl=inputEl.get("form");if(formEl&&!formEl.getData("RBT.Validator")){formEl.setData("RBT.Validator",{invalidFields:{}})}Y.on("focus",handleFocus,inputEl);Y.on("blur",function(evt){RBT.Validator._validateField(evt.target,true)},inputEl);if(inputEl.get("type")==="file"){Y.on("change",function(evt){RBT.Validator._validateField(evt.target,true)},inputEl)}};RBT.Validator.addFieldValidation_cmc=function(d,c,b,a){RBT.Validator.addFieldValidation(d,c,b,a);d=Y.one(d);if(!d){return}Y.detach("focus",handleFocus,d);Y.on("focus",function(e){RBT.Validator._validateField(e.target,true,true)},d);Y.on("keyup",function(e){RBT.Validator._validateField(e.target,false,true)},d)};RBT.Validator.removeFieldValidation=function(d){d=Y.one(d);RBT.Validator._setFieldState(d,RBT.Validator.FIELD_STATE_NORMAL);var b=d.get("form");if(b){var c=b.getData("RBT.Validator");var a=d.getData("RBT.Validator");delete c.invalidFields[a.guid]}d.setData("RBT.Validator",undefined)};RBT.Validator.addButtonValidation=function(c,a){c=Y.one(c);if(!c){return}c.setData("RBT.Validator",{validatable:true,filterFn:a});var b=c.get("form");if(b&&!b.getData("RBT.Validator")){b.setData("RBT.Validator",{invalidFields:{}})}};RBT.Validator.validatePage=function(){Y.all("input, textarea").each(function(a){RBT.Validator._validateField(a,false);return true});Y.all("form").each(function(a){RBT.Validator._updateFormButtonState(a);return true})};RBT.Validator.validateForm=function(a){a=Y.one(a);a.all("input, textarea").each(function(b){RBT.Validator._validateField(b,false);return true});RBT.Validator._updateFormButtonState(a)};RBT.Validator._pollInputValue=function(b){var a=b.get("value");function c(){if(Y.UA.gecko){try{b.compareTo(document.activeElement)}catch(d){return}}if(b.compareTo(document.activeElement)){if(b.get("value")!=a){a=b.get("value");RBT.Validator._validateField(b,true)}Y.later(250,null,c)}}c()};RBT.Validator.validateField=function(b,a){return RBT.Validator._validateField(Y.one(b),true,a)};RBT.Validator._validateField=function(j,b,h){var k=j.getData("RBT.Validator");var d=null;var a=null;if(!k||(j.get("type")==="submit")){return}else{if(j.get("disabled")){a=RBT.Validator.FIELD_STATE_NORMAL}else{if(j.get("value")==""){a=(k.optional)?RBT.Validator.FIELD_STATE_NORMAL:RBT.Validator.FIELD_STATE_INPUT_REQUIRED}else{try{var g=[j.get("value"),j].concat(k.syntaxArgs);k.syntaxFn.apply(null,g);a=RBT.Validator.FIELD_STATE_NORMAL}catch(f){d=f;a=RBT.Validator.FIELD_STATE_ERROR}}}}RBT.Validator._setFieldState(j,a,d,h);var i=j.get("form");if(i){var c=i.getData("RBT.Validator");if(a===RBT.Validator.FIELD_STATE_NORMAL){delete c.invalidFields[k.guid]}else{c.invalidFields[k.guid]=true}if(b){RBT.Validator._updateFormButtonState(i)}}return a};RBT.Validator._setFieldState=function(f,c,b,a){if(RBT.Validator._fieldUpdateTimer){RBT.Validator._fieldUpdateTimer.cancel();RBT.Validator._fieldUpdateTimer=null}if(Y.UA.gecko){try{f.compareTo(document.activeElement)}catch(d){return}}if((c!==RBT.Validator.FIELD_STATE_ERROR)||!f.compareTo(document.activeElement)||a||RBT.Validator._errorPopup.get("visible")){RBT.Validator._updateElements(f,c,b)}else{if(RBT.Validator.getFieldState(f)===RBT.Validator.FIELD_STATE_INPUT_REQUIRED){RBT.Validator._updateElements(f,RBT.Validator.FIELD_STATE_NORMAL,b)}RBT.Validator._fieldUpdateTimer=Y.later(1000,null,function(){RBT.Validator._updateElements(f,c,b);RBT.Validator._fieldUpdateTimer=null})}};RBT.Validator._updateElements=function(d,b,a){switch(b){case RBT.Validator.FIELD_STATE_NORMAL:d.removeClass(RBT.Validator._INPUT_REQUIRED_CLASS_NAME);d.removeClass(RBT.Validator._ERROR_CLASS_NAME);break;case RBT.Validator.FIELD_STATE_INPUT_REQUIRED:d.addClass(RBT.Validator._INPUT_REQUIRED_CLASS_NAME);d.removeClass(RBT.Validator._ERROR_CLASS_NAME);break;case RBT.Validator.FIELD_STATE_ERROR:d.removeClass(RBT.Validator._INPUT_REQUIRED_CLASS_NAME);d.addClass(RBT.Validator._ERROR_CLASS_NAME);break}if(Y.UA.gecko){try{d.compareTo(document.activeElement)}catch(c){return}}if(!RBT.Validator._errorPopupInputEl||(RBT.Validator._errorPopupInputEl.compareTo(d))){if(!d.compareTo(document.activeElement)||(b!==RBT.Validator.FIELD_STATE_ERROR)){RBT.Validator._errorPopup.hide();RBT.Validator._errorPopupInputEl=null}else{RBT.Validator._errorPopup.show(a,d);RBT.Validator._errorPopupInputEl=d}}};RBT.Validator.getFieldState=function(a){if(a.hasClass(RBT.Validator._ERROR_CLASS_NAME)){return RBT.Validator.FIELD_STATE_ERROR}else{if(a.hasClass(RBT.Validator._INPUT_REQUIRED_CLASS_NAME)){return RBT.Validator.FIELD_STATE_INPUT_REQUIRED}else{return RBT.Validator.FIELD_STATE_NORMAL}}};RBT.Validator._updateFormButtonState=function(a){var c=a.getData("RBT.Validator");if(!c){return}var b=(Y.Object.size(c.invalidFields)===0);a.all("input[type=submit]").each(function(e){var d=e.getData("RBT.Validator");if(d&&d.validatable){if(d.filterFn){RBT.Validator.buttonEnabler(e,d.filterFn(e,b))}else{RBT.Validator.buttonEnabler(e,b)}}})};RBT.Validator._SyntaxErrorPopup=function(){RBT.Validator._SyntaxErrorPopup.superclass.constructor.apply(this,arguments)};RBT.Validator._SyntaxErrorPopup.NAME="syntaxErrorPopup";Y.extend(RBT.Validator._SyntaxErrorPopup,Y.Widget,{initializer:function(a){this.set("visible",false);this.set("zIndex",1000)},renderUI:function(){var a=this.get("contentBox");a.append(Y.substitute('<span class="errorMessage"></span><div class="{background} nw" style="background-position: top left;"></div><div class="{background} ne" style="background-position: top right;"></div><div class="{background} sw" style="background-position: bottom left;"></div><div class="{background} se" style="background-position: bottom right;"></div><div class="{arrow}"></div>',{background:this.getClassName("background"),arrow:this.getClassName("arrow")}))},_resize:function(){var b=this.get("contentBox");var c=b.get("region");var e=Math.floor(c.width/2);var f=c.width-e;var a=Math.floor(c.height/2);var d=c.height-a;b.one(".nw").setStyles({top:"0",left:"0",width:e+"px",height:a+"px"});b.one(".ne").setStyles({top:"0",left:e+"px",width:f+"px",height:a+"px"});b.one(".sw").setStyles({top:a+"px",left:"0",width:e+"px",height:d+"px"});b.one(".se").setStyles({top:a+"px",left:e+"px",width:f+"px",height:d+"px"})},_align:function(e){var d=this.get("contentBox").get("region");var c=e.get("region");var b=this.get("contentBox").one("div."+this.getClassName("arrow"));var a;if(e.getX()+c.width+d.width+10>Y.DOM.viewportRegion().width){b.removeClass(this.getClassName("arrow-left"));b.addClass(this.getClassName("arrow-right"));a=e.getX()-d.width-2}else{b.removeClass(this.getClassName("arrow-right"));b.addClass(this.getClassName("arrow-left"));a=e.getX()+c.width+2}var f=(c.height/2)+e.getY()-(d.height/2);this.move(a,f)},show:function(b,a){this.get("contentBox").one(".errorMessage").get("children").remove();this.get("contentBox").one(".errorMessage").append("<span>"+b+"</span>");this._resize();this._align(a);RBT.Validator._SyntaxErrorPopup.superclass.show.apply(this,[])}});RBT.Validator._SyntaxErrorPopup=Y.Base.build(RBT.Validator._SyntaxErrorPopup.NAME,RBT.Validator._SyntaxErrorPopup,[Y.WidgetPosition,Y.WidgetStack],{dynamic:false});Y.on("domready",function(){RBT.Validator._errorPopup=new RBT.Validator._SyntaxErrorPopup().render()});RBT.Validator.Syntax={};RBT.Validator.Syntax.DELIMITER_COMMA=",";RBT.Validator.Syntax.DELIMITER_NEWLINE="\n";RBT.Validator.Syntax._DELIMITER_DESC_MAP={",":"comma","\n":"newline"};RBT.Validator.Syntax.noop=function(a){};RBT.Validator.Syntax.nonempty=function(a){if(!a){throw"Input is required."}};RBT.Validator.Syntax.snmpCommunityString=function(a){RBT.Validator.Syntax.nonempty(a);if(a.indexOf(" ")>=0){throw"Space is not allowed."}};RBT.Validator.Syntax.file=function(a){if(!a){throw"Input is required."}};RBT.Validator.Syntax.int8=function(a){RBT.Validator.Syntax._parseIntegerRange(a,-128,127,"An integer between -128 and 127 is required.")};RBT.Validator.Syntax.uint8=function(a){RBT.Validator.Syntax._parseIntegerRange(a,0,255,"An integer between 0 and 255 is required.")};RBT.Validator.Syntax.int16=function(a){RBT.Validator.Syntax._parseIntegerRange(a,-32768,32767,"An integer is required.","An integer is required (between -32768 and 32767).")};RBT.Validator.Syntax.uint16=function(a){RBT.Validator.Syntax._parseIntegerRange(a,0,65535,"A positive integer is required.","A positive integer is required (between 0 and 65535).")};RBT.Validator.Syntax.int32=function(a){RBT.Validator.Syntax._parseIntegerRange(a,-Math.pow(2,31),Math.pow(2,31)-1,"An integer is required.","An integer is required (32-bits).")};RBT.Validator.Syntax.uint32=function(a){RBT.Validator.Syntax._parseIntegerRange(a,0,Math.pow(2,32)-1,"A positive integer is required.","A positive integer is required (32-bits).")};RBT.Validator.Syntax.uint64=function(a){RBT.Validator.Syntax._parseIntegerRange(a,0,Math.pow(2,64)-1,"A positive integer is required.","A positive integer is required (64-bits).")};RBT.Validator.Syntax.intInRange=function(e,c,b,a){if(!/^\-?\d+$/.test(e)){throw"Invalid integer."}var d=parseInt(e,10);if(b===null){if(d>a){throw"Value must be <= "+a+"."}}else{if(a===null){if(d<b){throw"Value must be >= "+b+"."}}else{if((d<b)||(d>a)){throw"Value must be between "+b+" and "+a+"."}}}};RBT.Validator.Syntax.floatInRange=function(e,c,b,a){if(!/^\-?\d*(\.\d*)?$/.test(e)){throw"Invalid floating-point number."}var d=parseFloat(e);if(isNaN(d)){throw"Invalid floating-point number."}if((d<b)||(d>a)){throw"Value must be between "+b+" and "+a+"."}};RBT.Validator.Syntax.ipv4addr=function(a){RBT.Validator.Syntax._parseIpv4Addr(a,false)};RBT.Validator.Syntax.ipv4addr_opt=function(b){try{RBT.Validator.Syntax._parseIpv4Addr(b,true)}catch(a){throw"A legal IPv4 address (nnn.nnn.nnn.nnn) or 0.0.0.0 is required."}};RBT.Validator.Syntax.ipv4addr_list=function(k,d,h){var f=RBT.Validator.Syntax._parseDelimitedList(k,h);var c,b;try{for(c=0;c<f.length;c++){f[c]=RBT.Validator.Syntax._parseIpv4Addr(f[c])}}catch(g){var a=RBT.Validator.Syntax._DELIMITER_DESC_MAP[h];throw"A "+a+"-delimited list of legal IPv4 addresses (nnn.nnn.nnn.nnn) is required."}for(c=0;c<f.length;c++){for(b=0;b<c;b++){if(f[c].join(".")===f[b].join(".")){throw"Duplicate IP addresses are not allowed."}}}};RBT.Validator.Syntax.ipv4prefix=function(a){RBT.Validator.Syntax._parseIpv4Prefix(a)};RBT.Validator.Syntax.ipv4prefix_list=function(h,d,g,b){var i=RBT.Validator.Syntax._parseDelimitedList(h,g);try{for(var c=0;c<i.length;c++){RBT.Validator.Syntax._parseIpv4Prefix(i[c])}}catch(f){var a=RBT.Validator.Syntax._DELIMITER_DESC_MAP[g];throw"A "+a+"-delimited list of IPv4 addresses with mask bits (nnn.nnn.nnn.nnn/mm) is required."}if((b!==undefined)&&(i.length>b)){throw"No more than "+b+" subnets are allowed."}};RBT.Validator.Syntax.subnetMask=function(k){var g="A valid subnet mask is required (ie., 255.255.0.0).";var e=k.match(/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/);if(!e){throw g}e.shift();var c=false;for(var h=0;h<4;h++){var a=parseInt(e[h],10);for(var f=7;f>=0;--f){var d=a&(1<<f);c|=!d;if(c&&d){throw g}}}};RBT.Validator.Syntax.ipv6addr=function(b){var a=RBT._TcpIpUtils.parseIPv6ToHexRawAddr(b);if(a===null){throw"A legal IPv6 address is required."}if(a==RBT._TcpIpUtils.parseIPv6ToHexRawAddr("0:0:0:0:0:0:0:0")){throw"The address 0:0:0:0:0:0:0:0 is not valid."}};RBT.Validator.Syntax.ipv4OrIpv6Addr=function(c){try{RBT.Validator.Syntax.ipv4addr(c)}catch(b){try{RBT.Validator.Syntax.ipv6addr(c)}catch(a){throw"A valid IPv4/IPv6 address is required."}}};RBT.Validator.Syntax.ipv4OrIpv6Addr_opt=function(c){try{RBT.Validator.Syntax.ipv4addr_opt(c)}catch(b){try{RBT.Validator.Syntax.ipv6addr_opt(c)}catch(a){throw"A valid IPv4/IPv6 address is required."}}};RBT.Validator.Syntax.hostnameIpv4OrIpv6Addr=function(c){try{RBT.Validator.Syntax.hostname(c)}catch(b){try{RBT.Validator.Syntax.ipv4OrIpv6Addr(c)}catch(a){throw"A valid hostname or IPv4/IPv6 address is required."}}};RBT.Validator.Syntax.ipv6addr_opt=function(b){var a=RBT._TcpIpUtils.parseIPv6ToHexRawAddr(b);if(a===null){throw"A legal IPv6 address is required."}};RBT.Validator.Syntax.ipv6addr_list=function(d){var c=d.split(",");var b;var a;for(b=0;b<c.length;b++){c[b]=RBT._TcpIpUtils.parseIPv6ToHexRawAddr(Y.Lang.trim(c[b]));if(c[b]===null){throw"A comma-delimited list of legal IPv6 addresses is required."}}for(b=0;b<c.length;b++){for(a=0;a<b;a++){if(c[b]==c[a]){throw"Duplicate IP addresses are not allowed."}}}};RBT.Validator.Syntax.ipv6prefix=function(a){RBT.Validator.Syntax._parseIntegerRange(a,1,128,"A legal IPv6 prefix between 1 and 128 is required.")};RBT.Validator.Syntax.ipv6prefix_opt=function(a){RBT.Validator.Syntax._parseIntegerRange(a,0,128,"A legal IPv6 prefix between 0 and 128 is required.")};RBT.Validator.Syntax.ipv6subnet=function(a){if(RBT._TcpIpUtils.getIPPrefix(a,RBT._TcpIpUtils.IPv6)===null){throw"A legal IPv6 address with prefix is required."}};RBT.Validator.Syntax.ipv6subnet_list=function(c){var b=c.split(",");for(var a=0;a<b.length;a++){if(RBT._TcpIpUtils.getIPPrefix(Y.Lang.trim(b[a]),RBT._TcpIpUtils.IPv6)===null){throw"A comma-delimited list of legal IPv6 addresses with prefix is required."}}};RBT.Validator.Syntax.ipv4or6subnet=function(d){var c=false;try{RBT.Validator.Syntax.ipv4prefix(d);c=true}catch(b){}try{RBT.Validator.Syntax.ipv6subnet(d);c=true}catch(a){}if(!c){throw"An IPv4 or IPv6 address with prefix is required."}};RBT.Validator.Syntax.ipv4or6subnetoraddr=function(f){try{RBT.Validator.Syntax.ipv4prefix(f)}catch(c){try{RBT.Validator.Syntax.ipv6subnet(f)}catch(a){try{RBT.Validator.Syntax.ipv4addr(f)}catch(b){try{RBT.Validator.Syntax.ipv6addr(f)}catch(d){throw"An IPv4 or IPv6 address with optional prefix is required."}}}}};RBT.Validator.Syntax.mappedSubnet=function(b){try{b=b.toLowerCase();if((b=="all-ip")||(b=="all-ipv4")||(b=="all-ipv6")){return}RBT.Validator.Syntax.ipv4or6subnet(b);return}catch(a){}throw"An IPv4 or IPv6 network in CIDR form (X.X.X.X/X or X::X/X), or <tt>All-IP</tt>, <tt>All-IPv4</tt>, or <tt>All-IPv6</tt>, is required."};RBT.Validator.Syntax.port=function(a){RBT.Validator.Syntax._parsePort(a)};RBT.Validator.Syntax.portPortLabel=function(c){try{RBT.Validator.Syntax._parsePort(c)}catch(b){try{RBT.Validator.Syntax._parsePortLabel(c)}catch(a){throw"A valid port number or port label is required."}}};RBT.Validator.Syntax.subnetOrHostLabel=function(c){try{RBT.Validator.Syntax.ipv4prefix(c)}catch(b){try{RBT.Validator.Syntax._parseHostLabel(c)}catch(a){throw"A valid subnet or host label is required."}}};RBT.Validator.Syntax.portRange=function(a){RBT.Validator.Syntax._parsePortRange(a)};RBT.Validator.Syntax.portRangeOrAll=function(b){try{if("all"!=b.toLowerCase()){RBT.Validator.Syntax._parsePortRange(b)}}catch(a){throw"A valid port number, min-max range, or \u201Call\u201D is required."}};RBT.Validator.Syntax.portList=function(f){var a="A comma-delimited list of valid port numbers is required.";var c=f.split(",");try{for(var b=0;b<c.length;b++){RBT.Validator.Syntax._parsePort(Y.Lang.trim(c[b]))}}catch(d){throw a}};RBT.Validator.Syntax.hostname=function(d){if(255<d.length){throw"Invalid hostname."}var c=d.split(".");for(var b=0;b<c.length;++b){var a=c[b];if(!/^[\-A-Za-z_\d]{1,63}$/.test(a)||/^-/.test(a)||/-$/.test(a)){throw"Invalid label in hostname."}}};RBT.Validator.Syntax.hostnameWithColon=function(d){if(255<d.length){throw"Invalid hostname."}var c=d.split(".");for(var b=0;b<c.length;++b){var a=c[b];if(!/^[\-\w:]{1,63}$/.test(a)||/^-/.test(a)||/-$/.test(a)){throw"Invalid label in hostname."}}};RBT.Validator.Syntax.hostnameTextArea=function(f){var a="A list of hostnames is required, one on each line.";var c=Y.Lang.trim(f).split("\n");if(0===c.length){throw a}try{for(var b=0;b<c.length;b++){RBT.Validator.Syntax.hostname(Y.Lang.trim(c[b]))}}catch(d){throw a}};RBT.Validator.Syntax.hostnameOrIp=function(c){try{RBT.Validator.Syntax.hostname(c)}catch(b){try{RBT.Validator.Syntax.ipv4addr(c)}catch(a){throw"A valid hostname or IP address is required."}}};RBT.Validator.Syntax.hostnameOrIpList=function(d){try{var b=d.split(",");for(var a=0;a<b.length;a++){RBT.Validator.Syntax.hostnameOrIp(Y.Lang.trim(b[a]))}}catch(c){throw"A comma-delimited list of hostnames or IP addresses is required."}};RBT.Validator.Syntax.date=function(a){RBT.Validator.Syntax._parseDate(a)};RBT.Validator.Syntax.time=function(a){RBT.Validator.Syntax._parseTime(a)};RBT.Validator.Syntax.duration=function(e){var a="Length of time (or duration) must be in the form h:m:s.";var d=e.split(":");if(d.length<=0||d.length>3){throw a}for(var c=0;c<d.length;c++){var b=d[c].match(/^\d+$/);if(!b){throw a}}};RBT.Validator.Syntax.time_hms=function(a){RBT.Validator.Syntax.time(a)};RBT.Validator.Syntax.datetime=function(d){var a="Date and time must be of the form YYYY/MM/DD HH:MM:SS.";var b=d.match(/^(\d\d\d\d\/\d{1,2}\/\d{1,2})\s+(\d\d:\d\d:\d\d)$/);if(!b){throw a}try{RBT.Validator.Syntax._parseDate(b[1]);RBT.Validator.Syntax._parseTime(b[2])}catch(c){throw a}};RBT.Validator.Syntax.datetime_sec=function(a){RBT.Validator.Syntax.datetime(a)};RBT.Validator.Syntax.qosName=function(a){if(a.indexOf("/")>=0){throw"A name cannot contain slashes ('/')."}};RBT.Validator.Syntax.name=function(a){if(!a.match(/^[\w\-]+$/)){throw"A valid name is necessary (alphanumeric, underscore, hyphen only)."}};RBT.Validator.Syntax.name_sp=function(a){if(a.match(/^ /)||a.match(/ $/)){throw"Names cannot have leading or trailing spaces."}if(!a.match(/^[\w\- ]+$/)){throw"A valid name is necessary (alphanumeric, underscore, hyphen, space only)."}};RBT.Validator.Syntax.username=function(a){if(!a.match(/^[a-z0-9_\-]+$/)){throw'User names may only contain lowercase letters, numbers, dashes ("-") and underscores ("_").'}};RBT.Validator.Syntax.restrictedPathElement=function(a){if(!a.match(/^[\w\-][\w\-.]{0,254}$/)){throw"A valid filename is necessary (alphanumeric, underscore, hyphen, non-leading period only)."}};RBT.Validator.Syntax.password=function(g,d,c,e){var b=Y.Node.getDOMNode(d);var f=b;var a=b;if(/Confirm$/.test(b.name)){f=b.form.elements[b.name.substr(0,b.name.length-"Confirm".length)]}else{a=b.form.elements[b.name+"Confirm"]}if(b==a){if(b==document.activeElement){RBT.Validator.validateField(f)}if(f.value!=a.value){throw"Primary and confirmation passwords do not match."}}else{if(b==document.activeElement){RBT.Validator.validateField(a)}if(c&&(b.value.length<c)){throw"Password must be at least "+c+" characters long."}if(e&&(b.value.length>e)){throw"Password must be no more than "+e+" characters long."}if(a&&(f.value!=a.value)){throw"Primary and confirmation passwords do not match."}}};RBT.Validator.Syntax.url=function(a){if(!a.match(/^(http|https|ftp|scp):\/\/./)){throw"The URL must be &lt;protocol&gt;://&lt;location&gt;."}};RBT.Validator.Syntax.checkRiverbedSupportUrl=function(a){RBT.Validator.Syntax.url(a);if(a.match(/^https:\/\/support.riverbed.com/i)){throw"Upgrades made directly from the Riverbed Support Site (https://support.riverbed.com) will fail since the site currently does not have the ability to authenticate the appliance. Instead, download the image and use the local file for the upgrade."}};RBT.Validator.Syntax.destinationUrl=function(a){if(!a.match(/^(ftp|scp):\/\/./)){throw"The URL must be &lt;protocol&gt;://&lt;location&gt;, ftp or scp only."}};RBT.Validator.Syntax.regex=function(c){try{var a=new RegExp(c)}catch(b){throw"Error in regular expression: "+b.message+"."}};RBT.Validator.Syntax.sharePath=function(a){if(a.length>80){throw"Share path is longer than 80 characters."}if(a.match(/["\/\[\]:|<>+=;,*?&\x7F\x00-\x1F]/g)){throw'Invalid character(s) in share path. Illegal characters are:<br/>&nbsp;&nbsp;&nbsp;&nbsp;" / [ ] : | < > + = ; , * ? & and non-printing ASCII characters'}if(!a.match(/^\\\\[^\\]+(\\[^\\]+)+$/)){throw"A valid share path is required."}};RBT.Validator.Syntax.email=function(a){if(!a.match(/^\S+$/)){throw"Invalid email address."}};RBT.Validator.Syntax.emailList=function(d){try{var b=d.split(",");for(var a=0;a<b.length;a++){RBT.Validator.Syntax.email(Y.Lang.trim(b[a]))}}catch(c){throw"A comma-delimited list of email addresses is required."}};RBT.Validator.Syntax.vlan=function(h,d,b,c){h=h.toLowerCase();var f=b?b:1;var a=c?c:4094;if((h!="all")&&(h!="untagged")){try{RBT.Validator.Syntax.intInRange(h,null,f,a)}catch(g){throw"\u201Call\u201D, \u201Cuntagged\u201D, or an integer between "+f+" and "+a+" is required."}}};RBT.Validator.Syntax.iqn=function(c){var b=c.match(/^iqn\.\d{4}\-\d{2}\.\S+$/);var a=c.match(/^eui\.[A-Fa-f0-9]{16}$/);if(!b&&!a){throw"A valid IQN is required."}};RBT.Validator.Syntax.setPortLabels=function(a){RBT.Validator.Syntax._portLabels=a};RBT.Validator.Syntax.setHostLabels=function(a){RBT.Validator.Syntax._hostLabels=a};RBT.Validator.Syntax._parseDelimitedList=function(a,c){a=a.replace(/\r/g,"");c=c||",";var d=a.split(c);for(var b=0;b<d.length;){d[b]=Y.Lang.trim(d[b]);if(""==d[b]){d.splice(b,1)}else{b++}}return d};RBT.Validator.Syntax._parseIntegerRange=function(e,b,a,d,c){if(e.match(/^\-?\d+$/)){var f=parseInt(e,10);if((b<=f)&&(f<=a)){return}if(c){throw c}}throw d};RBT.Validator.Syntax._parseIpv4Addr=function(d,e){var b="A legal IPv4 address (nnn.nnn.nnn.nnn) is required.";var a=d.match(/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/);if(!a){throw b}a.shift();for(var c=0;c<a.length;c++){a[c]=parseInt(a[c],10);if(a[c]>255){throw b}}if(!e&&!a[0]&&!a[1]&&!a[2]&&!a[3]){throw b}return a};RBT.Validator.Syntax._parseIpv4Prefix=function(g){var a="A legal IPv4 address with mask bits (nnn.nnn.nnn.nnn/mm) is required.";var b=g.match(/^(\d+\.\d+\.\d+\.\d+)\/(\d+)$/);if(!b){throw a}b.shift();var f=RBT.Validator.Syntax._parseIpv4Addr(b[0],true);var e=parseInt(b[1],10);if(32<e){throw a}for(var d=0;d<4;d++){var c=Math.max(0,e-(8*d));if(c<8){if(((1<<(8-c))-1)&f[d]){throw a}}}return[f,e]};RBT.Validator.Syntax._parsePort=function(b){if(b.match(/^\d+$/)){var a=parseInt(b,10);if((1<=a)&&(a<=65535)){return a}}throw"A valid port number (1 to 65535) is required."};RBT.Validator.Syntax.portOrAll=function(b){try{if("all"!=b.toLowerCase()){RBT.Validator.Syntax._parsePort(b)}else{return 0}}catch(a){throw"A valid port number (1 to 65535) is required."}};RBT.Validator.Syntax._parsePortLabel=function(b){if(!RBT.Validator.Syntax._portLabels){if(b.match(/^[\w\-]+$/)){return b}else{throw"Invalid port label."}}else{if("all"==b.toLowerCase()){return b}for(var a=0;a<RBT.Validator.Syntax._portLabels.length;++a){if(b==RBT.Validator.Syntax._portLabels[a]){return b}}throw"A valid port label is required."}};RBT.Validator.Syntax._parseHostLabel=function(b){if(!RBT.Validator.Syntax._hostLabels){if(b.match(/^[\w\-]+$/)){return b}else{throw"Invalid host label."}}else{for(var a=0;a<RBT.Validator.Syntax._hostLabels.length;++a){if(b==RBT.Validator.Syntax._hostLabels[a]){return b}}throw"A valid host label is required."}};RBT.Validator.Syntax._parsePortRange=function(d){try{var c=d.split("-");if(1==c.length){return RBT.Validator.Syntax._parsePort(d)}else{if(2==c.length){var a=RBT.Validator.Syntax._parsePort(c[0]);var f=RBT.Validator.Syntax._parsePort(c[1]);if(a<f){return[a,f]}}}}catch(b){}throw"A port or range of port values is required."};RBT.Validator.Syntax._parseDate=function(e){if(!e.match(/^\d\d\d\d\/\d{1,2}\/\d{1,2}$/)){throw"Date format is yyyy/mm/dd."}var c=e.split("/");var f=parseInt(c[0],10);var d=parseInt(c[1],10);var b=parseInt(c[2],10);if((1900<=f)&&(1<=d)&&(d<=12)&&(1<=b)&&(b<=31)){var a=new Date();a.setFullYear(f,d-1,b);if(a.getMonth()==d-1){return e}}throw"Invalid Date."};RBT.Validator.Syntax._parseTime=function(e){if(!e.match(/^\d\d:\d\d:\d\d$/)){throw"Time format is HH:MM:SS."}var c=e.split(":");var b=parseInt(c[0],10);var d=parseInt(c[1],10);var a=parseInt(c[2],10);if((b<24)&&(d<60)&&(a<60)){return a+d*60+b*3600}throw"Time format is HH:MM:SS."};RBT.Validator.Syntax.englishTimeInterval=function(e){var c=e.replace(/,/g," ").split(" ");var a=[];for(var g=0;g<c.length;g++){var b=Y.Lang.trim(c[g]);if(b!=""){a.push(b)}}if(a.length%2!==0){throw"A valid time interval is required."}var d=new RegExp("^\\d+(\\.\\d+)?$");var j={week:0,weeks:0,wk:0,wks:0,day:0,days:0,hour:0,hours:0,hr:0,hrs:0,minute:0,minutes:0,min:0,mins:0,second:0,seconds:0,sec:0,secs:0};for(g=0;g<a.length;g+=2){var f=a[g];var h=a[g+1];if(!f.match(d)){throw"\u201C"+f+"\u201D is not a valid number."}if(!(h in j)){throw"\u201C"+h+"\u201D is not a valid unit."}}};var compat=new Object();if(!window.Node){var Node={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}compat.nodeNames=["NO_NODE","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE"];compat.MSIE=("Microsoft Internet Explorer"==navigator.appName);if(compat.MSIE){var versionResult=navigator.appVersion.match(/MSIE (\d+)/);if(null!=versionResult&&2==versionResult.length){compat.MSIE=parseInt(versionResult[1],10)}}if(!document.getElementById){alert("Your browser is obsolete,\nand our GUI will not operate\ncorrectly in it.")}else{function $(b,a){if("string"==typeof(b)){b="#"+b}return(a)?Y.one(b):Y.Node.getDOMNode(Y.one(b))}compat.preLoad=true;compat.find=function(b,c){for(var a=0;a<b.length;++a){if(b[a]==c){return a}}return -1};compat.within=function(a,b){return(compat.find(a,b)>-1)?true:false};compat.classOf=function(b){var a=typeof b;if(!b){a="null"}else{if(a=="object"){a=Object.prototype.toString.apply(b);if(a.indexOf("[object ")==0){a=a.substring("[object ".length,a.length-1)}if(a.toLowerCase()=="object"){a=(b.id)?b.id:((b.className)?b.className:((b.nodeName)?((b.nodeType==Node.ELEMENT_NODE)?b.nodeName:compat.nodeNames[b.nodeType]):a))}}}return a};compat.slice=function(b,e,c){var a=new Array();if(!c){c=b.length}c=Math.min(c,b.length);for(var d=e;d<c;++d){a.push(b[d])}return a};compat.console=document.createDocumentFragment();compat.handleLoadEvent_=function(b){if(!compat.preLoad){return}var a=compat.console;compat.console=$("console");if(compat.console){compat.clearConsole();compat.console.appendChild(a);compat.preLoad=false}};compat.clearConsole=function(){var a=null;while(compat.console&&(a=compat.console.firstChild)){compat.console.removeChild(a)}};compat.writeConsole=function(b){var a=document.createTextNode(b);compat.console.appendChild(a)};if(document.defaultView&&document.defaultView.getComputedStyle){compat.getComputedStyle=function(b,a){return document.defaultView.getComputedStyle(b,a)};compat.getPropertyValue=function(a,b){return a.getPropertyValue(b)};compat.setProperty=function(b,d,c,a){b.setProperty(d,c,a)}}else{compat.getComputedStyle=function(b,a){if(b.currentStyle){return b.currentStyle}else{if(b.style){return b.style}else{return null}}};compat.getPropertyValue=function(a,b){return a?a[b]:null};compat.setProperty=function(b,d,c,a){if(b){b[d]=c}}}if(window.addEventListener){compat.fixEvent=function(a){return a};compat.addListener=function(c,b,a,d){if(!c.addEventListener){throw (new Error("compat.addListener: el is a "+compat.classOf(c)))}c.addEventListener(b,a,d)};compat.removeListener=function(c,b,a,d){c.removeEventListener(b,a,d)};compat.createEvent=function(a){return document.createEvent(a)};compat.dispatchEvent=function(a,b){return a.dispatchEvent(b)};compat.addResizeListener=function(a){window.addEventListener("resize",a,false)}}else{compat.IEevent=function(){if(!window.event){return}for(var a in window.event){this[a]=window.event[a]}this.relatedTarget=((window.event.toElement==window.event.srcElement)?window.event.fromElement:window.event.toElement);this.target=window.event.srcElement?window.event.srcElement:window;this.layerX=((typeof window.event.offsetX!="undefined")?window.event.offsetX:Number.NaN);this.layerY=((typeof window.event.offsetY!="undefined")?window.event.offsetY:Number.NaN)};new compat.IEevent();compat.IEevent.prototype.stopPropagation=function(){window.event.cancelBubble=true;this.cancelBubble=true};compat.IEevent.prototype.preventDefault=function(){window.event.returnValue=false;this.returnValue=false};compat.fixEvent=function(a){if((a&&!a.target)||(window.event)){a=new compat.IEevent()}return a};if(document.attachEvent){compat.addListener=function(c,b,a,d){c.attachEvent("on"+b,a)};compat.removeListener=function(c,b,a,d){c.detachEvent("on"+b,a)};compat.addResizeListener=function(a){compat.addLaggedListener(window,"resize",a,false)}}else{}compat.createEvent=function(a){var b=document.createEventObject();switch(a){case"HTMLEvents":b.initEvent=function(d,c,e){b.synth={eventType:d,bubblesFlag:c,cancelableFlag:e}};break;case"UIEvents":b.initEvent=function(e,d,f,c,g){b.synth={eventType:e,bubblesFlag:d,cancelableFlag:f,view:c,detailVal:g}};break;case"MouseEvents":b.initMouseEvent=function(f,p,j,m,q,i,h,g,e,n,o,d,l,c,k){b.synth={eventType:f,bubblesFlag:p,cancelableFlag:j,view:m,detailVal:q,screenX:i,screenY:h,clientX:g,clientY:e,ctrlKeyFlag:n,altKeyFlag:o,shiftKeyFlag:d,metaKeyFlag:l,buttonCode:c,relatedTargetNodeRef:k}};break;case"KeyEvents":b.initKeyEvent=function(d,j,e,f,i,k,c,g,h,l){b.synth={eventType:d,bubblesFlag:j,cancelableFlag:e,view:f,ctrlKeyFlag:i,altKeyFlag:k,shiftKeyFlag:c,metaKeyFlag:g,keyCode:h,charCode:l}};break;case"MutationEvents":b.initEvent=function(f,c,h,g,j,i,e,d){b.synth={eventType:f,bubblesFlag:c,cancelableFlag:h,relatedNode:g,prevValue:j,newValue:i,attrName:e,attrChangeCode:d}};break}return b};compat.dispatchEvent=function(c,d){var b=d.synth;var a=b.eventType;return c.fireEvent("on"+a,d)}}compat.addLaggedListener=function(c,a,d,i){var e="timeout_"+a;var f="lag_"+a;var b=100;var h=function(){if(c[e]){window.clearTimeout(c[e]);c[e]=null}var j=null;if(c[f]){j=c[f];c[f]=null}d(j)};var g=function(j){if(c[e]){window.clearTimeout(c[e]);c[e]=null}c[e]=window.setTimeout(h,b);c[f]=compat.fixEvent(j)};compat.addListener(c,a,g,i)};compat.addListener(window,"load",compat.handleLoadEvent_)};var onloadScript="";var nonConfigForms=[];var pagePermission="write";var BOGUS_PASSWORD="******";var portLabels=null;var MSIE=("Microsoft Internet Explorer"==navigator.appName);if(MSIE){var versionResult=navigator.appVersion.match(/MSIE (\d+)/);if(null!==versionResult&&2===versionResult.length){MSIE=parseInt(versionResult[1],10)}}function hasAttribute(a,b){if(a.hasAttribute){return a.hasAttribute(b)}else{return(a.getAttribute(b)!==null)}}function msieSelectBugSetup(b){for(var a=0;a<b.options.length;a++){b.options[a].style.color=(b.options[a].disabled)?"GrayText":"ButtonText"}}function msieSelectBugOnFocus(a){a.selectedIndexSaved=a.selectedIndex}function msieSelectBugOnChange(a){if(a.options[a.selectedIndex].disabled){a.selectedIndex=a.selectedIndexSaved}else{a.selectedIndexSaved=a.selectedIndex}}function getElementClass(a){return a.className}function setElementClass(b,a){b.className=a}function getAttributeValueOrDefault(b,a,c){var d=b.getAttributeNode(a);return null===d?c:d.value}function enableElements(a,b){a=$(a);if(!a){return}var d=("write"==pagePermission);if(!d){var e=getLowestOfType(a,"FORM");if(e){d=arrayContains(nonConfigForms,e.id)}}var c=!b||"hide"==b||!d;enableFormElements(a,!c);if("hide"==b){adjustElementClass(a,"hidden","dimmed")}else{if(b){adjustElementClass(a,null,"dimmed");adjustElementClass(a,null,"hidden")}else{adjustElementClass(a,"dimmed","hidden")}}}function enableFormElements(a,d){var f=["INPUT","SELECT","BUTTON","TEXTAREA"];for(var c=0;c<f.length;c++){if(f[c]==a.tagName){a.disabled=!d}var b=a.getElementsByTagName(f[c]);for(var g=0;g<b.length;g++){b.item(g).disabled=!d}}}function adjustElementClass(b,a,g){b=$(b);var f=b.className;var e=(f)?f.split(" "):new Array(0);var d=false;if(a&&!arrayContains(e,a)){e.unshift(a);d=true}if(g){for(var c=0;c<e.length;c++){if(g==e[c]){e.splice(c,1);d=true;break}}}if(d){b.className=e.join(" ")}}function arrayContains(c,b){for(var a=0;a<c.length;a++){if(b==c[a]){return true}}return false}function arrayRemove(c,b){for(var a=0;a<c.length;){if(b==c[a]){c.splice(a,1)}else{a++}}}function stringStartsWith(c,a){if(c.length<a.length){return false}for(var b=0;b<a.length;b++){if(c.charAt(b)!=a.charAt(b)){return false}}return true}var _num_re=/\d+/;var _alphanum_re=/\d+|\D+/;var _alphanum_c0="0".charCodeAt(0);var _alphanum_c9="9".charCodeAt(0);function alphanumericCompare(f,e){if(!f||!e){return(f)?+1:(e)?-1:0}var j=f.charCodeAt(0);var h=e.charCodeAt(0);if((_alphanum_c0<=j)&&(j<=_alphanum_c9)&&(_alphanum_c0<=h)&&(h<=_alphanum_c9)){var l=parseInt(f,10);var k=parseInt(e,10);if(l<k){return -1}if(l>k){return +1}return alphanumericCompare(f.substr(f.match(_num_re)[0].length),e.substr(e.match(_num_re)[0].length))}var d=f.charAt(0).toLowerCase();var c=e.charAt(0).toLowerCase();if(d<c){return -1}if(d>c){return +1}var g=f.match(_alphanum_re);var i=e.match(_alphanum_re);if(!g||!i){return(g)?+1:(i)?-1:0}var a=g[0].toLowerCase();var b=i[0].toLowerCase();return(a==b)?alphanumericCompare(f.substr(a.length),e.substr(b.length)):(a<b)?-1:+1}function objectStringSubstitution(e,b){var c=""+b;var d=new RegExp("","g");var a=null;for(a in e){d.compile("\\%\\("+a+"\\)s","g");c=c.replace(d,e[a])}return c}function radioValue(c,a){if("string"==typeof c){c=document.getElementById(c);if(!c){return null}}var d=c.elements[a];for(var b=0;b<d.length;++b){if(d[b].checked){return d[b].value}}return null}function getFormValue(e,b){var g=$(e);if(!g){return null}for(var d=0;d<g.elements.length;d++){var f=g.elements[d];if(b==f.name){switch(f.tagName){case"INPUT":switch(f.type){case"checkbox":return f.checked;case"radio":if(f.checked){return f.value}break;default:return f.value}break;case"SELECT":if(f.multiple){var h=[];for(var a=0;a<f.options.length;a++){var c=f.options[a];if(c.selected){h.push(f.options[a].value)}}return h}else{if(f.selectedIndex>=0&&f.selectedIndex<f.options.length){return f.options[f.selectedIndex].value}}break;case"TEXTAREA":return f.value}}}return null}function getFormElement(c,a){if("string"==typeof c){c=document.getElementById(c);if(!c){return null}}for(var b=0;b<c.elements.length;b++){if(a==c.elements[b].name){return c.elements[b]}}return null}function setFormValue(c,a,e){c=$(c);if(!c){return}for(var g=0;g<c.elements.length;g++){var d=c.elements[g];if(a==d.name){switch(d.tagName){case"INPUT":switch(d.type){case"checkbox":d.checked=(true===e)||("true"===e);return;case"radio":if(e==d.value){d.checked=true;return}break;default:d.value=e;return}break;case"SELECT":if(d.multiple){var h=(typeof(e.length)=="undefined")?[""+e]:e;var k={};for(var f=0;f<h.length;f++){k[h[f]]=1}for(var f=0;f<d.options.length;f++){var b=d.options[f];b.selected=!!k[b.value]}}else{for(var f=0;f<d.options.length;f++){if(e==d.options[f].value){d.selectedIndex=f;return}}d.selectedIndex=0}break;case"TEXTAREA":d.value=e;return}}}}function populateSelect(d,c,b){var e=getFormElement(d,c);while(e.options.length){e.remove(0)}for(var a=0;a<b.length;++a){if(typeof b[a]==typeof""){e.options[a]=new Option(b[a],b[a])}else{e.options[a]=new Option(b[a][1],b[a][0]);e.options[a].disabled=b[a][2]?true:false}}}function submitPrep(d){var g=getParentOfType(d,"FORM");var f=g.getElementsByTagName("input");var h=[];for(var e=0;e<f.length;e++){var c=f.item(e);if(("checkbox"==c.type)&&(!c.disabled)&&(!c.checked)){h.push(c.name)}}if(getFormElement(g,"unchecked")===null){var a=document.createElement("input");a.type="hidden";a.name="unchecked";a.value=h.join(",");g.appendChild(a)}else{getFormElement(g,"unchecked").value=h.join(",")}if(!getFormElement(g,"_fragment")){var b=document.createElement("input");b.type="hidden";b.name="_fragment";g.appendChild(b)}getFormElement(g,"_fragment").value=window.location.hash;return true}function getParentOfType(a,b){do{a=a.parentNode;if(!a){return null}if(b.toUpperCase()==a.nodeName){return a}}while(true)}function getLowestOfType(b,a){do{if(!b){break}if(Node.ELEMENT_NODE==b.nodeType&&a==b.nodeName){break}b=b.parentNode}while(true);return b}function isAncestor(a,b){do{a=a.parentNode;if(!a){return false}if(b==a){return true}}while(true)}function setElementText(a,c){try{a=$(a);if(!a){return}removeChildren(a);if(c!=null){a.appendChild(document.createTextNode(c))}}catch(b){}}function setElementTextWithLines(b,e){try{b=$(b);if(!b){return}removeChildren(b);if(e){var a=e.split(";");for(var c=0;c<a.length;c++){if(c){b.appendChild(document.createElement("br"))}b.appendChild(document.createTextNode(a[c]))}}}catch(d){}}function revealSection(b,d){var a=document.getElementById(b+"_button");var c=document.getElementById(b+"_div");if(d){a.style.display="none";c.style.display="block"}else{a.style.display="";c.style.display="none"}return false}function revealClick(b,a){$(b+"_button").checked=a;_updateUpdateable(["reveal",b+"_button",b+"_div"]);return false}String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};function simpleAjaxRequest(a,e,d,f,b){e=e||"GET";d=d||"";var c=newAjaxRequest(a);if(c===null){return}setReadyStateChangeFunc(c,function(){if(f){f.call(b,c);c.onreadystatechange=new Function()}});c.send(d)}function newAjaxRequest(a,b){var c=null;if(MSIE){c=new ActiveXObject("Microsoft.XMLHTTP")}else{c=new XMLHttpRequest()}c.open("POST",a,!b);c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");return c}var HTTP_UNAUTHENTICATED_STATUS_CODE=403;function setReadyStateChangeFunc(c,b,a){c.onreadystatechange=function(){try{if(HTTP_UNAUTHENTICATED_STATUS_CODE==c.status){refreshWithReason(c)}else{if(a||4==c.readyState){if(((200<=c.status)&&(c.status<300))||0===c.status){b()}}}}catch(d){}}}function ajaxPostForm(a,h){var b=a.form;var l=b.getElementsByTagName("INPUT");var f=[];if("button"==a.type){f.push((escape(a.name))+"="+escape(a.value))}for(var g=0;g<l.length;g++){var m=l[g];if("disabled"!=m.disabled){if("checkbox"==m.type){f.push(escape(m.name)+"="+((m.checked)?"true":"false"))}else{if("button"!=m.type){f.push(escape(m.name)+"="+escape(m.value))}}}}var k=b.getElementsByTagName("SELECT");for(var e=0;e<k.length;e++){var c=k[e];if("disabled"!=c.disabled){f.push(escape(c.name)+"="+escape(c.value))}}var d=newAjaxRequest(b.action);d.send(f.join("&"))}function buttonSubmit(a){var b=document.createElement("input");b.type="hidden";b.name=a.name;b.value=a.value;a.form.appendChild(b);if(!submitPrep(a)){return false}a.form.submit();return true}function getFirstChildByTagName(b,a){a=a.toLowerCase();var c=b.firstChild;while(c){if(a==c.nodeName.toLowerCase()){return c}c=c.nextSibling}return null}function getFirstChildByClassName(b,a){var c=b.firstChild;while(c){if(-1<c.className.indexOf(a)){break}c=c.nextSibling}return c}function addQueryStringParameter(a,h,b){var e=a.split("#",2);var d=e[0].split("?",2);var g=(2==d.length)?d.pop():"";var f=[];var j=false;g=g.split("&");for(var c=0;c<g.length;c++){if(0===g[c].indexOf(h+"=")){f.push(h+"="+b);j=true}else{if(g[c]){f.push(g[c])}}}if(!j){f.push(h+"="+b)}d.push(f.join("&"));e[0]=d.join("?");return e.join("#")}function refreshWithReason(a){var c=a.statusText||"You+have+been+logged+out.";var b=""+window.location.href;b=addQueryStringParameter(b,"reason",c);window.location.href=b}function AjaxUpdater(b,a){this.requestCount=0;this.repeatTimer=null;this.retryTimer=null;this.repeatTime=5*1000;this.hsRepeatTime=1*1000;this.retryTime=60*1000;this.hsMode=0;this.hsTimeout=10*1000;this.url=b;this.index=AjaxUpdater.instances.length;AjaxUpdater.instances[this.index]=this;if(!a){onloadScript+="AjaxUpdater.sendRequest("+this.index+"); "}}AjaxUpdater.instances=[];AjaxUpdater.sendRequest=function(a){this.kill=false;AjaxUpdater.instances[a].sendRequest()};AjaxUpdater.prototype.sendRequest=function(){this.clearTimers();var b=this;var a=newAjaxRequest(this.url);this.requestCount+=1;setReadyStateChangeFunc(a,function(){b.receiveRequest(a,b.requestCount)});a.send("");this.retryTimer=setTimeout("AjaxUpdater.sendRequest("+this.index+");",this.retryTime)};AjaxUpdater.prototype.receiveRequest=function(a,b){if(b==this.requestCount){this.clearTimers();if(this.hsMode){if((this.hsMode+this.hsTimeout)<(new Date().getTime())){this.hsMode=0}}try{this.update(a);a.onreadystatechange=new Function()}catch(c){}try{if(!this.kill){this.repeatTimer=setTimeout("AjaxUpdater.sendRequest("+this.index+");",(this.hsMode)?this.hsRepeatTime:this.repeatTime)}}catch(c){}}else{alert("Received request for "+b+" but up to "+this.requestCount+".")}};AjaxUpdater.prototype.retrigger=function(a){if(a){this.goose()}this.sendRequest()};AjaxUpdater.prototype.goose=function(){this.hsMode=(new Date()).getTime()};AjaxUpdater.prototype.clearTimers=function(){if(this.retryTimer){clearTimeout(this.retryTimer);this.retryTimer=null}if(this.repeatTimer){clearTimeout(this.repeatTimer);this.repeatTimer=null}};AjaxUpdater.prototype.cancel=function(){this.kill=true;this.clearTimers()};AjaxUpdater.prototype.update=function(a){};function removeChildren(a){while(a.lastChild){a.removeChild(a.lastChild)}}function updateCookie(k,o,b){var e=document.cookie;var a=e.split(";");var c="";var l=o+":"+b;var g;for(g=0;g<a.length;g++){c=a[g];if(0===c.indexOf(k+"=")){break}else{c=""}}var m="";if(k.length<c.length){m=c.slice(k.length+1)}var h=m.split("&");var n="";var f;for(f=0;f<h.length;f++){n=h[f];if(0===n.indexOf(o+":")){break}else{n=""}}h[f]=l;var d=[];while(h.length){n=h.shift();if(n.length&&0<n.indexOf(":")){d[d.length]=n}}c=k+"="+d.join("&")+";";document.cookie=c}function popupHelp(c,e,d){var b="/help/"+c+".html";var f=[];f.push("scrollbars");f.push("resizable");f.push("location=yes");f.push("toolbar=yes");if(e){f.push("height="+e)}if(d){f.push("width="+d)}f=f.join(",");var a=window.open(b,c,f);a.focus();return false}function popupCert(b,e,a,d){var c="/mgmt/popup?p=cert&type="+e+"&name="+a;if(d){c+="&"+d}window.open(c,name.replace(/\W/g,"_"),"scrollbars,resizable,height=485,width=500").focus();return false}function popupWindow(f,c,e,d){var b="/mgmt/popup?"+f;var g=[];g.push("scrollbars");g.push("resizable");if(e){g.push("height="+e)}if(d){g.push("width="+d)}g=g.join(",");var a=window.open(b,c,g);a.focus();return false}function popupContinuousLog(c){var b="/mgmt/continuouslog?logtype="+c;var d=[];d.push("scrollbars");d.push("resizable");d.push("height=500");d.push("width=780");d=d.join(",");var a=window.open(b,"continuous_log",d);a.focus();return false}function getTextNodeText(a){if(!a){return""}if(Node.TEXT_NODE!=a.nodeType){a=a.firstChild}var b=[];while(a&&(Node.TEXT_NODE==a.nodeType)){b.push(a.nodeValue);a=a.nextSibling}return b.join("")}function reportTimeChange(b,f,e){b=Y.one(b);var d=b.get("selectedIndex");var c=b.all("option").item(d).get("value");if("cust"==c){var h=Y.one("#startend");h.removeClass("hidden");var a=h.one("#customWarning");if(a){a.removeClass("hidden")}}else{var i=f[c];var g=b.ancestor("form");setFormValue(g,"ub",i.ub);setFormValue(g,"lb",i.lb);if(!e){g.submit()}}}function fetchReport(imgID,imgSrcURL,tableName,xmlURL){var ct=new Date().getTime();imgSrcURL+="&ct="+ct;if(xmlURL){xmlURL+="&ct="+ct}var xmlSendRequest=tableName?tableName+".sendRequest('"+xmlURL+"');":null;if(imgID.length){var graphImg=$(imgID);if(graphImg){graphImg.src=imgSrcURL;if(tableName){graphImg=$(imgID);if(graphImg){graphImg.onload=function(){window.setTimeout(xmlSendRequest,1000)}}}}}else{if(xmlSendRequest){var success=function(e){eval(xmlSendRequest)};simpleAjaxRequest(imgSrcURL,"GET","",success)}}}function handlePermission(f,e,b){var a=document.getElementById(e);pagePermission=f;if("deny"==f){var h="/mgmt/gui?p=myAccount&perm=";b=b.split(" ").join("+");h+=b;window.location.href=h}else{if("read"==f){var g=a.getElementsByTagName("FORM");for(var d=0;d<g.length;++d){var c=g.item(d);if(!compat.within(nonConfigForms,c.id)){enableElements(c,false)}}}}}function disableableIntervalChange(c,a){var b=getFormElement(c.form,a);if("disabled"==c.value){b.saveValue=b.value;b.value="";b.disabled=true}else{b.disabled=false;if(b.saveValue){b.value=b.saveValue;b.saveValue=null}if(""==b.value){b.value="1"}}return true}var updateables=[];function addUpdateable(b,a,c){updateables.push([b,a,c])}function updateUpdateables(a){if(!_updateablesTop){_augmentUpdateables()}_updateUpdateables($(a));RBT.Validator.validatePage()}var _updateablesTop=null;function _augmentUpdateables(){_updateablesTop=[];for(var b=0;b<updateables.length;b++){updateables[b][2]=$(updateables[b][2]);updateables[b][3]=[]}for(var b=0;b<updateables.length;b++){var c=updateables[b][2];for(var d=false;!d;){c=c.parentNode;if(!c||("content"==c.id)){_updateablesTop.push(updateables[b]);break}for(var a=0;a<updateables.length;a++){if((b!=a)&&(c==updateables[a][2])){updateables[a][3].push(updateables[b]);d=true;break}}}}}function _updateUpdateables(c,d){if(!c){for(var a=0;a<_updateablesTop.length;a++){_updateUpdateable(_updateablesTop[a],d)}return}function b(h){for(var g=0;g<h.length;g++){var f=h[g];if(c==f[2]){for(var e=0;e<f[3].length;e++){_updateUpdateable(f[3][e],d)}return}}for(var g=0;g<h.length;g++){var f=h[g];if(isAncestor(f[2],c)){_updateUpdateable(h[g],d)}else{if(f[3]&&isAncestor(c,f[2])){b(f[3])}}}}b(_updateablesTop)}function _updateUpdateable(updateable,disableLower){var utype=updateable[0];var usrc=updateable[1];var udiv=updateable[2];var on;function enableDisplayOn(){if("string"==typeof usrc){return $(usrc).checked}else{if(usrc.length===undefined){return usrc.display(udiv.id)}else{return(usrc[1]==$(usrc[0]).value)}}}switch(utype){case"enable":if(disableLower){_updateUpdateables(udiv,true)}else{on=enableDisplayOn();enableElements(udiv,on);_updateUpdateables(udiv,!on)}break;case"display":on=enableDisplayOn();if(disableLower){if(on){adjustElementClass(udiv,null,"hidden");_updateUpdateables(udiv,true)}else{adjustElementClass(udiv,"hidden",null)}}else{if(on){enableElements(udiv,true);_updateUpdateables(udiv)}else{enableElements(udiv,"hide")}}break;case"adjustment":usrc(udiv,!disableLower);break;case"reveal":var on=$(usrc).checked||$(usrc).selected;enableElements(udiv,(on)?!disableLower:"hide");enableElements(usrc,(on)?"hide":!disableLower);if(on){_updateUpdateables(udiv,disableLower)}break;case"aet":usrc.enabledDynamic=!disableLower;usrc.update();break;case"function":if("string"==typeof usrc){usrc=eval(usrc)}if("function"==typeof usrc){if(usrc(udiv.id)){_updateUpdateables(udiv,disableLower)}}break}}function dictToUri(b,d,a){var c=-1==b.indexOf("?")?"?":"&";a=a?a+"_":"";iterateDict(d,function(f,g){if(Y.Lang.isArray(d[f])){for(var e=0;e<d[f].length;++e){b+=c+encodeURIComponent(a+f)+"="+encodeURIComponent(d[f][e]);c="&"}}else{b+=c+encodeURIComponent(a+f)+"="+encodeURIComponent(d[f])}c="&"});return b}function performRemoteCall(a,d,f,b){var c=dictToUri("/mgmt/xmldata?p="+a,d,"arg");var e=newAjaxRequest(c);setReadyStateChangeFunc(e,function(){if((e.status>=200)&&(e.status<300)){var h=e.responseXML.documentElement;if("xml"==h.tagName){h=h.firstChild}if(h.getAttribute("status")!="success"){var g=h.getAttribute("errorMsg");if(b){b(g)}else{Y.log("RPC error: "+g)}}else{if(f){f(h.childNodes[0])}}}else{if(e.status===0){}else{Y.log("RPC error: unexpected HTTP response "+e.status+" to "+a+"().")}}});e.send(null)}function collectFormFields(f,g){f=$(f);var c={};var e=false;for(var d=0;d<f.elements.length;++d){var a=f.elements[d];if(!a.disabled){switch(a.type){case"fieldset":case undefined:break;case"text":case"textarea":case"hidden":case"password":case"select-one":case"file":c[a.name]=a.value;break;case"checkbox":case"radio":if(a.checked){c[a.name]=a.value}break;case"submit":if(a.name==g){c[a.name]=a.value;e=true}break;case"select-multiple":c[a.name]=[];for(var b=0;b<a.options.length;++b){if(a.options[b].selected){c[a.name].push(a.options[b].value)}}break;case"button":break;default:alert("collectFormFields(): input type "+a.type+" not handled yet");break}}}if(g&&!e){alert('collectFormFields(): submit button "'+g+'" not found')}return c}function collectPrefixedFormFields(c,a,e){var b={};var d=collectFormFields(c,e);iterateDict(d,function(f,g){if(f.indexOf(a)===0){b[f.substring(a.length)]=g}});return b}function clearFormTextFields(b){for(var a=0;a<b.elements.length;++a){switch(b.elements[a].type){case"text":case"textarea":case"password":b.elements[a].value="";break}}}function iterateDict(c,a){for(var b in c){if(typeof c[b]=="string"||Y.Lang.isArray(c[b])){a(b,c[b])}}}function Meter(a){this.name=a;this.inProgress=false;this.pollUrl="";this.formId="";this.meterId="";this.completeCallback=null;this.state="";this.liveStatus=null;this.description="";this.unloadWarningMsg=""}Meter.prototype.startPolling=function(a,b){var c=this;c.state=a?"start":"";var d={};if(this.unloadWarningMsg!=""){setBeforeUnload(Y.bind(this._unloadWarning,this))}if(a){this.inProgress=true;var f=Y.one(b).get("name");d=collectFormFields(c.formId,f);d.clientState="start";this.liveStatus.show("Operation in progress.",false)}var g=dictToUri(c.pollUrl,d);var e=new AjaxUpdater(g,true);e.repeatTime=1000;e.update=function(i){if((i.status>=200)&&(i.status<300)){var j=i.responseXML.documentElement;if("xml"==j.tagName){j=j.firstChild}var h=j.getAttribute("description")||"";if(h){c.liveStatus.show(h,false)}c.state=j.getAttribute("state");if(c.state){d.clientState=c.state;e.url=dictToUri(c.pollUrl,d)}if("done"==c.state&&"function"==typeof c.completeCallback){c.completeCallback(j)}if(!c.state||"done"==c.state){e.cancel();c.inProgress=false;c.liveStatus.hide();c.state=""}RBT.Validator.validatePage()}};e.sendRequest()};Meter.prototype._unloadWarning=function(){if(this.inProgress){return this.unloadWarningMsg}return null};Meter.prototype.onClick=function(b){var a=getParentOfType(b,"FORM");Y.later(200,this,this.startPolling,[true,b],false);return true};POPUP_AFFINITY_UPPER_LEFT="popupUpperLeft";POPUP_AFFINITY_UPPER_RIGHT="popupUpperRight";POPUP_AFFINITY_LOWER_LEFT="popupLowerLeft";POPUP_AFFINITY_LOWER_RIGHT="popupLowerRight";function Popup(a,h,f){this.contentEl=$(a,true);this.domEl=Y.Node.create('<div class="popupWrapper" style="visibility: hidden" />');this.contentEl.ancestor().insertBefore(this.domEl,this.contentEl);var d=Y.Node.create('<div class="popup" />');this.domEl.appendChild(d);function m(n,i,p){var q=Y.guid();var o=Y.Node.create('<div class="'+n+'" id="'+q+'" />');d.appendChild(o);c.registerImage({domId:q,bgUrl:"/images/"+i,isPng:true});return o}var e=[{cls:"n",img:"popup_n.png"},{cls:"ne",img:"popup_corners.png"},{cls:"e",img:"popup_e.png"},{cls:"se",img:"popup_corners.png"},{cls:"s",img:"popup_s.png"},{cls:"sw",img:"popup_corners.png"},{cls:"w",img:"popup_w.png"},{cls:"nw",img:"popup_corners.png"}];this.bgDivs={};var c=new Y.ImgLoadGroup();for(var g=0;g<e.length;++g){this.bgDivs[e[g].cls]=m(e[g].cls,e[g].img,"scale")}if(h){d.addClass(h);m("arrow","popup_arrow.png","crop")}c.fetch();d.appendChild(this.contentEl);this.contentEl.setStyle("display","block");if(f&&(f.margin!==undefined)){this.contentEl.setStyles({marginTop:f.margin[0],marginBottom:f.margin[2],paddingLeft:f.margin[3],paddingRight:f.margin[1]})}else{this.contentEl.setStyles({margin:"-4px 0",padding:"0 8px"})}if(f&&(f.xOffset!==undefined)){if((h==POPUP_AFFINITY_UPPER_LEFT)||(h==POPUP_AFFINITY_LOWER_LEFT)){var b=d.getStyle("left");b=parseInt(b.slice(0,-2),10);b+=f.xOffset;d.setStyle("left",b+"px")}else{var l=d.getStyle("right");l=parseInt(l.slice(0,-2),10);l-=f.xOffset;d.setStyle("right",l+"px")}}if(f&&(f.yOffset!==undefined)){if((h==POPUP_AFFINITY_UPPER_LEFT)||(h==POPUP_AFFINITY_UPPER_RIGHT)){var k=d.getStyle("top");k=parseInt(k.slice(0,-2),10);k+=f.yOffset;d.setStyle("top",k+"px")}else{var j=d.getStyle("bottom");j=parseInt(j.slice(0,-2),10);j-=f.yOffset;d.setStyle("bottom",j+"px")}}if(f&&(f.zIndex!==undefined)){this.domEl.setStyle("zIndex",f.zIndex)}this.resize()}Popup.prototype.resize=function(){if(Y.UA.ie==6){var c=this.contentEl.get("region");var b=c.right-c.left;var a=c.bottom-c.top;this.bgDivs.n.setStyle("width",b+"px");this.bgDivs.e.setStyle("height",a+"px");this.bgDivs.s.setStyle("width",b+"px");this.bgDivs.w.setStyle("height",a+"px")}};Popup.prototype.show=function(){this.domEl.setStyle("visibility","visible")};Popup.prototype.hide=function(){this.domEl.setStyle("visibility","hidden")};function DisplayControl(){}DisplayControl.prototype.display=function(a){return true};function RadioTabControl(a,b){this.name=a;this.tabs=b;this.current=b[0][0]}RadioTabControl.prototype=new DisplayControl();RadioTabControl.prototype.display=function(b){for(var a=0;a<this.tabs.length;a++){if(this.current==this.tabs[a][0]){return this.tabs[a][1]==b}}return false};RadioTabControl.prototype.switchTo=function(a){this.current=a;this.update();updateUpdateables();return false};RadioTabControl.prototype.update=function(){for(var a=0;a<this.tabs.length;a++){var b=this.name+"_"+this.tabs[a][0]+"_title";if(this.current==this.tabs[a][0]){adjustElementClass(b,"selected",null)}else{adjustElementClass(b,null,"selected")}}};function LiveStatus(a){LiveStatus.superclass.constructor.apply(this,arguments)}LiveStatus.NAME="livestatus";LiveStatus.ATTRS={attachPoint:{value:null},visible:{value:false},defaultZIndex:{value:90}};Y.extend(LiveStatus,Y.Widget,{initializer:function(a){this.popup=null;this.clickHandler=null;this.set("zIndex",this.get("defaultZIndex"));this.fader=new Y.Anim({node:this.get("contentBox"),duration:0.5,to:{opacity:0}});this.fader.on("end",Y.bind(function(){this.popup.hide();LiveStatus.superclass.hide.call(this)},this))},renderUI:function(){var a=this.get("contentBox");var b=Y.one(this.get("attachPoint"));b.append(this.get("boundingBox"));this.backgroundEl=Y.Node.create('<div class="background"></div>').setStyle("opacity","0.5");a.append(this.backgroundEl);this.statusContainerEl=Y.Node.create('<div class="statusMessageContainer"></div>');a.appendChild(this.statusContainerEl);this.statusContainerEl.append(Y.Node.create('<table><tr><td class="icon"><img src="/images/async_progress.gif" /></td><td class="message"></td><td class="close"><div style="display: none"></td></tr></table>'));this.popup=new Popup(this.statusContainerEl,null,{margin:["-2px","1px","-2px","1px"],zIndex:100})},bindUI:function(){Y.on("scroll",this._positionMessage,null,this);Y.on("resize",this._positionMessage,null,this)},_setStatusMessage:function(b,a){setElementText(this.statusContainerEl.one("td.message"),b);this.popup.resize();this._positionMessage()},_positionMessage:function(){if(!this.get("visible")){return}if(Y.UA.ie==6){var g=Y.one(this.get("attachPoint")).get("region");var j=this.get("contentBox");j.setStyles({width:g.width+"px",height:g.height+"px"});j.one("div.background").setStyles({width:g.width+"px",height:g.height+"px"})}var c=Y.DOM.viewportRegion();var k=this.get("contentBox").get("region");var h=this.get("contentBox").intersect(c);if(h.top>=h.bottom){return}var f=(h.bottom+h.top)/2;var b=f-k.top;var e=this.statusContainerEl.get("region");var a=e.bottom-e.top;var d=b-(a/2);var i=k.bottom-k.top;if(d<20){d=20}else{if(d>(i-a-20)){d=i-a-20}}this.popup.domEl.setStyle("top",d+"px");this.popup.domEl.setStyle("left","6em")},_shouldAnimateOverlay:function(){return(Y.UA.ie!=6)&&(Y.UA.ie!=7)},show:function(c,a){if(this.fader.get("running")){this.fader.stop()}var b=this.statusContainerEl.one("img");var d=this.statusContainerEl.one("td.close div");if(a){b.set("src","/images/async_error.png");d.setStyle("display","block");this.statusContainerEl.setStyle("cursor","pointer");this.clickHandler=Y.on("click",function(f){this.hide()},this.statusContainerEl,this)}else{if(!/async_progress\.gif$/.test(b.get("src"))){b.set("src","/images/async_progress.gif")}d.setStyle("display","none");this.statusContainerEl.setStyle("cursor","default");if(this.clickHandler){this.clickHandler.detach();this.clickHandler=null}}enableFormElements(Y.one(this.get("attachPoint")),false);this._setStatusMessage(c,a);this.popup.show();LiveStatus.superclass.show.call(this);this._positionMessage();if(this._shouldAnimateOverlay()){this.get("contentBox").setStyle("opacity","1")}},hide:function(a){if(this.clickHandler){this.clickHandler.detach();this.clickHandler=null}if(this.fader.get("running")){this.fader.stop()}if(!a&&this._shouldAnimateOverlay()){this.fader.run()}else{this.popup.hide();LiveStatus.superclass.hide.call(this)}enableFormElements(Y.one(this.get("attachPoint")),true)}});LiveStatus=Y.Base.build(LiveStatus.NAME,LiveStatus,[Y.WidgetStack],{dynamic:false});function ModalOverlay(b,a){this.overlayEl=$(b,true);this.overlayEl.setStyles({display:"none",position:"absolute",zIndex:""+a});this.backgroundEl=Y.Node.create('<div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: black" />');this.backgroundEl.setStyle("opacity","0.5");this.overlayEl.insertBefore(this.backgroundEl,this.overlayEl.get("children").item(0));this.anim=new Y.Anim({node:this.overlayEl,duration:0.2});if(this.canAnimate()){this.overlayEl.setStyle("opacity","0")}}ModalOverlay.prototype.canAnimate=function(){if((Y.UA.ie==6)||(Y.UA.ie==7)){return false}else{if(Y.UA.ie==8){return false}else{return true}}};ModalOverlay.prototype.show=function(){var a=Y.DOM.docWidth();var b=Y.DOM.docHeight();this.overlayEl.setStyle("display","block");if(this.canAnimate()){this.anim.set("to",{opacity:1}).run()}if(Y.UA.ie==6){this.backgroundEl.setStyles({position:"absolute",width:a+"px",height:b+"px"});this.backgroundEl.setXY([0,0])}};ModalOverlay.prototype.hide=function(){if(this.canAnimate()){var a=this;this.anim.set("to",{opacity:0});this.anim.on("end",function(){a.overlayEl.setStyle("display","none");a.anim.detachAll()});this.anim.run()}else{this.overlayEl.setStyle("display","none")}};function ModalDialog(a,d,c){this.affinity=d;this.position=null;if(d==POPUP_AFFINITY_UPPER_LEFT){this.bubbleOffset=[4,0]}else{if(d==POPUP_AFFINITY_LOWER_LEFT){this.bubbleOffset=[4,0]}else{if(d==POPUP_AFFINITY_UPPER_RIGHT){this.bubbleOffset=[-4,0]}else{if(d==POPUP_AFFINITY_LOWER_RIGHT){this.bubbleOffset=[-4,0]}else{this.bubbleOffset=[0,0]}}}}var a=$(a,true);var b=Y.Node.create("<div />");a.replace($(b));b.appendChild(a);this.bubblePopup=new Popup(a,d,{xOffset:this.bubbleOffset[0],yOffset:this.bubbleOffset[1]});this.bubblePopup.domEl.setStyle("visibility","visible");this.grayBackground=new ModalOverlay(b,c)}ModalDialog.prototype.setPositionEl=function(a){var c=$(a,true).get("region");var b=c.top+(c.height/2);if((this.affinity==POPUP_AFFINITY_LOWER_RIGHT)||(this.affinity==POPUP_AFFINITY_UPPER_RIGHT)){this.position=[c.left,b]}else{this.position=[c.right,b]}};ModalDialog.prototype.resize=function(){this.bubblePopup.resize()};ModalDialog.prototype.show=function(){this.grayBackground.show();this.resize();if(this.position!==null){this.bubblePopup.domEl.setXY(this.position)}};ModalDialog.prototype.hide=function(){this.grayBackground.hide()};var simpleModalDialog=function(b,c,f,h){var d;var g=simpleModalDialog.md;if(g===undefined){d=Y.Node.create('<div id="modalWrapper" style="display:none;" />');var e=Y.one("body");e.appendChild(d);g=new ModalDialog(d,f,1000);simpleModalDialog.md=g}else{d=Y.one("#modalWrapper")}g.setPositionEl(b);d.get("childNodes").each(function(l,k,m){l.remove()});var a=Y.Node.create("<div><span>"+c+"</span></div>");if(!h){h={}}var j=h.width;if(!j){h.width="34em"}a.setStyles(h);d.append(a);var i=Y.Node.create('<div class="submitButtons"><input id="modalClose" type="button" value="OK"/></div>');Y.on("click",function(){g.hide()},"#modalClose");a.append(i);return g};function hideFormErrorMessageBox(a){hideMessageBox("formErrorMessageBox",a)}function hideActionMessageBox(a){hideMessageBox("actionMessageBox",a)}function hideMessageBox(b,a){if($(b)){if((a===undefined)||($(b).innerHTML.indexOf(a)!=-1)){if((Y.UA.ie===0)||(Y.UA.ie>7)){$(b).style.display="none"}else{Y.one("#"+b).remove()}}}}function chooseCustom(c,d,b){var e=c[d];if(!e){return}var f=e.options[e.selectedIndex].value;var a=("__RBT_CUSTOM__"==f);enableElements($(b),a?true:"hide");return a}function chooseOrSubmit(c,d,b,a){if(chooseCustom(c,d,b)){if(a){a(c)}}else{c.submit()}}function setBeforeUnload(a){window.onbeforeunload=function(b){var c=a();if(c){var b=b||window.event;if(b){b.returnValue=c}return c}}}function updateCANameIssuer(c){var b=c.value;var a=caIssuers[b];if(!a){a="Unknown"}setElementText("display_caFullName",b);setElementText("display_caIssuer",a);return true}function filterButtonForTextInputs(a,b){var b=true;Y.all("#reportParams input[type=text]").each(function(c){b=b&&(RBT.Validator.getFieldState(c)===RBT.Validator.FIELD_STATE_NORMAL)});return b}Y.on("domready",function(){Y.one("body").on("keydown",function(f){if(f.keyCode!=13){return}var d=$(f.target);var b=d.tagName;var a=d.getAttribute("type");var c=(b=="BUTTON"||b=="INPUT"&&(a=="submit"||a=="button"||a=="file"||a=="image"||a=="reset"));if(!c&&(b=="INPUT"||b=="SELECT")){if(!f.target.hasClass("enterKeySubmits")){f.preventDefault()}}})});function mergeSort(e,a){if(e.length<=1){return}var b=Math.floor(e.length/2);var d=e.splice(0,b);var c=e.splice(0,e.length);mergeSort(d,a);mergeSort(c,a);while((d.length>0)&&(c.length>0)){if(a(d[0],c[0])<=0){e.push(d.shift())}else{e.push(c.shift())}}while(d.length>0){e.push(d.shift())}while(c.length>0){e.push(c.shift())}return}function showFeedbackForm(f){function h(){RBT.rpc({url:"/mgmt/jsondata?p=sendFeedback",form:b,fields:{url:window.location},successFn:Y.bind(d,this),errorFn:function(i){alert(i)}})}function d(){this.hide();var i=new RBT.Tooltip({alignNode:f,content:"Feedback sent."}).render();i.show();Y.later(2000,null,function(){i.hide();Y.later(1000,i,i.destroy)})}var a=Y.guid();var g=Y.guid();var c=Y.guid();var e="";e+="<form>";e+='<p style="min-width: 30em;">This is an experimental feature that allows comments and suggestions to be sent to Riverbed.  If you would like a response, please enter your e-mail address.</p>';e+="<table>";e+="<tr>";e+='<td class="nodeEntry"><label class="labelPaddedRight" for="'+a+'">Your Email:</label></td>';e+='<td class="nodeEntry"><input class="wide2pt5" id="'+a+'" type="text" name="address" value="" /></td>';e+="</tr>";e+="<tr>";e+='<td class="nodeEntry"><label class="labelPaddedRight" for="'+g+'">Subject:</label></td>';e+='<td class="nodeEntry"><input class="wide2pt5" id="'+g+'" type="text" name="subject" value="" /></td>';e+="</tr>";e+="</table>";e+='<div class="nodeEntry">';e+='<label class="captionUpper" for="'+c+'">Comment:</label>';e+='<textarea id="'+c+'" name="comment" rows="8" cols="60"></textarea>';e+="<div>";e+="</form>";var b=Y.Node.create(e);new RBT.Dialog({alignNode:f,affinity:RBT.Dialog.AFFINITY_NE,content:b,contentWidth:"auto",buttons:[{label:"Submit",clickFn:h},{label:"Cancel",clickFn:RBT.Dialog.dismiss}]}).render()}function _replaceParameter(c,f,e){function g(k){var j=k.split("#");var i;if(j[0].length>0){i=Y.QueryString.parse(j[0])}else{i={}}if(e){i[f]=e}else{if(i[f]){delete i[f]}}var h=Y.QueryString.stringify(i);if(j[1]){h+="#"+j[1]}return h}var a="";var b=c.split("?");if(b[1]){a=b[0]+"?"+g(b[1])}else{var d=b[0].split("#");if(e){a=d[0]+"?"+f+"="+e}else{a=d[0]}if(d[1]){a+="#"+d[1]}}return a}function submitFormAjax(b,a){if(!submitFormAjax._responsePending){submitFormAjax._responsePending=true;RBT.rpc({url:a,form:b.form,successFn:function(c,d){window.location.href=_replaceParameter(window.location.href,"_msg",d)},errorFn:function(d){var c='<div class="ajaxErrorTitle warning">Error</div><div>'+d+"</div>";new RBT.Dialog({alignNode:b,content:c,buttons:[{label:"Close",clickFn:function(e){Y.bind(RBT.Dialog.dismiss,this)(e);submitFormAjax._responsePending=false}}]}).render()}})}}function setUserConfig(a){RBT.rpc({url:"/mgmt/jsondata?p=setUserConfigNodes",fields:a,errorFn:function(b){Y.log(b,"error")}})}function pluralize(a,c,b){if(a==1){return c}else{if(b){return b}else{return c+"s"}}}function englishTimeInterval(o,l,p,b){l=l||"";p=p?(" "+p):"";b=b||false;var d={week:"wk",day:"day",hour:"hr",minute:"min",second:"sec"};if(o<0){return l}var r=Math.round(o);if(r===0){return"0 "+(b?"sec":"seconds")+p}var f=Math.floor(r/60);r=r%60;var e=Math.floor(f/60);f=f%60;var q=Math.floor(e/24);e=e%24;var h=Math.floor(q/7);q=q%7;var k=[["week",h],["day",q],["hour",e],["minute",f],["second",r]];var j=null;var m=[];for(var g=0;g<k.length;g++){var n=k[g][0];var c=k[g][1];if(c){if(j===null){j=g}if(g<=(j+1)){n=b?d[n]:pluralize(c,n);var a=c+" "+n;m.push(a)}}}return m.join(", ")+p}function parseEnglishTimeInterval(f){var b=f.replace(/,/g," ").split(" ");var h=[];for(var e=0;e<b.length;e++){var g=Y.Lang.trim(b[e]);if(g!=""){h.push(g)}}var d=0;for(var e=0;e<h.length;e+=2){var a=parseFloat(h[e]);var c=h[e+1];if(c in {week:0,weeks:0,wk:0,wks:0}){d+=a*7*24*60*60}else{if(c in {day:0,days:0}){d+=a*24*60*60}else{if(c in {hour:0,hours:0,hr:0,hrs:0}){d+=a*60*60}else{if(c in {minute:0,minutes:0,min:0,mins:0}){d+=a*60}else{if(c in {second:0,seconds:0,sec:0,secs:0}){d+=a}}}}}}return Math.round(d)}var _reports2ChartWindowTimer=null;var _reports2ChartWindowStart=null;var _reports2ChartWindowEnd=null;var _reports2ChartWindowSize=null;var _reports2ChartWindowMode=null;function setReports2ChartWindow(d,a,c,b){if(_reports2ChartWindowTimer){_reports2ChartWindowTimer.cancel()}_reports2ChartWindowTimer=Y.later(500,null,function(){var h=Math.floor(d/1000);var g=Math.floor(a/1000);var e=g-h;var i;if(b){i="all"}else{if(c){i="attached"}else{i="absolute"}}if(_reports2ChartWindowStart==null){_reports2ChartWindowStart=h;_reports2ChartWindowEnd=g;_reports2ChartWindowSize=e;_reports2ChartWindowMode=i}var f=false;if(i=="all"){if(_reports2ChartWindowMode!="all"){f=true}}else{if(i=="attached"){if(_reports2ChartWindowMode!="attached"){f=true}else{if(e!=_reports2ChartWindowSize){f=true}}}else{if(i=="absolute"){if(_reports2ChartWindowMode!="absolute"){f=true}else{if((h!=_reports2ChartWindowStart)||(g!=_reports2ChartWindowEnd)){f=true}}}}}if(f){setUserConfig({"web/reports/chart_window_start":h,"web/reports/chart_window_end":g,"web/reports/chart_window_size":e,"web/reports/chart_window_mode":i})}_reports2ChartWindowTimer=null;_reports2ChartWindowStart=h;_reports2ChartWindowEnd=g;_reports2ChartWindowSize=e;_reports2ChartWindowMode=i})}function saveReportsTimeInterval(){var a=Y.one('select[name="per"]').get("value");var e=Y.one('input[name="lb"]').get("value");var b=Y.one('input[name="ub"]').get("value");var f=Math.floor((new Date(e+" UTC")).getTime()/1000);var d=Math.floor((new Date(b+" UTC")).getTime()/1000);var c;var g;if(a=="min5"){g="attached";c=300}else{if(a=="hour"){g="attached";c=3600}else{if(a=="day"){g="attached";c=86400}else{if(a=="week"){g="attached";c=604800}else{if(a=="month"){g="all";c=d-f}else{if(a=="cust"){g="absolute";c=d-f}}}}}}data={"web/reports/chart_window_start":f,"web/reports/chart_window_end":d,"web/reports/chart_window_size":c,"web/reports/chart_window_mode":g};submitURL="/mgmt/jsondata?p=setUserConfigNodes";requestCfg={method:"POST",on:{error:function(j,i,h){Y.log(i,"error")}},data:data,sync:true};Y.io(submitURL,requestCfg)};var allAjaxEntryTables=[];window._rbt.tables={};function AjaxEntryTable(a){this.filterBreadCrumbs=[];this.name=a;this.rowSpec=null;this.rowDescSpec=null;this.rowESpec=null;this.buttons=[];this.postProcessing=null;this.addDivId=a+"Table_addDiv";this.editRowId=a+"Table_editRow";this.editDivId=a+"Table_editDiv";this.tableId=a+"Table_table";this.emptyMessage="Table is empty.";this.dataType="XML";this.editAfterLoad=null;this.disabled=false;this.enabledDynamic=true;this.editLink=null;this.dataVersion="";this.selectAllCheckbox=null;this.sort=false;this.useFastSort=false;this.url=false;enableElements(this.editDivId,"hide");this.init();allAjaxEntryTables.push(this);window._rbt.tables[this.name]={};this.qa_signalDone=true}AjaxEntryTable._MAX_APPEND_ROW_TIME=8000;AjaxEntryTable._APPEND_TIMEOUT_EXCEPTION="incomplete appendRowsXML";AjaxEntryTable.closeTreeImage="/images/aet_tree_open.png";AjaxEntryTable.openTreeImage="/images/aet_tree_closed.png";AjaxEntryTable.treeIndent=14;AjaxEntryTable.treeImageWidth=18;AjaxEntryTable.prototype.init=function(){this.moveMode=false;this.restEditDiv();this.editMode=false;this.editName="";this.editXMLElement=null;this.docElement=null;this.itemList=null;this.timer=null;this.rowList=[];this.selectCount=0;this._lastRowAppended=-1;this.emptyTable()};AjaxEntryTable.prototype.emptyTable=function(d,c){var a=$(this.tableId).getElementsByTagName("tbody").item(0);while(a.lastChild){var b=a.lastChild;b.childRows=null;b.rowE=null;b.rowDesc=null;a.removeChild(b);shredEl(b)}this.rowList=[];if(d){var b=document.createElement("tr");var e=document.createElement("td");e.appendChild(document.createTextNode(d));e.colSpan=this.rowSpec.length;if(c){e.className=c}b.appendChild(e);a.appendChild(b)}};AjaxEntryTable.handlePermission=function(c){if("read"==c){for(var b=0;b<allAjaxEntryTables.length;b++){var d=$(allAjaxEntryTables[b].tableId);var a=getParentOfType(d,"FORM");if(!a||!arrayContains(nonConfigForms,a.id)){allAjaxEntryTables[b].disabled=true;allAjaxEntryTables[b].updatePseudoButtons()}}}};AjaxEntryTable.prototype.sendRequest=function(a,b){this.emptyTable("Loading data...","ajaxEntryTable_tableLoading");this.url=a;this.sendRequestInternal(a,b)};AjaxEntryTable.prototype.sendUpdateRequest=function(){this.sendRequestInternal(this.url+"&_updateFrom="+this.dataVersion)};AjaxEntryTable.prototype.sendRequestInternal=function(a,d){var c=newAjaxRequest(a);var b=this;setReadyStateChangeFunc(c,function(){if((200<=c.status&&c.status<300)||(0==c.status)){b.handleResponseText(c);c.onreadystatechange=new Function()}});c.send(d||"")};AjaxEntryTable.prototype.handleResponseText=function(request){if(!request.responseText){this.displayErrorMessage();return}if("csv"==this.dataType){this.setData(request.responseText)}else{if("JSON"==this.dataType){this.handleResponseJSON(request)}else{if("JSON2"==this.dataType){this.setData(eval(request.responseText))}else{var data=request.responseXML.documentElement;if("xml"==data.tagName){data=data.firstChild}this.setData(data)}}}this.postHandleResponseHook(request)};AjaxEntryTable.prototype.postHandleResponseHook=function(a){};AjaxEntryTable.prototype.setXMLData=function(a){this.setData(a)};AjaxEntryTable.prototype.setData=function(d){this.selectCount=0;if("csv"==this.dataType){if(-1!=d.substr(0,10).search(/error/i)){this.displayErrorMessage(d);return}else{this.setDataInternal(new CsvDoc(d))}}else{if("JSON2"==this.dataType){d=json2ToPseudoXML(d)}if("error"==d.tagName){if("SoftError"==d.getAttribute("type")){this.displaySoftException(getTextNodeText(d))}else{this.displayErrorMessage(getTextNodeText(d))}return}if("XML"==this.dataType){var c=d.getAttribute("_updateFrom");var b=d.getAttribute("_version");if(c&&(c==this.dataVersion)){this.updateDataInternal(d)}else{try{this.setDataInternal(d)}catch(a){if(a==AjaxEntryTable._APPEND_TIMEOUT_EXCEPTION){return}}}if(b){this.dataVersion=b}}else{this.setDataInternal(d)}}if(this.updateInterval){this.timer=setTimeout(this.name+"Table.sendUpdateRequest()",1000*this.updateInterval)}};AjaxEntryTable.prototype.setDataInternal=function(b){this.docElement=b;if("csv"==this.dataType){if(this.docElement.length){this.emptyTable();this.appendRowsCsv()}else{this.displayEmptyTable()}}else{if(this.docElement.childNodes.length){if(this._lastRowAppended==-1){this.emptyTable()}this.appendRowsXML();this.expandCollapseTreeRows()}else{this.displayEmptyTable()}}if(this.sort){this.sortTable()}this.postPopulateTableHook();if(this.editAfterLoad){this.doEditAfterLoad()}if(this.disabled){var c=document.getElementById(this.tableId);var a=getParentOfType(c,"FORM");enableElements(a,false)}if(this.qa_signalDone){this.qa_setDataLoadedFlag()}};AjaxEntryTable.prototype.qa_setDataLoadedFlag=function(){window._rbt.tables[this.name].dataLoaded=true};AjaxEntryTable.prototype.enablePolling=function(a){if(this.updateInterval){this.updateInterval=(a)?this.updateInterval:9999;if(a){clearTimeout(this.timer);this.sendUpdateRequest()}}};AjaxEntryTable.prototype.doEditAfterLoad=function(){var a=this.editAfterLoad[0];var f=this.editAfterLoad[1];for(var e=0;e<this.rowList.length;e++){var b=this.rowList[e];if(f==b[1].getAttribute(a)){var c=b[0].getElementsByTagName("a");for(var d=0;d<c.length;d++){if("aetEditLink pseudoLink"==c[d].className){this.editLink=c[d];this.editXMLElement=b[1];this.setEditMode("edit",this.editAfterLoad[1]);Y.one(b[0]).scrollIntoView(true);return}}}}};AjaxEntryTable.prototype.updateDataInternal=function(b){var m=this;function d(n){var p=m.docElement.childNodes.item(n);for(var o=0;o<m.rowList.length;o++){if(p==m.rowList[o][1]){return m.rowList[o]}}return null}function f(n){var o=m.rowList[n];o[0].childRows=null;o[0].rowE=null;o[0].rowDesc=null;m.rowList.splice(n,1)}for(var e=b.firstChild;e;e=e.nextSibling){var j=document.getElementById(this.tableId);var c=j.getElementsByTagName("tbody").item(0);var k=e.getAttribute("_i");if(k){if(!this.rowList.length){this.emptyTable()}var g=e.cloneNode(false);g.removeAttribute("_i");this.docElement.appendChild(g);this.appendRowXML(c,g);var a=d(parseInt(k,10));if(a){this.rowList.splice(k,0,this.rowList.pop());c.insertBefore(c.lastChild,a[0]);this.docElement.insertBefore(g,a[1])}continue}var l=e.getAttribute("_r");if(l){l=parseInt(l,10);var a=d(l);var g=e.cloneNode(false);g.removeAttribute("_r");this.appendRowXML(c,g);f(l);this.rowList.splice(l,0,this.rowList.pop());c.replaceChild(c.lastChild,a[0]);this.docElement.replaceChild(g,a[1]);continue}var h=e.getAttribute("_d");if(h){h=parseInt(h,10);var a=d(h);f(h);c.removeChild(a[0]);this.docElement.removeChild(a[1]);continue}}if(b.childNodes.length){if(this.sort){this.sortTable()}this.colorRows();this.postUpdateTableHook()}if(!this.rowList.length){this.displayEmptyTable()}this.colorRows()};AjaxEntryTable.prototype.sortTable=function(){if(!this.sort){return}var f=this.sort[1];var b=this.sort[2];var d=this;if(b){if(this.useFastSort){mergeSort(this.rowList,function(h,g){return(f)(g[1],h[1],d)})}else{this.rowList.sort(function(h,g){return(f)(g[1],h[1],d)})}}else{if(this.useFastSort){mergeSort(this.rowList,function(h,g){return(f)(h[1],g[1],d)})}else{this.rowList.sort(function(h,g){return(f)(h[1],g[1],d)})}}var a=$(this.tableId).getElementsByTagName("tbody").item(0);var e=a.childNodes;for(var c=0;c<this.rowList.length;c++){if(this.rowList[c][0]!=e.item(c)){a.insertBefore(this.rowList[c][0],e.item(c))}}this.colorRows()};AjaxEntryTable.prototype.handleResponseJSON=function(request){var responseList=request.responseText.split("\n");for(var i=0;i<responseList.length;i++){responseList[i]=eval(responseList[i])}this.init();this.itemList=responseList;this.appendRowsJSON();if(this.editAfterLoad){this.setEditMode("edit",this.editAfterLoad)}if(this.disabled){var tableElement=document.getElementById(this.tableId);var formEl=getParentOfType(tableElement,"FORM");enableElements(formEl,false)}};AjaxEntryTable.prototype.setJSONData=function(a){this.init();this.itemList=a;this.appendRowsJSON();if(this.disabled){var c=document.getElementById(this.tableId);var b=getParentOfType(c,"FORM");enableElements(b,false)}};AjaxEntryTable.prototype.updateXMLData=function(b){if("xml"==b.tagName){data=b.firstChild}if(this.docElement&&(this.docElement.childNodes.length==b.childNodes.length)){var c=this.docElement;this.docElement=b;var d=$(this.tableId).getElementsByTagName("tbody").item(0).getElementsByTagName("tr");for(var a=0;a<b.childNodes.length;a++){if(!this.updateRow(c.childNodes.item(a),b.childNodes.item(a),d.item(a))){this.setXMLData(b);return}}}else{this.setXMLData(b)}};AjaxEntryTable.prototype.updateRow=function(a,b,c){return true};AjaxEntryTable.prototype.appendRowsXML=function(){var d=document.getElementById(this.tableId);var a=d.getElementsByTagName("tbody").item(0);var e=this.docElement.childNodes;var b=new Date().getTime();for(var c=this._lastRowAppended+1;c<e.length;c++){this.appendRowXML(a,e.item(c));if(new Date().getTime()-b>AjaxEntryTable._MAX_APPEND_ROW_TIME){this._lastRowAppended=c;setTimeout(Y.bind(this.setData,this,this.docElement),0);throw AjaxEntryTable._APPEND_TIMEOUT_EXCEPTION}}this._lastRowAppended=-1;if(this.postProcessing&&0<e.length){this.postProcessing(a,e.item(e.length-1))}this.colorRows();this.updatePseudoButtons()};AjaxEntryTable.prototype.appendRowsJSON=function(){var d=document.getElementById(this.tableId);var a=d.getElementsByTagName("tbody").item(0);var c=this.itemList;if(0==c.length){this.displayEmptyTable();return}else{for(var b=0;b<c.length;b++){this.appendRowJSON(a,b)}}if(this.postProcessing&&0<childNodes.length){this.postProcessing(a,childNodes.item(childNodes.length-1))}this.colorRows()};AjaxEntryTable.prototype.appendRowsCsv=function(){var c=$(this.tableId);var a=c.getElementsByTagName("tbody").item(0);for(var b=0;b<this.docElement.length;b++){this.appendRowCsv(a,this.docElement.rows[b])}this.colorRows();this.updatePseudoButtons()};AjaxEntryTable.prototype.displayEmptyTable=function(){this.emptyTable(this.emptyMessage,"ajaxEntryTable_tableEmpty")};AjaxEntryTable.prototype.displaySoftException=function(a){this.emptyTable(a,"ajaxEntryTable_tableSoft")};AjaxEntryTable.prototype.displayErrorMessage=function(a){this.emptyTable("Error building table"+((a)?(", "+a):""),"ajaxEntryTable_tableError")};AjaxEntryTable.prototype.appendRowXML=function(c,a){var b=this;function d(k,f){var n=document.createElement("tr");n.childRows=[];n.treeLevel=0;n.isCollapsed=undefined;n.rowDesc=null;n.rowE=null;n.rowEs=[];n.rowType=null;if(f){n.treeLevel=f.treeLevel+1;f.childRows.push(n)}for(var m=0;m<b.rowSpec.length;m++){(b.rowSpec[m])(b,n,k)}c.appendChild(n);b.postAppendRowHook(n,k);b.rowList.push([n,k]);b.appendDescRow(c,n,k);if(b.rowESpec&&k.childNodes){for(var e=k.firstChild;e;e=e.nextSibling){if(e.nodeName==b.rowESpec[0]){var g=document.createElement("tr");g.rowE=true;g.treeLevel=n.treeLevel+1;n.rowEs.push(g);for(var h=1;h<b.rowESpec.length;h++){(b.rowESpec[h])(b,g,e)}b.indentLeafRow(n,g);c.appendChild(g);b.postAppendRowHook(g,e);b.rowList.push([g,e]);n.childRows.push(g);b.appendDescRow(c,g,e)}}}var l=k.childNodes;for(var m=0;l&&m<l.length;m++){if(l.item(m).tagName==k.tagName){d(l.item(m),n)}}}d(a,null)};AjaxEntryTable.prototype.indentLeafRow=function(a,c){for(var b=a.firstChild,f=c.firstChild;b&&f;b=b.nextSibling,f=f.nextSibling){var d=b.style.paddingLeft;if(d){d=d.substr(0,d.length-"px".length);var e=parseInt(d,10)+AjaxEntryTable.treeIndent+AjaxEntryTable.treeImageWidth;f.style.paddingLeft=e+"px"}}};AjaxEntryTable.prototype.appendRowJSON=function(d,a){var c=document.createElement("tr");for(var b=0;b<this.rowSpec.length;b++){(this.rowSpec[b])(this,c,a)}d.appendChild(c);this.postAppendRowHook(c,this.rowSpec[b]);this.rowList.push([c,this.rowSpec[b]])};AjaxEntryTable.prototype.appendDescRow=function(e,d,c){if(this.rowDescSpec&&c.getAttribute(this.rowDescSpec.attribute)){var b=document.createElement("tr");b.rowType="description";offset=this.rowDescSpec.offset;if(offset){var a=document.createElement("td");a.colSpan=""+offset;b.appendChild(a)}var f=document.createElement("td");f.colSpan=""+(this.rowSpec.length-offset);if(d.treeLevel){f.style.paddingLeft=d.treeLevel*AjaxEntryTable.treeIndent+AjaxEntryTable.treeImageWidth+"px"}this.rowDescSpec.cellFillFn(this,f,c);b.appendChild(f);e.appendChild(b);this.postAppendRowHook(b,c);this.rowList.push([b,c]);d.rowDesc=b}};AjaxEntryTable.prototype.appendRowCsv=function(d,c){var b=document.createElement("tr");for(var a=0;a<this.rowSpec.length;a++){(this.rowSpec[a])(this,b,c)}d.appendChild(b);this.postAppendRowHook(b,c);this.rowList.push([b,c]);this.appendDescRow(d,b,c)};AjaxEntryTable.prototype.colorRows=function(){var e=document.getElementById(this.tableId);var a=e.getElementsByTagName("tbody").item(0);var d=a.childNodes;var h=true;var b=[];for(var c=0;c<d.length;c++){var g=d.item(c);var f=!this.filterRow(c);if("none"!=g.style.display){if(g.id!=this.editRowId){if(!b.length){if(!f){h=!h}if(f){adjustElementClass(g,"ajaxEntryTable_hiddenRow","ajaxEntryTable_evenRow");adjustElementClass(g,"ajaxEntryTable_hiddenRow","ajaxEntryTable_oddRow")}if(g.rowDesc){b.push(g.rowDesc)}if(g.rowE&&g.rowEs&&g.rowEs.length){b=b.concat(g.rowEs)}}else{b.pop()}}}if(!f){if(h){adjustElementClass(g,"ajaxEntryTable_oddRow","ajaxEntryTable_evenRow");adjustElementClass(g,"ajaxEntryTable_oddRow","ajaxEntryTable_hiddenRow")}else{adjustElementClass(g,"ajaxEntryTable_evenRow","ajaxEntryTable_oddRow");adjustElementClass(g,"ajaxEntryTable_evenRow","ajaxEntryTable_hiddenRow")}}}};AjaxEntryTable.prototype.sortColumnClick=function(b,j){if(this.editMode=="edit"){return false}var e=false;if((this.sort)&&(isAncestor(b,this.sort[0]))){e=!this.sort[2]}var g=getParentOfType(b,"TH");this.sort=[g,j,e];var c=g.parentNode.getElementsByTagName("th");for(var d=0;d<c.length;d++){var a=c.item(d);var f=a.getElementsByTagName("span");if(f.length){var h=f.item(0);if(g==a){adjustElementClass(h,null,"ajaxEntryTable_thSortUp");adjustElementClass(h,null,"ajaxEntryTable_thSortDown");adjustElementClass(h,(e)?"ajaxEntryTable_thSortUp":"ajaxEntryTable_thSortDown","ajaxEntryTable_thSortOff")}else{adjustElementClass(h,null,"ajaxEntryTable_thSortUp");adjustElementClass(h,"ajaxEntryTable_thSortOff","ajaxEntryTable_thSortDown")}}}this.sortTable();return false};AjaxEntryTable.prototype.disableSortingLinks=function(b){var a=Y.all("#"+this.tableId+" > thead > tr > th a");if(b){a.addClass("disabled")}else{a.removeClass("disabled")}};AjaxEntryTable.prototype.setEditMode=function(e,b){var a=$(this.name+"Table_main");for(var c=0;c<allAjaxEntryTables.length;c++){var d=allAjaxEntryTables[c];if(isAncestor($(d.name+"Table_main"),a)){d.editMode=false;d.editName="";d.restEditDiv()}}this.editMode=e||false;this.editName=("edit"==e)&&b;if("edit"==e){this.activateEditDiv();this.editEntry(this.editName)}else{if("add"==e){this.addEntry()}}this.update();RBT.Validator.validatePage();return false};AjaxEntryTable.prototype._updateSelectCheckboxes=function(){if(!this.selectCount){return}var c=this.editMode=="add"||this.editMode=="edit"||!this.enabledDynamic||this.disabled;var b=this._getSelectCheckboxColumn();var f=Y.Node.getDOMNode(Y.one("#"+this.tableId+" > tbody > tr"));for(var e=f;e;e=e.nextSibling){if(e.id!=this.editRowId){var g=e.childNodes.item(b);var d=g.getElementsByTagName("INPUT");if(d.length){var a=d.item(0);if(a){a.disabled=c}}}}};AjaxEntryTable.prototype.update=function(){if(this.docElement){this.expandCollapseTreeRows()}switch(this.editMode){case"add":this.restEditDiv();var a=this.enabledDynamic&&!this.disabled;enableElements(this.addDivId,a);this.disableSortingLinks(false);updateUpdateables(this.addDivId,!a);break;case"edit":enableElements(this.addDivId,"hide");var a=this.enabledDynamic&&!this.disabled;enableElements(this.editDivId,a);this.disableSortingLinks(true);updateUpdateables(this.editDivId,!a);break;default:enableElements(this.addDivId,"hide");this.disableSortingLinks(false);this.restEditDiv();break}this._updateSelectCheckboxes();this.updatePseudoButtons();this.updateHook()};AjaxEntryTable.prototype.updateHook=function(){};AjaxEntryTable.updateAddButton=function(c,a,b){if(c.enabledDynamic&&!c.disabled){if("add"==c.editMode){a.enable(true);a.setIcon("aet_add_cancel."+((Y.UA.ie==6)?"gif":"png"));a.setText(b.addText)}else{a.enable(true);a.setIcon("aet_add.gif");a.setText(b.addText)}}else{if("add"==c.editMode){c.editMode=false;c.editName=""}a.enable(false);a.setIcon("aet_add_disabled.png");a.setText(b.addText)}};AjaxEntryTable.updateRemoveButton=function(f,b){var d=f.selectCount&&!f.editMode&&f.enabledDynamic&&!f.disabled;if(d){var a=false;var g=document.getElementById(f.tableId);var h=g.getElementsByTagName("input");for(var c=0;c<h.length;c++){var e=h.item(c);if(("checkbox"==e.getAttribute("type"))&&e.checked&&(("ajaxEntryTable_selectCheckboxWrapper"==getElementClass(e.parentNode))||("ajaxEntryTable_reorderCheckboxWrapper"==getElementClass(e.parentNode)))){a=true;break}}d=a}if(d){b.enable(true);b.setIcon("aet_remove.gif")}else{b.enable(false);b.setIcon("aet_remove_disabled.png")}};AjaxEntryTable.updateMoveButton=function(o,e,f){var l=o.moveMode;var r=document.getElementById(o.tableId);var g=undefined;var a="";var k=false;var d=o.selectCount&&!o.editMode&&o.enabledDynamic&&!o.disabled;if(d){var c=r.getElementsByTagName("input");for(var h=0;h<c.length;h++){var m=c.item(h);if(("checkbox"==m.getAttribute("type"))&&("ajaxEntryTable_reorderCheckboxWrapper"==getElementClass(m.parentNode))){if(m.checked){l=true;if(g===undefined){g=Y.one(m).getData("moveGroup");a=Y.one(m).getData("moveGroupButtonText")}else{if(g!=Y.one(m).getData("moveGroup")){k=true}}}if(o.disabled||o.moveMode||!m.onclick){m.disabled="disabled"}else{m.disabled=""}}}}if(l&&!k&&!o.moveMode){e.enable(true);e.setIcon("aet_move."+((Y.UA.ie==6)?"gif":"png"));if(a==""){e.setText(f.moveText)}else{e.setText(a)}}else{if(l&&!k&&o.moveMode){e.enable(!o.editMode);e.setIcon("aet_cancel"+(o.editMode?"_disabled":"")+"."+((Y.UA.ie==6)?"gif":"png"));e.setText(f.cancelText)}else{e.enable(false);e.setIcon("aet_move_disabled.png");e.setText(f.moveText)}}var j=r.getElementsByTagName("button");for(var h=0;h<j.length;h++){var b=j.item(h);if(("submit"==b.getAttribute("type"))&&("ajaxEntryTable_reorderCheckboxWrapper"==getElementClass(b.parentNode))){var q=false;if(o.moveMode){var n=Y.Node.getDOMNode(Y.one(b.parentNode).one("input[type=checkbox]"));var p=n?Y.one(n).getData("moveGroup")==g:true;q=p&&o.isValidMoveDest(b)}if(q){setElementClass(b,"ajaxEntryTable_reorderMoveToButton");b.disabled=""}else{setElementClass(b,"ajaxEntryTable_hiddenMoveToButton");b.disabled="disabled"}}}};AjaxEntryTable.prototype.isValidMoveDest=function(a){return true};AjaxEntryTable.prototype.updatePseudoButtons=function(){this.updateCheckboxHeader();for(var a=0;a<this.buttons.length;++a){this.buttons[a].update()}};AjaxEntryTable.prototype._getSelectCheckboxColumn=function(){if(this.selectAllCheckbox){return this.selectAllCheckbox.parentNode.cellIndex}var b=Y.Node.getDOMNode(Y.one("#"+this.tableId+" > tbody > tr"));for(var a=b;a;a=a.nextSibling){if(a.id!=this.editRowId){for(var c=a.firstChild;c;c=c.nextSibling){if(Y.one(c).one("input[type=checkbox]")){return c.cellIndex}}}}return -1};AjaxEntryTable.prototype.updateCheckboxHeader=function(){if(!this.selectCount||this.noSelectAllCheckbox){return}if(!Y.one("#"+this.tableId+" > thead")){return}var e=Y.Node.getDOMNode(Y.one("#"+this.tableId+" > tbody > tr"));var g=Y.all("#"+this.tableId+" > thead > tr > th");if(!this.selectAllCheckbox){var f=this._getSelectCheckboxColumn();var d=e.childNodes.item(f);var j=Y.Node.create('<input type="checkbox" value="true">');var k=this;j.on("click",function(){k.selectAllClick()});g.item(f).prepend(j);g.item(f).addClass(d.className);this.selectAllCheckbox=Y.Node.getDOMNode(j);if(!this.selectAllCheckbox){return}}var f=this.selectAllCheckbox.parentNode.cellIndex;var h=true;var a=false;for(var l=e;l;l=l.nextSibling){if(l.id!=this.editRowId){var d=l.childNodes.item(f);var b=d.getElementsByTagName("INPUT");if(b.length){a=true;var c=b.item(0);if(c){if(!c.checked&&("hidden"!=c.style.visibility)){h=false;break}}}}}if(!a&&this.selectAllCheckbox){this.selectAllCheckbox.parentNode.removeChild(this.selectAllCheckbox);this.selectAllCheckbox=null;return}this.selectAllCheckbox.checked=h&&a;this.selectAllCheckbox.disabled=this.disabled||!this.enabledDynamic||this.moveMode||"edit"==this.editMode||"add"==this.editMode};AjaxEntryTable.prototype.selectAllClick=function(){var b=getParentOfType(this.selectAllCheckbox,"TH").cellIndex;var e=$(this.editDivId);var c=$(this.tableId).getElementsByTagName("tbody").item(0);var a=c.getElementsByTagName("tr");for(var d=0;d<a.length;d++){var g=a.item(d).getElementsByTagName("td").item(b);var f=g.getElementsByTagName("input");if(f.length){var h=f.item(0);if("checkbox"==h.type&&"hidden"!=h.style.visibility&&!isAncestor(h,e&&!h.disabled)){h.checked=this.selectAllCheckbox.checked}}}this.updatePseudoButtons()};AjaxEntryTable.prototype.activateEditDiv=function(){if(!this.editLink){return}adjustElementClass(this.editLink,"aetEditLinkActive",null);this.editLink.setAttribute("title",this.editLink.canText);var f=getParentOfType(this.editLink,"TR");if(f.rowDesc){f=f.rowDesc}var e=$(this.editDivId);if(!isAncestor(e,f)){var b=f.parentNode;var a=b.insertRow(f.sectionRowIndex+1);a.className=(-1==f.className.indexOf("odd"))?"ajaxEntryTable_evenRow":"ajaxEntryTable_oddRow";a.id=this.editRowId;adjustElementClass(a,"editRow",null);if(this.editDivOffset){var d=a.insertCell(-1);d.colSpan=this.editDivOffset}var g=a.insertCell(-1);g.colSpan=this.rowSpec.length-this.editDivOffset;Y.one(g.parentNode).addClass("ajaxEntryTable_editArea_bottomHalf");var c=Y.one(g.parentNode.previousSibling);while(Y.one(c).one(".aetEditLinkActive")==null){c.addClass("ajaxEntryTable_editArea_middle");c=c.previous()}c.addClass("ajaxEntryTable_editArea_topHalf");g.appendChild(e)}};AjaxEntryTable.prototype.restEditDiv=function(){enableElements(this.editDivId,"hide");if(!this.editLink){return}adjustElementClass(this.editLink,null,"aetEditLinkActive");this.editLink.setAttribute("title",this.editLink.modText);var b=document.getElementById(this.editDivId);Y.one(b.parentNode.parentNode).removeClass("ajaxEntryTable_editArea_bottomHalf");var a=Y.one(b.parentNode.parentNode.previousSibling);while(!a.hasClass("ajaxEntryTable_editArea_topHalf")){a.removeClass("ajaxEntryTable_editArea_middle");a=a.previous()}a.removeClass("ajaxEntryTable_editArea_topHalf");var c=document.getElementById(this.tableId);if(MSIE){c.parentNode.insertBefore(b,c)}c=c.parentNode;var d=getParentOfType(this.editLink,"TR");if(d.rowDesc){d=d.rowDesc}d=d.nextSibling;d.parentNode.deleteRow(d.sectionRowIndex);if(!MSIE){c.parentNode.insertBefore(b,c)}this.editLink=null;this.editXMLElement=null};AjaxEntryTable.prototype.filterRow=function(a){return true};AjaxEntryTable.prototype.addEntry=function(){};AjaxEntryTable.prototype.editEntry=function(a){};AjaxEntryTable.prototype.postAppendRowHook=function(b,a){};AjaxEntryTable.prototype.postPopulateTableHook=function(){};AjaxEntryTable.prototype.postUpdateTableHook=function(){};AjaxEntryTable.prototype.getEntryElement=function(b,c){function a(f,h,d,e){var j=d.firstChild;if(!e){e=j?j.nodeName:""}while(j){if(e==j.nodeName){if(h==j.getAttribute(f)){return j}var g=a(f,h,j,e);if(g){return g}}j=j.nextSibling}return null}return a(b,c,this.docElement)};AjaxEntryTable.toggleMoveMode=function(a){a.moveMode=!a.moveMode;a.updatePseudoButtons();return false};AjaxEntryTable.prototype.moveSubmitPrep=function(h){var e=document.getElementById(this.tableId);var g=e.getElementsByTagName("input");var c=null;for(var b=0;b<g.length;b++){c=g.item(b);if(("checkbox"==c.getAttribute("type"))&&("ajaxEntryTable_reorderCheckboxWrapper"==getElementClass(c.parentNode))){c.disabled=""}}var d=getParentOfType(c,"FORM");var f=document.createElement("input");f.setAttribute("type","hidden");f.setAttribute("name",h.getAttribute("name"));f.setAttribute("value",h.getAttribute("value"));d.appendChild(f);var a=e.getElementsByTagName("button");for(var b=0;b<a.length;b++){c=a.item(b);if(("submit"==c.getAttribute("type"))&&("ajaxEntryTable_reorderCheckboxWrapper"==getElementClass(c.parentNode))){c.disabled="disabled"}}submitPrep(h)};AjaxEntryTable.prototype.expandCollapseTreeRows=function(){if(!this.rowList.length){return}var b=-1;for(var f=0;f<this.rowList.length;++f){var c=this.rowList[f][1];var g=this.rowList[f][0];var h=true;if(g.isCollapsed!=undefined){h=!g.isCollapsed;var k=null;for(var d=0;d<g.childNodes.length;++d){var a=g.childNodes.item(d);if("TD"==a.tagName&&"ajaxEntryTable_treeName"==a.className){k=a.getElementsByTagName("A").item(0);break}}if(k){var e=k.getElementsByTagName("img").item(0);e.setAttribute("src",(h)?AjaxEntryTable.closeTreeImage:AjaxEntryTable.openTreeImage)}}if(b==-1){g.style.display="";if(!h){b=f}}else{if(g.treeLevel<=this.rowList[b][0].treeLevel){g.style.display="";b=h?-1:f}else{g.style.display="none"}}}this.colorRows()};AjaxEntryTable.submitCommandField=function(b,e,d){if("string"==typeof b){b=document.getElementById(b)}var c=getParentOfType(b,"FORM");var a=document.createElement("input");a.type="hidden";a.name=e;a.value=d;c.appendChild(a);submitPrep(b);c.submit();return false};AjaxEntryTable.tdAttr=function(b,c,a){return function(e,g,d){var l=document.createElement("td");if(c){setElementClass(l,c)}var k=d.getAttribute(b)||"";var j=document.createTextNode(k);var h=a&&d.getAttribute(a);if(!h){l.appendChild(j)}else{var f=document.createElement("span");l.appendChild(f);f.appendChild(j);RBT.Tooltip.createPlaceholder({triggerNode:f,content:h})}g.appendChild(l)}};AjaxEntryTable.tdAttrStyle=function(b,c,a){return function(h,j,d){var e=document.createElement("td");var k=d.getAttribute(c);if(k){setElementClass(e,k)}var m=d.getAttribute(b)||"";var f=document.createTextNode(m);var g=a&&d.getAttribute(a);if(!g){e.appendChild(f)}else{var l=document.createElement("span");e.appendChild(l);l.appendChild(f);RBT.Tooltip.createPlaceholder({triggerNode:l,content:g})}j.appendChild(e)}};AjaxEntryTable.tdLines=function(b,a){return function(e,g,d){var h=document.createElement("td");if(a){setElementClass(h,a)}var c=d.getAttribute(b).split(";");for(var f=0;f<c.length;f++){if(f){h.appendChild(document.createElement("br"))}h.appendChild(document.createTextNode(c[f]))}g.appendChild(h)}};AjaxEntryTable.tdLink=function(b,e,d,a,c){return function(g,l,f){var n=document.createElement("td");function k(r){var o=r.getAttribute(b);var s=document.createTextNode(r.getAttribute(e));if(o){var p=document.createElement("a");p.href=o;if(d){p.title=d}if(a){p.target="_blank"}p.appendChild(s);n.appendChild(p)}else{var q=document.createElement("span");q.className="disabled";q.appendChild(s);n.appendChild(q)}}k(f);if(c){var j=f.childNodes;for(var h=0;j&&h<j.length;h++){if(j.item(h).tagName==c){var m=document.createTextNode(", ");n.appendChild(m);k(j.item(h))}}}l.appendChild(n)}};AjaxEntryTable.tdLinkStyle=function(a,d,b,c){return function(k,l,g){var j=document.createElement("td");var e=g.getAttribute(a);var n=document.createTextNode(g.getAttribute(d));if(e){var h=document.createElement("a");h.href=e;if(c){h.title=c}if(b){var f=g.getAttribute(b);if(f){h.className=f}}h.appendChild(n);j.appendChild(h)}else{var m=document.createElement("span");m.className="disabled";m.appendChild(n);j.appendChild(m)}l.appendChild(j)}};AjaxEntryTable.tdBlank=function(a){return function(c,d,b){var e=document.createElement("td");if(a){setElementClass(e,a)}d.appendChild(e)}};AjaxEntryTable._appendToTDElement=function(d,a,e){if(e){var b=document.createElement("a");b.href=e;b.appendChild(document.createTextNode(a));d.appendChild(b)}else{var c=document.createElement("span");c.className="disabled";c.appendChild(document.createTextNode(a));d.appendChild(c)}};AjaxEntryTable.tdXMLLinkComma=function(b,c,a){return function(e,f,d){var g=document.createElement("td");AjaxEntryTable.xmlLinkComma(b,c,a)(e,g,d);f.appendChild(g)}};AjaxEntryTable.tdCSVLinkComma=function(a,b){return function(d,f,c){var h=document.createElement("td");var g=c.getAttribute(a).split(",");if(g&&g.length>=1){for(var e=0;e<(g.length-1);e++){AjaxEntryTable._appendToTDElement(h,g[e],b+g[e]);h.appendChild(document.createTextNode(", "))}AjaxEntryTable._appendToTDElement(h,g[g.length-1],b+g[g.length-1])}f.appendChild(h)}};AjaxEntryTable.cellFillDesc=function(b,a){return function(d,f,c){var e=c.getAttribute(b);setElementClass(f,"ajaxEntryTable_rowDesc");if(a==undefined){a="Description: "}f.appendChild(document.createTextNode(a+e))}};AjaxEntryTable.tdAttrTree=function(a,b,c){return AjaxEntryTable.tdTree([AjaxEntryTable.attrText(a)],b,c)};AjaxEntryTable.tdTreeClick=function(a,b){return AjaxEntryTable.tdTree([function(e,f,d){var c=document.createElement("a");c.setAttribute("href","");c.onclick=function(){return b(d)};c.appendChild(document.createTextNode(d.getAttribute(a)));c.className="pseudoLink";f.appendChild(c)}])};AjaxEntryTable.tdAttrTreeEdit=function(a,d,b,c){return AjaxEntryTable.tdTree([AjaxEntryTable.edit(a,d)],b,c)};AjaxEntryTable.tdEdit=function(a,c,b){return AjaxEntryTable.td([AjaxEntryTable.edit(a,c)],b)};AjaxEntryTable.tdClick=function(a,c,b){return function(f,g,e){var h=document.createElement("td");if(b){setElementClass(h,b)}var d=document.createElement("a");d.setAttribute("href","");d.onclick=function(){return c(e)};d.appendChild(document.createTextNode(e.getAttribute(a)));h.appendChild(d);g.appendChild(h)}};AjaxEntryTable.tdChildAttr=function(a,b,c){return function(e,f,d){var g=getChildAttribute(d,a,b);var h=document.createElement("td");if(c){setElementClass(h,c)}h.appendChild(document.createTextNode(g));f.appendChild(h)}};AjaxEntryTable.tdSelectCheckbox=function(b,a,c,d){return function(h,k,g){var l=document.createElement("td");setElementClass(l,"ajaxEntryTable_selectCheckboxWrapper");var f=g.getAttribute(b);if(f&&(c!=f)){var e=document.createElement("input");e.setAttribute("type","checkbox");e.setAttribute("name",a+f);e.setAttribute("value","true");if(d){e.onclick=function(){var m=d(h,e);h.updatePseudoButtons();return m}}else{e.onclick=function(){h.updatePseudoButtons();return true}}var j=g.getAttribute("permission");if(j&&"write"!=j){e.disabled=true}l.appendChild(e);h.selectCount+=1}k.appendChild(l)}};AjaxEntryTable.postReorderCheckbox=function(b,c,a){return function(d,k){var j=document.createElement("tr");d.appendChild(j);setElementClass(j,"ajaxEntryTable_reorderFinal");var f=document.createElement("td");var e=document.createElement("div");setElementClass(e,"ajaxEntryTable_reorderCheckboxWrapper");var g=k.getAttribute(b);var m=document.createElement("button");var l=parseInt(g,10)+1;m.setAttribute("type","submit");m.setAttribute("name",c+l);m.setAttribute("value",l);m.setAttribute("title","Move to here");setElementClass(m,"ajaxEntryTable_hiddenMoveToButton");e.appendChild(m);e.appendChild(document.createTextNode(" "));f.appendChild(e);j.appendChild(f);var h=this;m.onclick=function(){if(!a||a(h,m)){var n=getParentOfType(m,"FORM");h.moveSubmitPrep(m);n.submit()}return false};if(1<this.rowSpec.length){f=document.createElement("td");f.colSpan=""+(this.rowSpec.length-1);j.appendChild(f)}}};AjaxEntryTable.tdReorderCheckbox=function(e,b,f,a,g,d,c){return function(p,q,l){var m=document.createElement("td");setElementClass(m,"ajaxEntryTable_reorderCheckboxCell");var h=document.createElement("div");setElementClass(h,"ajaxEntryTable_reorderCheckboxWrapper");var n=l.getAttribute(e);if(((!q.rowE&&!q.rowDesc&&n)||n)&&!(g&&arrayContains(g,n))){var s=document.createElement("button");s.setAttribute("type","submit");s.setAttribute("name",f+n);s.setAttribute("value",n);s.setAttribute("title","Move to here");setElementClass(s,"ajaxEntryTable_hiddenMoveToButton");h.appendChild(s);s.onclick=function(){if(!c||c(p,s)){var t=getParentOfType(s,"FORM");p.moveSubmitPrep(s);t.submit()}return false}}h.appendChild(document.createTextNode(" "));if(n){var k=document.createElement("input");k.setAttribute("type","checkbox");k.setAttribute("name",b+n);k.setAttribute("value","true");var o=l.getAttribute("moveGroup");Y.one(k).setData("moveGroup",o?o:"");var j=l.getAttribute("moveGroupButtonText");Y.one(k).setData("moveGroupButtonText",j?j:"");if(a&&arrayContains(a,n)){k.disabled=true;k.style.visibility="hidden"}else{p.selectCount+=1;if(d){k.onclick=function(){var t=d(p,k);p.updatePseudoButtons();return t}}else{k.onclick=function(){p.updatePseudoButtons();return true}}}var r=l.getAttribute("permission");if(r&&"write"!=r){k.disabled=true}h.appendChild(k)}m.appendChild(h);q.appendChild(m)}};AjaxEntryTable.tdActiveSelect=function(e,a,c,f,d,g,b){return function(n,p,k){var r="";var h=k.getAttribute(c);if(e){r=k.getAttribute(e)}var l=document.createElement("td");if(b&&arrayContains(b,h)){if(g){setElementClass(l,g)}var j=r;for(var m=0;m<f.length;++m){var q=f[m];var o=f[m];if("object"==typeof q){q=q[0];o=o[1]}if(r==q){j=o;break}}l.appendChild(document.createTextNode(j));p.appendChild(l);return}var s=selectWithOptions(("function"==(typeof f)?f(k):f),r);s.setAttribute("name",a+h);s.onchange=new Function(d);setElementClass(l,g?g:"table_enabledSelect");l.appendChild(s);p.appendChild(l)}};AjaxEntryTable.tdIcon=function(f,d,c,a,b,e){return function(o,p,j){var k=document.createElement("td");var g=j.getAttribute(f);if(g){var h="/images/"+g;var l=document.createElement("img");var n=""+a;if(n){n=j.getAttribute(n)||a}setElementClass(k,n);if(d){var m=j.getAttribute(d)||d;l.alt=m;l.setAttribute("title",m)}else{l.alt=""}if(e){l.height=e}if(b){l.width=b}l.src=h;k.appendChild(l);if(c){var q=c?j.getAttribute(c):null;if(q){q=" "+q;k.appendChild(document.createTextNode(q))}}}p.appendChild(k)}};AjaxEntryTable.tdIconList=function(b,a){return function(h,k,e){var f=document.createElement("td");f.className=a;var j="";for(var g=0;g<b.length;g++){var d=b[g];var c=d[0]&&e.getAttribute(d[0]);if(c){var l=d[1]&&Y.Escape.html(e.getAttribute(d[1]));j+='<img src="/images/'+c+'" title="'+l+'"/>'}}Y.one(f).setContent(j);k.appendChild(f)}};AjaxEntryTable.tdText=function(a){return function(d,f,c){function b(m){var o=document.createElement("div");var l=m.getAttribute("style");if(l){o.className=l}var n="";for(var j=m.firstChild;j;j=j.nextSibling){n+=j.data}var h=n.split("\n");for(var k=0;k<h.length;k++){if(k){o.appendChild(document.createElement("br"))}o.appendChild(document.createTextNode(h[k]))}return o}var g=document.createElement("td");if(a){for(var e=c.firstChild;e;e=e.nextSibling){if(a==e.tagName){g.appendChild(b(e))}}}else{g.appendChild(b(c))}f.appendChild(g)}};AjaxEntryTable.td=function(a,b){return function(e,g,d){var h=document.createElement("td");var c=b+"";if(b){if("JSON"!=e.dataType){c=d.getAttribute(b)||(""+b)}}if(b&&c){setElementClass(h,c)}g.appendChild(h);for(var f=0;f<a.length;f++){a[f](e,h,d)}}};AjaxEntryTable.a=function(a,d,b,c){return function(j,g,h){var f=h.getAttribute(a);var k;if(!f&&!c){var l=document.createElement("span");setElementClass(l,"disabled");for(k=0;k<b.length;k++){b[k](j,l,h)}g.appendChild(l)}else{var e=document.createElement("a");e.setAttribute("href",f);if(d){var m=(-1==d.indexOf(" "))?h.getAttribute(d):null;m=m?m:d;e.setAttribute("title",m)}if(c){func=function(){return c(j,e,h)};e.onclick=func}for(k=0;k<b.length;k++){b[k](j,e,h)}g.appendChild(e)}}};AjaxEntryTable.span=function(a,b){return function(f,d,e){var h=document.createElement("span");var c=b+"";if(b){c=e.getAttribute(b)}if(c){setElementClass(h,c)}var g;for(g=0;g<a.length;g++){a[g](f,h,e)}d.appendChild(h)}};AjaxEntryTable.attrText=function(a){return function(d,b,c){b.appendChild(document.createTextNode(c.getAttribute(a)))}};AjaxEntryTable.constantText=function(a){return function(d,b,c){b.appendChild(document.createTextNode(a))}};AjaxEntryTable.conditionalList=function(a,b){return function(e,c,d){if(d.getAttribute(a)){for(i=0;i<b.length;i++){b[i](e,c,d)}}}};AjaxEntryTable.tdTree=function(a,b,c){return function(k,l,d){var e=document.createElement("td");setElementClass(e,(b)?b:"ajaxEntryTable_treeName");var j=(0<d.getElementsByTagName(d.tagName).length)||(k.rowESpec&&(0<d.getElementsByTagName(k.rowESpec[0]).length));if(j||c){l.isCollapsed=false;var m=document.createElement("a");m.onclick=function(){l.isCollapsed=!l.isCollapsed;if(l.isCollapsed){k.setEditMode()}else{k.update()}return false};var g=document.createElement("img");g.setAttribute("src",AjaxEntryTable.closeTreeImage);g.setAttribute("width","10");g.setAttribute("height","10");setElementClass(g,"treeIcon");m.appendChild(g);e.appendChild(m)}var h=(AjaxEntryTable.treeIndent*l.treeLevel);if(!j&&!c){h+=AjaxEntryTable.treeImageWidth}e.style.paddingLeft=""+h+"px";for(var f=0;f<a.length;f++){a[f](k,e,d)}l.appendChild(e)}};AjaxEntryTable.xmlLinkComma=function(b,c,a){return function(l,g,f){var k;var e=f.childNodes;if(e){for(var j=0;j<e.length;j++){if(e.item(j).tagName==b){k=e.item(j);break}}}if(k&&k.childNodes.length>=1){var h=k.firstChild;for(var j=0;j<(k.childNodes.length-1);j=j+1){var m=h.getAttribute(c);var d=h.getAttribute(a);AjaxEntryTable._appendToTDElement(g,m,d);g.appendChild(document.createTextNode(", "));h=h.nextSibling}var m=h.getAttribute(c);var d=h.getAttribute(a);AjaxEntryTable._appendToTDElement(g,m,d)}}};AjaxEntryTable.editClick=function(c,b,a){return function(){if(c.preEditClick){c.preEditClick(c,b,a)}if(!c.editMode||c.editMode=="add"){c.editLink=this;c.editXMLElement=b;c.setEditMode("edit",b.getAttribute(a))}else{if("edit"==c.editMode&&this!=c.editLink){c.setEditMode();c.editLink=this;c.editXMLElement=b;c.setEditMode("edit",b.getAttribute(a))}else{c.setEditMode()}}return false}};AjaxEntryTable.edit=function(b,c,a){return function(h,f,g){var l=g.getAttribute(b);var k=g.getAttribute(c);if(!l||(a&&(arrayContains(a,l)))){f.appendChild(document.createTextNode(k))}else{var d=document.createElement("a");var e="Show Details";var j="Hide Details";d.setAttribute("href","");d.setAttribute("title",e);d.onclick=AjaxEntryTable.editClick(h,g,b);d.canText=j;d.modText=e;if(!k){k="\u00A0"}d.displayText=k;d.appendChild(document.createTextNode(k));setElementClass(d,"aetEditLink pseudoLink");f.appendChild(d)}}};AjaxEntryTable.select=function(b,a,e,d,c,f){return function(k,g,j){var h=j.getAttribute(b);if(h&&(c!=h)){var m=d?j.getAttribute(d):null;var l=selectWithOptions(e,m);l.setAttribute("name",a+j.getAttribute(b));if(f){func=function(){f(k,l,j)};l.onchange=func}g.appendChild(l)}}};AjaxEntryTable.checkbox=function(b,a,c,d){return function(j,f,h){var g=h.getAttribute(b);if(""!=g){var k=c?h.getAttribute(c):null;var e=document.createElement("input");e.setAttribute("type","checkbox");e.setAttribute("name",a+h.getAttribute(b));e.setAttribute("value","true");if("true"==k){e.defaultChecked=true}if(d){func=function(){d(j,e,h)};e.onchange=func}j.selectCount+=1;e.onclick=function(){j.updatePseudoButtons();return true};f.appendChild(e)}}};AjaxEntryTable.tdColorKey=function(a,b){return function(e,f,d){var h=document.createElement("td");if(b){setElementClass(h,b)}var c=d.getAttribute(a);if(c){var g=document.createElement("div");g.className="colorKey";g.style.backgroundColor="#"+c;h.appendChild(g)}f.appendChild(h)}};var PERCENT_BAR_WIDTH=64;AjaxEntryTable.tdPercentBar=function(a){return function(c,d,b){var h=document.createElement("td");var f=b.getAttribute(a);if(f){var g=document.createElement("div");var e=-Math.round(PERCENT_BAR_WIDTH*(1-0.01*(parseInt(f,10)||0)));g.appendChild(document.createTextNode(f+"%"));setElementClass(g,"percentBar");g.style.backgroundPosition=""+e+"px";h.appendChild(g)}d.appendChild(h)}};AjaxEntryTable.tdPercentBarWidget=function(b,c,a){return function(o,p,f){var h=document.createElement("td");c=parseInt(c)||PERCENT_BAR_WIDTH;var s=f.getAttribute(b);var r=parseInt(s,10)||0;if(r<0){r=0}var g=a?a(r,f):null;var k=(g&&g[0])+" percentBarWidget";var m=(g&&g[1])+" percentBarWidget_wrapText";var d=(g&&g[2])+" percentBarWidget_wrapBar";var l=(g&&g[3])+" percentBarWidget_bar";var e=document.createElement("div");setElementClass(e,k);var q=document.createElement("div");setElementClass(q,m);var s=f.getAttribute(b);if(s){Y.one(q).setContent(s+"%")}e.appendChild(q);var j=document.createElement("div");setElementClass(j,d);e.appendChild(j);var n=document.createElement("div");setElementClass(n,l);j.appendChild(n);Y.one(j).setStyle("width",c+"px");Y.one(n).setStyle("width",(r*c/100)+"px");h.appendChild(e);p.appendChild(h)}};AjaxEntryTable.tdDumpUploadStatus=function(o,l,e){var k=e.getElementsByTagName("uploadStatus").item(0);var h=k.getAttribute("status");var j=k.getAttribute("status-pretty");var c=k.getAttribute("percent");var f=document.createElement("td");if("finished"==h){f.style.color="green"}else{if("failed"==h){f.style.color="red"}}l.appendChild(f);if(("in progress"==h)&&c){var b=document.createElement("div");var g=-Math.round(PERCENT_BAR_WIDTH*(1-0.01*(parseInt(c,10)||0)));b.appendChild(document.createTextNode(c+"%"));setElementClass(b,"percentBar");b.style.backgroundPosition=""+g+"px";f.appendChild(b);var d=k.getAttribute("dir");var m=k.getAttribute("fileType");var a=k.getAttribute("name");setTimeout(function(){l.removeChild(f);var p=newAjaxRequest("/mgmt/xmldata?p=dumpDetails");setReadyStateChangeFunc(p,function(){AjaxEntryTable.tdDumpUploadStatus(o,l,p.responseXML)});p.send("dir="+d+"&fileType="+d+"&name="+a)},3000)}else{var n=document.createTextNode(j);f.appendChild(n)}};AjaxEntryTable.JSONText=function(a){return function(d,c,b){var e=d.itemList[b];c.appendChild(document.createTextNode(e[a]))}};AjaxEntryTable.JSONEditClick=function(b,a,c){return function(){if(!b.editMode){b.editLink=this;b.setEditMode("edit",a)}else{if("edit"==b.editMode&&this!=b.editLink){b.setEditMode("",false);b.editLink=this;b.setEditMode("edit",a)}else{b.setEditMode("",false)}}return false}};AjaxEntryTable.JSONEdit=function(b,c,a){return function(g,f,d){var h=g.itemList[d];var e=document.createElement("a");e.setAttribute("href","");e.setAttribute("title",""+c);e.onclick=AjaxEntryTable.JSONEditClick(g,d,f.parentNode);if(typeof a==typeof""){e.appendChild(document.createTextNode(a))}else{if(typeof a==typeof 1){e.appendChild(document.createTextNode(h[a]))}else{e.appendChild(document.createTextNode("\u00A0"))}}setElementClass(e,"aetEditLink pseudoLink");f.appendChild(e)}};AjaxEntryTable.JSONMappedIcon=function(b,a){return function(e,g,c){var d=e.itemList[c][b];var f=document.createElement("img");f.setAttribute("src",""+a[d].img);f.setAttribute("alt",""+a[d].alt);f.setAttribute("title",""+(a[d].title||a[d].alt));g.appendChild(f)}};AjaxEntryTable.JSONMappedIconSeries=function(b,a){return function(f,k,c){var j=f.itemList[c];var e=j[7].split(",");for(var g=0;g<e.length;g++){var d=e[g];if(""==d){continue}var h=document.createElement("img");h.setAttribute("src",""+a[d].img);h.setAttribute("alt",""+a[d].alt);h.setAttribute("title",""+(a[d].title||a[d].alt));k.appendChild(h)}}};AjaxEntryTable.JSONStringSubstitutionIcon=function(b,d,c,a){return function(g,j,e){var h=g.itemList[e];var f=document.createElement("img");f.setAttribute("src",objectStringSubstitution(h,b));f.setAttribute("alt",objectStringSubstitution(h,d));f.setAttribute("title",objectStringSubstitution(h,c));j.appendChild(f);if(a){j.appendChild(document.createTextNode(objectStringSubstitution(h,a)))}}};function getChildAttribute(b,a,d){var e="";var f=b.getElementsByTagName(a);for(var c=0;c<f.length;c++){if(0<c){e+=", "}e+=f[c].getAttribute(d)}return e}function selectWithOptions(b,e){select=document.createElement("select");for(var d=0;d<b.length;d++){var f=b[d];var c=b[d];if("object"==typeof f){f=f[0];c=c[1]}var a=document.createElement("option");a.setAttribute("value",(null==f)?"":f);if(e==f){a.setAttribute("selected","selected")}if(null==f){if(e==c){a.setAttribute("selected","selected")}a.disabled="disabled"}a.appendChild(document.createTextNode(c));select.appendChild(a)}return select}function sortAttrib(a){return function(d,c){return alphanumericCompare(d.getAttribute(a),c.getAttribute(a))}}var ratioPattern=/^\d+\/\d*[1-9]+\d*$/;function ratioCompare(a,b){if(!ratioPattern.test(a)){throw a+" is not a valid ratio."}else{if(!ratioPattern.test(b)){throw b+" is not a valid ratio."}else{var aFloat=eval(a);var bFloat=eval(b);return(aFloat<bFloat?-1:(bFloat<aFloat?+1:alphanumericCompare(a,b)))}}}function sortRatioAttrib(a){return function(d,c){var f=d.getAttribute(a);var e=c.getAttribute(a);return ratioCompare(f,e)}}function semanticCompare(d,c,e){if(!(d in e)){throw"No ordering rule for "+d}else{if(!(c in e)){throw"No ordering rule for "+c}else{return(e[d]<e[c]?-1:(e[c]<e[d]?+1:0))}}}function sortSemanticAttrib(a,b){return function(d,c){var f=d.getAttribute(a);var e=c.getAttribute(a);return semanticCompare(f,e,b)}}function json2ToPseudoXML(c){function b(d,f){d.nodeName=d.tagName;d.getAttribute=pseudoXMLGetAttribute;d.setAttribute=pseudoXMLSetAttribute;d.getElementsByTagName=pseudoXMLGetSubtreeElementsByName;d.parentNode=f;d.childNodes=d.children;d.childNodes.item=pseudoXMLGetChild;for(var e=0;e<d.children.length;++e){b(d.children[e],d)}}if(c!=undefined){for(var a=0;a<c.length;++a){b(c[a],null)}c.item=pseudoXMLGetChild;return{childNodes:c}}else{return{tagName:"error",childNodes:[{nodeValue:"error retrieving JSON2 data"},]}}}function pseudoXMLGetAttribute(a){return this["attrs"][a]}function pseudoXMLSetAttribute(a,b){this["attrs"][a]=b}function pseudoXMLGetSubtreeElementsByName(b){var a=[];for(var c=0;c<this["children"].length;++c){var d=this["children"][c];if(d.tagName==b){a[a.length]=d}a=a.concat(d.getElementsByTagName(b))}return a}function pseudoXMLGetChild(a){return this[a]}function shredEl(a){if(a.nodeName!="#text"){a.style.backgroundImage="none"}while(a.lastChild){shredEl(a.lastChild)}if(a.parentNode){a.parentNode.removeChild(a)}}AjaxEntryTable.Button=function(c,e,a,d,b){this.aet=c;this.id=e;this.el=document.getElementById(e);this.updateHandler=a;this.clickHandler=d;this.udata=b};AjaxEntryTable.Button.prototype.update=function(){this.updateHandler(this.aet,this,this.udata)};AjaxEntryTable.Button.prototype.enable=function(b){if(b){var a=this;adjustElementClass(this.el,null,"disabled");Y.Event.purgeElement(this.el);Y.on("click",function(c){a.clickHandler(a.aet,a.udata);c.halt()},this.el)}else{adjustElementClass(this.el,"disabled",null);Y.Event.purgeElement(this.el);Y.on("click",function(c){c.halt()},this.el)}};AjaxEntryTable.Button.prototype.setIcon=function(a){if(a){Y.one(this.el).setStyles({backgroundImage:"url(/images/"+a+")",paddingLeft:"19px"})}else{Y.one(this.el).setStyles({backgroundImage:"none",paddingLeft:"0"})}};AjaxEntryTable.Button.prototype.setText=function(a){setElementText(this.el,a)};AjaxEntryTable.populateInvalidEntryTd=function(c,f,a){var d=document.createElement("img");d.setAttribute("src","/images/aet_invalid.gif");d.setAttribute("alt","");var e=document.createTextNode(f);var b=document.createElement("span");b.appendChild(e);b.setAttribute("class","aetInvalid");new RBT.Tooltip({triggerNode:b,content:a}).render();c.appendChild(d);c.appendChild(b)};function CsvDoc(e){this.delimiter="\t";this.index=0;var f=e.split("\n");this.statusAndMessage=f[0];var c=f[1].split(this.delimiter);this.attributes={};for(var b=0;b<c.length;b++){var d=c[b].split("=");this.attributes[d[0]]=d[1]}var a=f[2].split(this.delimiter);this.rows=[];for(var b=3;b<(f.length-1);b++){this.rows[b-3]=new CsvDocRow(this,f[b])}this.map={};for(var b=0;b<a.length;b++){this.map[a[b]]=b}this.length=this.rows.length}function CsvDocRow(b,a){this.parent=b;this.line=a}CsvDocRow.prototype.getAttribute=function(a){var e=this.parent.map[a];if(undefined==e){return null}var d=0;for(var c=0;c<e;c++,d++){d=this.line.indexOf(this.parent.delimiter,d);if(-1==d){return""}}var b=this.line.indexOf(this.parent.delimiter,d);return this.line.substring(d,(-1==b)?this.line.length:b)};RBT._AutoComplete={};RBT._AutoComplete.widgetData=new Array();RBT._AutoComplete.resultFormatter=function(b,a){return Y.Array.map(a,function(c){return'<div class="autoCompleteWidget_resultText">'+c.highlighted.name+'</div><div class="autoCompleteWidget_subtext">'+c.highlighted.description+"</div>"})};RBT._AutoComplete.resultHighlighter=function(b,a){return Y.Array.map(a,function(f){var d=f.raw.name;var c=d.toLowerCase().indexOf(b.toLowerCase());if(c!==-1){d=d.substring(0,c)+'<b class="yui3-highlight">'+d.substring(c,c+b.length)+"</b>"+d.substring(c+b.length,d.length)}var g=f.raw.description;var e=g.toLowerCase().indexOf(b.toLowerCase());if(e!==-1){g=g.substring(0,e)+'<b class="yui3-highlight">'+g.substring(e,e+b.length)+"</b>"+g.substring(e+b.length,g.length)}return{name:d,description:g}})};RBT._AutoComplete.phraseMatchNameFirst=function(e,d){e=e.toLowerCase();var a=Y.Array.filter(d,function(f){return f.raw.name.toLowerCase().indexOf(e)===0});var c=Y.Array.filter(d,function(f){return f.raw.name.toLowerCase().indexOf(e)>0});var b=Y.Array.filter(d,function(f){return((f.raw.name.toLowerCase().indexOf(e)===-1)&&(f.raw.description.toLowerCase().indexOf(e)!==-1))});return a.concat(c,b)};RBT._AutoComplete.makeAutoComplete=function(a,b,d,c){if(c===undefined){c=15}RBT._AutoComplete.widgetData[a+"_maxReached"]=false;RBT._AutoComplete.widgetData[a+"_maxResults"]=c;RBT._AutoComplete.widgetData[a+"_eventHandlers"]=d;Y.one("body").addClass("yui3-skin-sam");Y.on("domready",function(){var e=this;var h=Y.one("input[name='"+e+"']");h.plug(Y.Plugin.AutoComplete,{resultFormatter:RBT._AutoComplete.resultFormatter,resultFilters:RBT._AutoComplete.phraseMatchNameFirst,resultHighlighter:RBT._AutoComplete.resultHighlighter,resultTextLocator:function(m){return m.name},render:true,minQueryLength:0,maxResults:c+1,source:b});h.on("focus",Y.bind(function(){this.ac.sendRequest(this.get("value"),null)},h));h.ac.on("results",Y.bind(function(m){e=this.get("name");len=m.results.length;if(len>RBT._AutoComplete.widgetData[e+"_maxResults"]){m.results.length=RBT._AutoComplete.widgetData[e+"_maxResults"];RBT._AutoComplete.widgetData[e+"_maxReached"]=true}else{RBT._AutoComplete.widgetData[e+"_maxReached"]=false}},h));h.ac.after("results",Y.bind(function(){RBT.Validator.validateField(this);e=this.get("name");moreResultName=e+"_moreresult";var r=this.ancestor();var p=r.get("children");var o=null;for(var n=0;n<p.size();n++){if(p.item(n).hasClass("yui3-widget")){o=p.item(n)}}if(o!=null){var m=Y.one("#"+moreResultName);if(!m){var q=Y.Node.create('<p id="'+moreResultName+'" class="yui3-aclist-content">...more than '+RBT._AutoComplete.widgetData[e+"_maxResults"]+" search results.</p>");o.appendChild(q);m=Y.one("#"+moreResultName)}if(m){if(RBT._AutoComplete.widgetData[e+"_maxReached"]){m.removeClass("yui3-aclist-hidden")}else{m.addClass("yui3-aclist-hidden")}}}},h));var l=RBT._AutoComplete.widgetData[e+"_eventHandlers"];if(l){var f=l.length;for(var k=0;k<f;k++){if(l[k].length==3){var j=l[k][0];var g=l[k][1];var i=l[k][2];if(g=="after"){h.ac.after(j,Y.bind(i,h))}else{if(g=="on"){h.ac.on(j,Y.bind(i,h))}}}}}},a)};var menu=new Object();menu.picked=null;menu.fixIE6=function(){if(6!=compat.MSIE){return}var c=document.getElementsByTagName("select");var e="";var b=0;var d=null;var a=null;if(menu.picked){e="hidden"}for(b=0;b<c.length;b++){d=c[b];if(d.style){d.style.visibility=e}}};menu.level0_ClearAction=function(b){if(!menu.picked){return}var a=menu.targetIsLevel0(b);if(a!=menu.picked){menu.replaceClassName(menu.picked,"navpick_0","navitem_0");menu.picked=null}menu.fixIE6()};menu.level0_ClearEvent=function(a){a=compat.fixEvent(a);var b=a.target;menu.level0_ClearAction(b)};menu.level0_PickAction=function(a,c){var b=null;if(!menu.targetIsLevel0(c)){return b}if(!menu.picked){b=a;menu.picked=a;menu.replaceClassName(a,"navitem_0","navpick_0")}else{if(menu.picked==a){b=menu.picked;menu.picked=null;menu.replaceClassName(a,"navpick_0","navitem_0")}else{menu.level0_SwitchAction(a)}}menu.fixIE6();return b};menu.targetIsLevel0=function(c){var b=null;var a=getLowestOfType(c,"DIV");if(!a){return null}if(-1<a.className.indexOf("navwrap_0")){b=a.parentNode}return b};menu.level0_SwitchAction=function(b){var a=null;if(!menu.picked){return}for(a=menu.firstLevel0_ListItem("mainNav");a;a=menu.nextListItem(a)){if((a==b||a==getParentOfType(b,"LI"))&&(-1<a.className.indexOf("cascade"))){break}}if(!a||a==menu.picked){return}menu.replaceClassName(menu.picked,"navpick_0","navitem_0");menu.replaceClassName(a,"navitem_0","navpick_0");menu.picked=a};menu.level0_AddListeners=function(a){if(-1==a.className.indexOf("cascade")){return}var b=function(d){d=compat.fixEvent(d);target=d.target;if(menu.level0_PickAction(a,target)){d.preventDefault()}};var c=function(d){menu.level0_SwitchAction(a)};compat.addListener(a,"click",b);compat.addListener(a,"mouseover",c)};menu.initCascade=function(){var a=null;for(a=menu.firstLevel0_ListItem("mainNav");a;a=menu.nextListItem(a)){if(hasAttribute(a.firstChild.firstChild,"href")){menu.level0_AddListeners(a)}}compat.addListener(document.body,"click",menu.level0_ClearEvent)};onloadScript+="menu.initCascade(); ";menu.firstLevel0_ListItem=function(c){var e=$(c);var b=null;if(!e){return null}var d=getFirstChildByClassName(e,"navmenu_0");if(!d){return null}var a=d?getFirstChildByTagName(d,"ul"):null;if(!a){return null}for(b=a.firstChild;b;b=b.nextSibling){if(Node.ELEMENT_NODE==b.nodeType&&"LI"==b.nodeName.toUpperCase()){break}}return b};menu.nextListItem=function(a){for(a=a.nextSibling;a;a=a.nextSibling){if(Node.ELEMENT_NODE==a.nodeType&&"LI"==a.nodeName.toUpperCase()){break}}return a};menu.replaceClassName=function(a,e,d){var c=a.className;var b=c.indexOf(e);if(-1==b){return}c=c.substring(0,b)+d+c.substring(b+e.length);a.className=c};var temp={};temp.Wizard=function(a){temp.Wizard.superclass.constructor.apply(this,arguments)};temp.Wizard.NAME="wizard";temp.Wizard.ATTRS={startingStep:{value:1,validator:Y.Lang.isNumber},currentStep:{value:0,validator:Y.Lang.isNumber},steps:{value:[{name:"Welcome",node:Y.Node.create("<div>Welcome to the Wizard!</div>"),nextText:"Finish",before:function(a){},after:function(a){},submitAfter:false}],validator:Y.Lang.isArray},submitURL:{value:"",validator:Y.Lang.isString},inclInputClass:{value:Y.ClassNameManager.getClassName(temp.Wizard.NAME,"included","input"),validator:Y.Lang.isString},submitForm:{value:null},pollFrequency:{value:250,validator:Y.Lang.isNumber},titleText:{value:"Wizard",validator:Y.Lang.isString},helpPage:{value:null},helpImg:{value:"/images/icon_wizard_help.png"},cancelImg:{value:null},cancelText:{value:""},cancelAction:{value:null},strings:{value:{backText:"Back",nextText:"Next",confirmExit:"Are you sure you want to exit the Whitewater Wizard?",savingSettings:"Saving Settings..."}},width:{value:"700px"},zIndex:{value:100,validator:Y.Lang.isNumber},topOffset:{value:10,validator:Y.Lang.isNumber},responseContainer:{value:null},headerContent:{value:null},bodyContent:{value:null},footerContent:{value:null}};Y.extend(temp.Wizard,Y.Overlay,{initializer:function(){if(this.get("currentStep")!=(this.get("startingStep")-1)){this.set("currentStep",this.get("startingStep")-1)}},destructor:function(){if(this._resizeHandle){this._resizeHandle.detach()}},renderUI:function(){this.background=Y.Node.create(Y.substitute('<div class="{cls}"></div>',{cls:this.getClassName("background")}));this.get("boundingBox").append(this.background);if(this.get("headerContent")==null){this._renderHeader();this._renderHelpButton();this._renderCancelButton()}if(this.get("bodyContent")==null){this._renderBody()}if(this.get("footerContent")==null){this._renderFooter();this._renderNavButtons()}},bindUI:function(){this._cancelButtonEvent=this.cancelButton.on("click",Y.bind(this._cancelClicked,this));this._backButtonEvent=this.backButton.on("click",Y.bind(this._go,this,"back"));this._nextButtonEvent=this.nextButton.on("click",Y.bind(this._go,this,"next",false));this._resizeHandle=Y.one(window).on("resize",Y.bind(this._position,this));this.after("currentStepChange",function(){this._syncUI()},this)},syncUI:function(){this._syncUI()},_syncUI:function(){var c=this.get("currentStep"),a=this.get("steps"),e=this.get("strings"),d=this.get("pollFrequency"),b=temp.Wizard.ATTRS.strings.value.nextText;if(Y.Object.hasKey(e,"nextText")){b=e.nextText}if(c==0||c==a.length-1){this.backButton.setStyle("display","none")}else{this.backButton.setStyle("display","block")}if(this._validPoll&&Y.Lang.isFunction(this._validPoll.cancel)){this._validPoll.cancel()}this._validateStep(c);this._validPoll=Y.later(d,this,this._validateStep,c,true);this.wizSteps.all("."+this.getClassName("step")).removeClass(this.getClassName("step","active"));a[c].stepNode.addClass(this.getClassName("step","active"));this.wizSettings.all("."+this.getClassName("settingspage")).removeClass(this.getClassName("settingspage","active"));a[c].node.addClass(this.getClassName("settingspage","active"));if(Y.Object.hasKey(a[c],"nextText")){this.nextButton.set("text",a[c].nextText)}else{this.nextButton.set("text",b)}this.set("align",null);this._position()},show:function(){this.get("boundingBox").all("*").setStyle("display","block")},hide:function(){this.get("boundingBox").all("*").setStyle("display","none")},_renderHeader:function(){var a;this.header=Y.Node.create("<div></div>");this.header.append(Y.Node.create('<div class="'+this.getClassName("left")+'"></div>'));a=Y.substitute('<div class="{center}"><div class="{title}">{ttext}</div></div>',{center:this.getClassName("center"),title:this.getClassName("title"),ttext:this.get("titleText")});this.header.append(Y.Node.create(a));a=Y.substitute('<div class="{rtcls} {helpcls} {cnclcls}"></div>',{rtcls:this.getClassName("right"),helpcls:this.getClassName("help","container"),cnclcls:this.getClassName("cancel","container")});this.header.append(Y.Node.create(a));this.set("headerContent",this.header)},_renderBody:function(){var a=this.get("steps");this.body=Y.Node.create("<div></div>");this.bodyCenter=Y.Node.create('<div class="'+this.getClassName("center")+'"></div>');this.wizSteps=Y.Node.create('<div class="'+this.getClassName("steps")+'"></div>');Y.each(a,function(d,b){var c='<div id="{id}" class="{cls}"><span id="{spanID}" class="{spanClass}"></span>{name}</div>';c=Y.substitute(c,{id:"wizStep"+b.toString(),cls:this.getClassName("step"),spanID:"wizStep"+b.toString()+"Image",spanClass:this.getClassName("step","image"),name:d.name});d.stepNode=Y.Node.create(c);this.wizSteps.append(d.stepNode)},this);this.wizSettings=Y.Node.create('<div class="'+this.getClassName("settings")+'"></div>');Y.each(a,function(d,b){var e,c='<form action="{action}" id="{formID}" method="post"></form>';d.node=Y.one(d.node);d.node.addClass(this.getClassName("settingspage"));d.node.removeClass(this.getClassName("loading"));if(d.node.all("form").isEmpty()){c=Y.substitute(c,{action:window.location.toString(),formID:"wizStepForm"+b.toString()});e=Y.Node.create(c);e.append(d.node);this.wizSettings.append(e)}else{this.wizSettings.append(d.node)}},this);this.bodyCenter.append(this.wizSteps);this.bodyCenter.append(Y.Node.create("<div class="+this.getClassName("divider")+"></div>"));this.bodyCenter.append(this.wizSettings);this.body.append(Y.Node.create('<div class="'+this.getClassName("left")+'"></div>'));this.body.append(this.bodyCenter);this.body.append(Y.Node.create('<div class="'+this.getClassName("right")+'"></div>'));this.set("bodyContent",this.body)},_renderFooter:function(){var a;this.footer=Y.Node.create("<div></div>");this.footer.append(Y.Node.create('<div class="'+this.getClassName("left")+'"></div>'));a='<div class="{center}"><div class="{button} {backDiv}"></div><div class="{button} {nextDiv}"></div></div>';a=Y.substitute(a,{center:this.getClassName("center"),button:this.getClassName("button"),backDiv:this.getClassName("back","button"),nextDiv:this.getClassName("next","button")});this.footer.append(Y.Node.create(a));this.footer.append(Y.Node.create('<div class="'+this.getClassName("right")+'"></div>'));this.set("footerContent",this.footer)},_renderHelpButton:function(){var b,c=this.get("helpImg"),a=this.get("helpPage");if(a){b='<div class="{helpcls}"><a href="#" onclick="return popupHelp(\'{helpPage}\', 600, 700)" ><img src="{helpimg}" class="{imgcls}" border="0"></a></div>';b=Y.substitute(b,{helpcls:this.getClassName("help","button"),helpPage:a,helpimg:c,imgcls:this.getClassName("help","image")});this.helpButton=Y.Node.create(b);this.header.one("."+this.getClassName("help","container")).append(this.helpButton)}},_renderCancelButton:function(){var c="",b=this.get("cancelImg"),a=this.get("cancelText");if(b){c='<div class="{cnclcls}"><a href="javascript:void(0);"><img src="{cnclimg}" class="{imgcls}" title="{cncltxt}" border="0"></a></div>';c=Y.substitute(c,{cnclcls:this.getClassName("cancel","button"),cnclimg:b,cncltxt:a,imgcls:this.getClassName("cancel","image")})}else{c='<button class="'+this.getClassName("cancel","button")+'">X</button>'}this.cancelButton=Y.Node.create(c);this.header.one("."+this.getClassName("cancel","container")).append(this.cancelButton)},_renderNavButtons:function(){var c=this.get("strings"),b=temp.Wizard.ATTRS.strings.value.backText,a=temp.Wizard.ATTRS.strings.value.nextText;if(Y.Object.hasKey(c,"backText")){b=c.backText}if(Y.Object.hasKey(c,"nextText")){a=c.nextText}this.backButton=Y.Node.create('<button id="wizBackButton">'+b+"</button>");this.nextButton=Y.Node.create('<button id="wizNextButton">'+a+"</button>");this.footer.one("."+this.getClassName("back","button")).append(this.backButton);this.footer.one("."+this.getClassName("next","button")).append(this.nextButton)},_position:function(){var f=Y.one(window).get("winWidth"),e=Y.one(window).get("winHeight"),h=this.get("boundingBox"),d=h.get("offsetWidth"),g=h.get("offsetHeight"),c=this.get("topOffset"),a=Math.round(Math.max((f-d)/2,0)),b=Math.round(Math.max((e-g)/2,c));this.move(a,b);h.setStyles({left:a,top:b})},_cancelClicked:function(){var c=this.get("strings"),a=this.get("cancelAction"),b=temp.Wizard.ATTRS.strings.value.confirmExit;if(Y.Object.hasKey(c,"confirmExit")){b=c.confirmExit}if(Y.Lang.isFunction(a)){a.call(this)}else{if(confirm(b)){this.hide()}}},_validateStep:function(c){var b=true,a=this.get("steps");if(a[c]&&a[c].node instanceof Y.Node){a[c].node.all("."+this.get("inclInputClass")).some(function(f){var e,g=f.get("form"),d=f.getData("RBT.Validator");if(!d||!g){return false}e=g.getData("RBT.Validator").invalidFields;b=b&&!Y.Object.getValue(e,d.guid);return !b});if(a[c].alternateValidator){b=b&&a[c].alternateValidator.call(this)}if(b){this.nextButton.set("disabled",false)}else{this.nextButton.set("disabled",true)}return b}return false},_go:function(e,c){var g=this.get("steps"),b=this.get("currentStep"),a=g.length-1,i=this.get("strings"),f=temp.Wizard.ATTRS.strings.value.savingSettings,d=null;if(Y.Object.hasKey(i,"savingSettings")){f=i.savingSettings}if(e=="next"){if(b==a){if(Y.Lang.isFunction(g[b].after)){g[b].after.call(this,e)}return}d=b+1}else{if(e=="back"){if(b==0){return}d=b-1}else{if(Y.Lang.isNumber(e)){if((e>=0)&&(e<=a)){d=e}}else{return}}}if(d!=null){if(!c&&Y.Lang.isFunction(g[b].after)){if(g[b].after.call(this,e)==true){return}}if(Y.Lang.isFunction(g[d].before)){g[d].before.call(this,e);var h=g[d].node.one("form");if(h){RBT.Validator.validateForm(h)}}if(g[b].submitAfter&&d>b){this.nextButton.set("disabled",true);if(this._validPoll&&Y.Lang.isFunction(this._validPoll.cancel)){this._validPoll.cancel()}this.nextButton.set("text",f);this._submitWizData(d)}else{this.set("currentStep",d)}}},advanceStep:function(){this._go("next",true)},_submitWizData:function(b){var d,f={},e=this.get("submitForm"),a=this.get("submitURL"),g=Y.config.doc,c=[];if(Y.one(e)){e=Y.one(e)}else{if(Y.Lang.isString(e)&&Y.one("#"+e)){e=Y.one("#"+e)}else{e=null}}this.get("contentBox").all("."+this.get("inclInputClass")).each(function(){if(!(e&&e.contains(this))){if((this.get("type")!="radio"&&this.get("type")!="checkbox")||this.get("checked")){f[this.get("name")]=this.get("value")}else{if(this.get("type")=="checkbox"&&this.get("checked")==false){f[this.get("name")]="false"}}}});d={method:"POST",on:{complete:this._handleComplete},context:this,arguments:{nextStep:b}};if(e){d.form={id:e,useDisabled:true,upload:true};Y.each(f,function(j,i){var h;if(!Y.Lang.isFunction(j)){h=g.createElement("input");h.type="hidden";h.name=i;h.value=j;e.appendChild(h);c.push(h)}})}else{d.data=f}Y.io(a,d);if(e&&c.length>0){Y.each(c,function(h){e.removeChild(h)})}},_handleComplete:function(g,f,c){var d,a=c.nextStep,b=this.get("steps"),e=Y.one(this.get("responseContainer"));if(f.responseXML&&f.responseXML.documentElement&&f.responseXML.documentElement.firstChild){d=this._createXMLResults(f.responseXML.documentElement.firstChild)}else{if(f.responseText){d=Y.Node.create('<p class="actionMessage">'+f.responseText+"</p>")}else{d=Y.Node.create('<p class="formErrorMessage">Unable to interpret server response.</p>')}}if(e){e.append(d)}else{b[a].node.append(d)}this.set("currentStep",a)},_createXMLResults:function(c){var a=Y.Node.create('<div id="xmlMessages"></div>'),b=c.childNodes;Y.each(b,function(f){var d,g=f.text||f.textContent,e=f.getAttribute("class")||"";d=Y.Node.create('<p class="'+e+'">'+g+"</p>");a.append(d)});return a}});var Search={};Search.acNode=null;Search._acDatasource=null;Search._acAnim=null;Search._acCONSTANTS={KEY_DOWN:"40",KEY_UP:"38"};Search._acPrevQuery="";Search._acIsAvailable=false;Search._acLinkHash={};Search._acOriginalStyle=null;Search._acNewStyle={backgroundImage:"url(/images/search_icon.png)",backgroundColor:"#FFFFFF",cursor:"text"};Search._acToggleSearchBox=function(b){if(Search._acIsAvailable==b){return}else{Search._acIsAvailable=b}var a=(b)?Search._acNewStyle:Search._acOriginalStyle;Search._acAnim.set("reverse",!b);Search._acAnim.run();Search.acNode.setStyles(a)};Search._acResultFormatter=function(c,b){var a=function(g){var e="";var h="&#8250;";if(g.raw.lastIndexOf(h)<0){e="<b>"+g.raw+"</b>"}else{var f=g.raw.slice(g.raw.lastIndexOf(h)+h.length+1);var d=g.raw.slice(0,g.raw.lastIndexOf(h));e="<b>"+f+"</b><br />"+d}return'<div class="listItem" >'+e+"</div>"};return Y.Array.map(b,a)};Search._acResultListLocator=function(b){var c=[];Search._acLinkHash={};var a=b[0].responseXML.documentElement;var e=a.getElementsByTagName("results")[0];var d=parseInt(e.getAttribute("resultCount"));var g=e.getElementsByTagName("result");var f=10;for(i=0;i<g.length;i++){c[i]=g[i].getAttribute("title");Search._acLinkHash[c[i]]=g[i].getAttribute("link")}if(!d){c[0]="No Results Found";Search._acLinkHash[c[0]]=""}if(d>f){Y.one("#moreResults").show()}else{Y.one("#moreResults").hide()}return c};Search._acSelectListener=function(a){a.preventDefault();if(a.itemNode.getData().result.raw!="No Results Found"){Search.acNode.ac.hide();window.location="/mgmt/gui?p="+Search._acLinkHash[a.itemNode.getData().result.raw]}};Search._acBlurListener=function(a){var b=Search.acNode.ac.get("activeItem");Search._acPrevQuery=Search.acNode.get("value");Search.acNode.set("value","");if(!Search.acNode.ac.get("hoveredItem")){Search._acToggleSearchBox(false);Search.acNode.ac.hide()}if(b&&b.getData().result.raw=="No Results Found"){Y.later(0,Search.acNode,"focus")}};Search._acFocusListener=function(a){Search._acSelectListItem(0);Search.acNode.set("value",Search._acPrevQuery);if(!Search._acIsAvailable){Y.later(0,Search.acNode,"select")}Search._acToggleSearchBox(true);if(Search.acNode.get("value")){Search.acNode.ac.show()}};Search._acKeyUpListener=function(a){if(a.keyCode==Search._acCONSTANTS.KEY_DOWN||a.keyCode==Search._acCONSTANTS.KEY_UP){Search._acCircularSelectListItem(a.keyCode)}};Search._acCircularSelectListItem=function(b){var a=Search.acNode.ac.get("activeItem");if(a){return}if(b==Search._acCONSTANTS.KEY_DOWN){Search._acSelectListItem(0)}else{if(b==Search._acCONSTANTS.KEY_UP){Search._acSelectListItem(-1)}}};Search._acSelectListItem=function(b){var a=Y.one("#search").all(".yui3-aclist-item");var c=null;if(b==-1){c=a.item(a.size()-1)}else{if(b>=0){c=a.item(b)}}Search.acNode.ac.set("activeItem",c)};Search._acAddListNode=function(e,d,b){var a=Search.acNode.ac.get("contentBox");var c=Y.Node.create('<div class="nonListItem" id="'+d+'">'+e+"</div>");if(b){a.append(c)}else{a.prepend(c)}};Y.on("domready",function(a){Search.acNode=Y.one("#headerSearch");if(Search.acNode){Search._acOriginalStyle={backgroundImage:Search.acNode.getComputedStyle("backgroundImage"),backgroundColor:Search.acNode.getComputedStyle("backgroundColor"),cursor:Search.acNode.getComputedStyle("cursor")};Search._acAnim=new Y.Anim({node:Search.acNode,from:{width:Search.acNode.getComputedStyle("width")},to:{width:"160px"},duration:0.3,easing:Y.Easing.easeOut});Search._acDatasource=new Y.DataSource.IO({source:"/mgmt/xmldata?p=searchText",ioConfig:{method:"post"}});Search.acNode.plug(Y.Plugin.AutoComplete,{activateFirstItem:true,render:true,source:Search._acDatasource,requestTemplate:"&query={query}",resultFormatter:Search._acResultFormatter,resultListLocator:Search._acResultListLocator,width:"183px",align:{node:Search.acNode,points:["tl","bl"]}});Search._acAddListNode("Showing top 10 results ...","moreResults",true);Search.acNode.ac.on("select",Search._acSelectListener);Search.acNode.on("keyup",Search._acKeyUpListener);Search.acNode.on("focus",Search._acFocusListener);Search.acNode.on("blur",Search._acBlurListener)}});RBT.Reports2={};RBT.Reports2._initialized=false;RBT.Reports2._errorMsgShown=false;RBT.Reports2._chartWindow=null;RBT.Reports2._pageRefreshCountdown=20;RBT.Reports2._UPDATE_INTERVAL=10;RBT.Reports2._UPDATE_FAILURE_THRESHOLD=6;RBT.Reports2._CHART_WINDOW_SIZES={"5m":5*60*1000,"1h":60*60*1000,"1d":24*60*60*1000,"1w":7*24*60*60*1000,Yesterday:null,"Last Week":null,"Last Month":null,All:null};RBT.Reports2._MINIMUM_TIME_RANGE=RBT.Reports2._CHART_WINDOW_SIZES["5m"];RBT.Reports2._OFF_HOURS_START_HOUR=17;RBT.Reports2._OFF_HOURS_END_HOUR=8;RBT.Reports2._MINIMUM_CHART_HEIGHT=525;RBT.Reports2._PAGE_REFRESH_INTERVAL=4*60;RBT.Reports2._MINIMUM_YAXIS_RANGE=0.9;RBT.Reports2.AQUA="#6EC5FF";RBT.Reports2.BLACK="#000000";RBT.Reports2.BLUE="#616FD2";RBT.Reports2.BLUE_TRANSPARENT="rgba(97, 111, 210, 0.2)";RBT.Reports2.BROWN="#A26C20";RBT.Reports2.GRAY_DARK="#2D3539";RBT.Reports2.GRAY_LIGHT="#DCD7D4";RBT.Reports2.GRAY_MEDIUM="#95908D";RBT.Reports2.GREEN="#498603";RBT.Reports2.GREEN_TRANSPARENT="rgba(103, 158, 0, 0.2)";RBT.Reports2.ORANGE="#F08016";RBT.Reports2.PINK="#FF8BC2";RBT.Reports2.PURPLE="#C919DF";RBT.Reports2.RED="#EF0028";RBT.Reports2.RED_TRANSPARENT="rgba(229, 30, 18, 0.2)";RBT.Reports2.WHITE="#FFFFFF";RBT.Reports2.YELLOW="#E6E800";RBT.Reports2.YELLOW_TRANSPARENT="rgba(206, 222, 0, 0.2)";RBT.Reports2._TEXT_COLOR_MAP={};RBT.Reports2._TEXT_COLOR_MAP[RBT.Reports2.AQUA]="#33ACFF";RBT.Reports2._TEXT_COLOR_MAP[RBT.Reports2.BLUE]="#2026D2";RBT.Reports2._TEXT_COLOR_MAP[RBT.Reports2.BROWN]="#824300";RBT.Reports2._TEXT_COLOR_MAP[RBT.Reports2.GRAY_MEDIUM]="#5A5855";RBT.Reports2._TEXT_COLOR_MAP[RBT.Reports2.GREEN]="#4E7A00";RBT.Reports2._TEXT_COLOR_MAP[RBT.Reports2.ORANGE]="#E26200";RBT.Reports2._TEXT_COLOR_MAP[RBT.Reports2.PINK]="#F14FED";RBT.Reports2._TEXT_COLOR_MAP[RBT.Reports2.PURPLE]="#B200EA";RBT.Reports2._TEXT_COLOR_MAP[RBT.Reports2.RED]="#CD000B";RBT.Reports2._TEXT_COLOR_MAP[RBT.Reports2.YELLOW]="#BFC600";RBT.Reports2.getTextColor=function(a){if(a in RBT.Reports2._TEXT_COLOR_MAP){return RBT.Reports2._TEXT_COLOR_MAP[a]}else{return a}};RBT.Reports2._initialize=function(){if(RBT.Reports2._initialized){return}Highcharts.setOptions({chart:{style:{fontFamily:Y.one("body").getComputedStyle("fontFamily"),fontSize:"11px"}}});RBT.Reports2._initialized=true};RBT.Reports2.defaultHighstockOptions=function(b){var a={chart:{alignTicks:false,animation:false,zoomType:"x"},colors:[RBT.Reports2.BLUE,RBT.Reports2.BROWN,RBT.Reports2.GREEN,RBT.Reports2.RED,RBT.Reports2.ORANGE,RBT.Reports2.PURPLE,RBT.Reports2.AQUA,RBT.Reports2.PINK],credits:{enabled:false},loading:{style:{backgroundColor:"transparent",opacity:1}},navigator:{series:{fillOpacity:0.25,lineColor:RBT.Reports2.BLUE,type:"line"},xAxis:{dateTimeLabelFormats:{second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m/%d",week:"%m/%d",month:"%b %Y",year:"%Y"}},yAxis:{min:0,minRange:RBT.Reports2._MINIMUM_YAXIS_RANGE}},plotOptions:{area:{fillOpacity:0.25},series:{animation:false,dataGrouping:{groupPixelWidth:5},lineWidth:1,marker:{symbol:"circle"},states:{hover:{lineWidth:1}},turboThreshold:1000000}},rangeSelector:{enabled:false},scrollbar:{},tooltip:{backgroundColor:"#FFFFDF",borderColor:"#777777",borderWidth:1,style:{color:"#000000",fontSize:"11px"}},xAxis:[RBT.Reports2._defaultPrimaryXaxisOptions(),RBT.Reports2._defaultSecondaryXaxisOptions()],yAxis:[RBT.Reports2._defaultPrimaryYaxisOptions(),RBT.Reports2._defaultSecondaryYaxisOptions()]};if(b){a.xAxis.push(RBT.Reports2._defaultSecondaryXaxisOptions(),RBT.Reports2._defaultSecondaryXaxisOptions());a.yAxis.push(RBT.Reports2._defaultPrimaryYaxisOptions(),RBT.Reports2._defaultSecondaryYaxisOptions())}return a};RBT.Reports2._defaultPrimaryXaxisOptions=function(){return{dateTimeLabelFormats:{second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m/%d",week:"%m/%d",month:"%b %Y",year:"%Y"},events:{},gridLineDashStyle:"Dot",gridLineWidth:1,labels:{style:{color:"#000000"},y:20},lineColor:"#C0C0C0",minRange:RBT.Reports2._MINIMUM_TIME_RANGE,ordinal:false}};RBT.Reports2._defaultSecondaryXaxisOptions=function(){return{gridLineWidth:0,labels:{enabled:false},lineColor:"#C0C0C0",opposite:true,ordinal:false}};RBT.Reports2._defaultPrimaryYaxisOptions=function(){return{gridLineDashStyle:"Dot",labels:{align:"right",style:{color:"#000000"},x:-4,y:5},lineColor:"#C0C0C0",lineWidth:1,min:0,minRange:RBT.Reports2._MINIMUM_YAXIS_RANGE,showLastLabel:true,title:{style:{color:"#000000",fontWeight:"normal"}}}};RBT.Reports2._defaultSecondaryYaxisOptions=function(){return{gridLineWidth:0,labels:{align:"left",enabled:false,style:{color:"#000000"},x:4,y:5},lineColor:"#C0C0C0",lineWidth:1,min:0,minRange:RBT.Reports2._MINIMUM_YAXIS_RANGE,opposite:true,showLastLabel:true,title:{style:{color:"#000000",fontWeight:"normal"}}}};RBT.Reports2.showErrorMessage=function(b,a){RBT.Reports2._showErrorMsg(b,null,a)};RBT.Reports2._showErrorMsg=function(c,d,b){if(RBT.Reports2._errorMsgShown){return}var a=b?b:{affinity:RBT.Dialog.AFFINITY_CENTER};a.content=c;a.buttons=[{label:"OK",clickFn:RBT.Reports2._dismissErrorDialog}];new RBT.Dialog(a).render();RBT.Reports2._errorMsgShown=true};RBT.Reports2._dismissErrorDialog=function(a){this.hide();RBT.Reports2._errorMsgShown=false};RBT.Reports2.roundWithPadding=function(b,d){var f=Math.pow(10,d);var a=(Math.round(b*f)/f).toString();var e;var c=a.indexOf(".");if(c<0){e=0}else{e=a.length-c-1}if(e<d){if(e===0){a+="."}do{a+="0";e+=1}while(e<d)}return a};RBT.Reports2.addThousandsSeparators=function(d){var f=""+d;var c="";if(f.charAt(0)=="-"){c="-";f=f.slice(1)}var b="";var a=f.split(".");if(a.length==2){f=a[0];b="."+a[1]}var e="";while(f.length>3){e=","+f.slice(-3)+e;f=f.slice(0,-3)}return c+f+e+b};RBT.Reports2._prefixSystems={si:{step:1000,prefixes:["","k","M","G","T","P","E"]},binary:{step:1024,prefixes:["","Ki","Mi","Gi","Ti","Pi","Ei"]},english:{step:1000,prefixes:["","thousand ","million ","billion ","trillion ","quadrillion ","quintillion "]},memory:{step:1024,prefixes:["","k","M","G","T","P","E"]}};RBT.Reports2.scale=function(e,h,d,g){var f=RBT.Reports2._prefixSystems[d].step;var c=0;while(e>=f){e/=f;c+=1}if(h===0&&Math.round(e)==f){e=1;c+=1}var b=RBT.Reports2.roundWithPadding(e,h);var a=RBT.Reports2._prefixSystems[d].prefixes[c];return b+" "+a+g};RBT.Reports2.avg=function(b){if(b.length===0){return 0}var a=0;var d=0;for(var c=0;c<b.length;c++){a+=b[c].y*b[c].g;d+=b[c].g}return(a/d)};RBT.Reports2.integrate=function(a){var c=0;for(var b=0;b<a.length;b++){c+=a[b].y*a[b].g}return c};RBT.Reports2.max=function(b){if(b.length===0){return 0}var a=b[0].y;for(var c=1;c<b.length;c++){if(b[c].y>a){a=b[c].y}}return a};RBT.Reports2.min=function(a){if(a.length===0){return 0}var c=a[0].y;for(var b=1;b<a.length;b++){if(a[b].y<c){c=a[b].y}}return c};RBT.Reports2.sum=function(a){var c=0;for(var b=0;b<a.length;b++){c+=a[b].y}return c};RBT.Reports2._padTimestampNumber=function(a){if(a<10){return"0"+a}else{return""+a}};RBT.Reports2._formatDatetimeString=function(g){var i=new Date(g);var e=i.getUTCFullYear();var f=RBT.Reports2._padTimestampNumber(i.getUTCMonth()+1);var b=RBT.Reports2._padTimestampNumber(i.getUTCDate());var a=RBT.Reports2._padTimestampNumber(i.getUTCHours());var h=RBT.Reports2._padTimestampNumber(i.getUTCMinutes());var c=RBT.Reports2._padTimestampNumber(i.getUTCSeconds());return(e+"/"+f+"/"+b+" "+a+":"+h+":"+c)};RBT.Reports2.availableHeight=function(a){var b=Y.DOM.viewportRegion().height-document.body.offsetHeight-10;a=a||RBT.Reports2._MINIMUM_CHART_HEIGHT;if(b>a){return b}else{return a}};RBT.Reports2._isLegacyIE=function(){return(Y.UA.ie==7||Y.UA.ie==8)};RBT.Reports2._getComputedStylePixels=function(b,a){return parseInt(b.getComputedStyle(a).replace("px",""),10)};RBT.Reports2._getVerticalMargins=function(a){return RBT.Reports2._getComputedStylePixels(a,"marginBottom")+RBT.Reports2._getComputedStylePixels(a,"marginTop")};RBT.Reports2._getVerticalPadding=function(a){return RBT.Reports2._getComputedStylePixels(a,"paddingBottom")+RBT.Reports2._getComputedStylePixels(a,"paddingTop")};RBT.Reports2.TimeSeriesChart=function(a){this._chart=null;this._timer=null;this._dualPaneRectangle=null;this._numUpdateFailures=0;this._updateInProgress=null;this._renderToNode=Y.one(a.renderTo);this._dataUrl=a.dataUrl;this._dataFormatterFn=a.dataFormatterFn;if(a.options.lazyLoading===true){this._updateInProgress=false}this._options=Y.Object.owns(a,"options")?a.options:RBT.Reports2.defaultHighstockOptions();this._boundariesChangedFn=Y.Object.owns(a,"boundariesChangedFn")?a.boundariesChangedFn:null;this._postCreateChartFn=Y.Object.owns(a,"postCreateChartFn")?a.postCreateChartFn:null;this._topPaneHeightPercent=Y.Object.owns(a,"topPaneHeightPercent")?a.topPaneHeightPercent:0;this._initialWindow=Y.Object.owns(a,"initialWindow")?a.initialWindow:null;this._tooltipFormatterFn=Y.Object.owns(a,"tooltipFormatterFn")?a.tooltipFormatterFn:null;this._shadeOffHoursPeriods=Y.Object.owns(a,"shadeOffHoursPeriods")?a.shadeOffHoursPeriods:true;this._optionsModifierFn=Y.Object.owns(a,"optionsModifierFn")?a.optionsModifierFn:null;this._updateInterval=Y.Object.owns(a,"updateInterval")?a.updateInterval:RBT.Reports2._UPDATE_INTERVAL;this._lowerBound=Y.Object.owns(a,"lowerBound")?a.lowerBound:0;this._upperBound=Y.Object.owns(a,"upperBound")?a.upperBound:null;RBT.Reports2._initialize();this._showMessage("Loading chart.","reports2LoadingMessage");this._fetchAllData()};RBT.Reports2.TimeSeriesChart.prototype._fetchAllData=function(){var a={lb:this._lowerBound};if(this._upperBound!=null){a.ub=this._upperBound}RBT.rpc({url:this._dataUrl,successFn:Y.bind(this._createHighstockObj,this),errorFn:Y.bind(this._initialFetchFailed,this),fields:a})};RBT.Reports2.TimeSeriesChart.prototype._initialFetchFailed=function(a,b){RBT.Reports2._showErrorMsg(a,b);this._showMessage("Error loading chart.","reports2ErrorMessage")};RBT.Reports2.TimeSeriesChart._isResponseEmpty=function(b){for(var a=0;a<b.length;a++){if(b[a].data.length>0){return false}}return true};RBT.Reports2.TimeSeriesChart.prototype._createHighstockObj=function(d){if(RBT.Reports2.TimeSeriesChart._isResponseEmpty(d)){this._showMessage("No data to display.","reports2NoDataMessage");this._destroyHighstockChart();this._invokePostCreateChartFn();return}var b=this._computePaneLayout(Y.clone(this._options));if(this._optionsModifierFn){this._optionsModifierFn(b,d)}b.xAxis[0].events.afterSetExtremes=Y.bind(this._setExtremes,this);b.tooltip.formatter=this._tooltipFormatter;b.chart.renderTo=Y.Node.getDOMNode(this._renderToNode);if(!b.series){b.series=d}else{for(var a=0;a<b.series.length;a++){for(var c=0;c<d.length;c++){if(b.series[a].name==d[c].name){Y.each(d[c],function(f,e){b.series[a][e]=f});break}}}}if(this._shadeOffHoursPeriods){this._addOffHoursPlotBands(b)}this._destroyHighstockChart();this._hideMessage();new Highcharts.StockChart(b,Y.bind(this._highstockConstructorCallback,this))};RBT.Reports2.TimeSeriesChart.prototype._highstockConstructorCallback=function(a){this._chart=a;this._createEmptySpace();this._chart._rbtTimeSeriesChartObj=this;var b=Y.QueryString.parse(document.URL.split("?")[1]);if(this._updateInterval>0&&b.reports2AutoUpdate!="false"){this._timer=Y.later(this._updateInterval*1000,this,"_updateChart",null,true)}this._setInitialChartWindow();this._invokePostCreateChartFn()};RBT.Reports2.TimeSeriesChart.prototype._destroyHighstockChart=function(){if(this._chart){if(this._dualPaneRectangle){this._dualPaneRectangle.destroy();this._dualPaneRectangle=null}this._chart.destroy();this._chart=null}};RBT.Reports2.TimeSeriesChart.prototype._invokePostCreateChartFn=function(){if(this._postCreateChartFn){this._postCreateChartFn();this._postCreateChartFn=null}};RBT.Reports2.TimeSeriesChart.prototype._setInitialChartWindow=function(){var d;var c=this._dataRangeStart();var a=this._dataRangeEnd();if(RBT.Reports2._chartWindow){d=RBT.Reports2._chartWindow}else{if(this._initialWindow){d=this._initialWindow}else{this._setChartWindow(c,a);return}}if(d=="all"){this._setChartWindow(c,a)}else{if(typeof d=="number"){if(d>=RBT.Reports2._MINIMUM_TIME_RANGE&&(d<=(a-c))){this._setChartWindow(a-d,a)}else{this._setChartWindow(c,a)}}else{var e=d[0];var b=d[1];if(e>=c&&b<=a&&b>e&&(b-e)>=RBT.Reports2._MINIMUM_TIME_RANGE){this._setChartWindow(e,b)}else{this._setChartWindow(c,a)}}}};RBT.Reports2.TimeSeriesChart.prototype._setExtremes=function(h){if(!this._chart||isNaN(h.min)||isNaN(h.max)){return}this._createEmptySpace();var c=h.min;var f=h.max;var a=(f==this._dataRangeEnd());var k=(c==this._dataRangeStart()&&a);var b=(RBT.Reports2._chartWindow!=(f-c))||(!a);if(k){RBT.Reports2._chartWindow="all"}else{if(a){RBT.Reports2._chartWindow=f-c}else{RBT.Reports2._chartWindow=[c,f]}}if(this._boundariesChangedFn){this._boundariesChangedFn(c,f,a,k)}if((b)&&(this._options.lazyLoading===true)&&(this._updateInProgress===false)){this._updateInProgress=true;var i=this._getChartWindow();var g=Math.round(i[0]/1000);var j=Math.round(i[1]/1000);var d=Math.max((j-g)*0.1,600);g=g-d;j=j+d;this._chart.showLoading("Loading...");RBT.rpc({url:this._dataUrl,successFn:Y.bind(this._replaceData,this),errorFn:Y.bind(this._updateFailed,this),fields:{lb:g,ub:j,fromNavScroll:true}})}};RBT.Reports2.TimeSeriesChart.prototype._replaceData=function(b){for(var a=0;a<b.length;a++){this._chart.series[a].setData(b[a].data,false)}this._chart.redraw();this._numUpdateFailures=0;this._chart.hideLoading();this._updateInProgress=false};RBT.Reports2.TimeSeriesChart.prototype._setChartWindow=function(b,a){this._chart.xAxis[0].setExtremes(b,a)};RBT.Reports2.TimeSeriesChart._calculateChartWindowBoundaries=function(h,f,a,g,b,e){var i=e-b;var d=b;var c=e;if(f!==undefined){d=f;c=f+h;if(d<a){d=a}if(c>g){c=g}return[d,c]}if(h<i){d=e-h;c=e}else{if(h>i){if(e-h>=a){d=e-h;c=e}else{d=a;if(d+h<g){c=d+h}else{c=g}}}}return[d,c]};RBT.Reports2.TimeSeriesChart.prototype._updateChartWindowSize=function(a,c){var d=this._getChartWindow();var b=RBT.Reports2.TimeSeriesChart._calculateChartWindowBoundaries(a,c,this._dataRangeStart(),this._dataRangeEnd(),d[0],d[1]);this._setChartWindow(b[0],b[1])};RBT.Reports2.TimeSeriesChart.prototype._createEmptySpace=function(){var a=this._chart.options;if(a.xAxis.length<4||a.yAxis.length<4){return}var c=a.yAxis[0].top+a.yAxis[0].height+1;var b=this._chart.renderer.rect(this._chart.yAxis[0].left-2,c,this._chart.plotWidth+4,a.yAxis[2].top-c).attr({fill:"#FFFFFF",zIndex:7});if(this._dualPaneRectangle){this._dualPaneRectangle.destroy()}this._dualPaneRectangle=b;this._dualPaneRectangle.add()};RBT.Reports2.TimeSeriesChart.prototype._computePaneLayout=function(g){if(g.xAxis.length!=4||g.yAxis.length!=4){return g}var c=Y.Node.getDOMNode(this._renderToNode).clientHeight;var f=10;var m=50;var i=21;var d=38;var a=13;var h=14;var l=6;var e=c-f-m-i-d-a-h;var b=Math.floor(e*this._topPaneHeightPercent/100);var k=e-b;var j=f+b+m-l;if(RBT.Reports2._isLegacyIE()||Y.UA.gecko>0){k-=1}g.xAxis[2].top=j;g.xAxis[3].top=f+b;g.yAxis[0].height=b;g.yAxis[0].top=f;g.yAxis[1].height=b;g.yAxis[1].top=f;g.yAxis[2].height=k;g.yAxis[2].top=j;g.yAxis[3].height=k;g.yAxis[3].top=j;g.yAxis[0].offset=0;g.yAxis[1].offset=0;g.yAxis[2].offset=0;g.yAxis[3].offset=0;return g};RBT.Reports2.TimeSeriesChart.prototype._addOffHoursPlotBands=function(h){var b=null;var j=null;for(var e=0;e<h.series.length;e++){var g=h.series[e].data;if(g.length==0){continue}if(!b||g[0].x<b){b=g[0].x}if(!j||g[g.length-1].x>j){j=g[g.length-1].x}}var k=24*60*60*1000;var m=3*k;var a=7*k;var c;var d=this._findNextOffHoursStart(b-m);var l=[];var f=[];while(d<(j+a)){c=this._findNextOffHoursEnd(d);l.push({color:"#F7F7F7",from:d,to:c,zIndex:0});d=this._findNextOffHoursStart(c)}h.xAxis[0].plotBands=l;h.xAxis[0].plotLines=f;h.navigator.xAxis.plotBands=l;h.navigator.xAxis.plotLines=f};RBT.Reports2.TimeSeriesChart.prototype._findNextOffHoursEnd=function(a){return this._findNextWeekdayHour(a,RBT.Reports2._OFF_HOURS_END_HOUR)};RBT.Reports2.TimeSeriesChart.prototype._findNextOffHoursStart=function(a){return this._findNextWeekdayHour(a,RBT.Reports2._OFF_HOURS_START_HOUR)};RBT.Reports2.TimeSeriesChart.prototype._findNextWeekdayHour=function(c,a){var b=new Date(c);if(b.getUTCHours()>=a){b.setUTCDate(b.getUTCDate()+1)}if(b.getUTCDay()==6){b.setUTCDate(b.getUTCDate()+2)}else{if(b.getUTCDay()===0){b.setUTCDate(b.getUTCDate()+1)}}b.setUTCHours(a);b.setUTCMinutes(0);b.setUTCSeconds(0);return b.getTime()};RBT.Reports2.TimeSeriesChart.prototype._getFirstTimestampOfSeries=function(a){if(this._chart.series[a].xData.length==0){return null}else{return this._chart.series[a].xData[0]}};RBT.Reports2.TimeSeriesChart.prototype._dataRangeStart=function(){var b=this._getFirstTimestampOfSeries(0);for(var a=0;a<this._chart.series.length;a++){var c=this._getFirstTimestampOfSeries(a);if(c!=null&&(b==null||c<b)){b=c}}return b};RBT.Reports2.TimeSeriesChart.prototype._getLastTimestampOfSeries=function(b){var a=this._chart.series[b];if(a.xData.length==0){return null}else{return a.xData[a.xData.length-1]}};RBT.Reports2.TimeSeriesChart.prototype._dataRangeEnd=function(){var b=this._getLastTimestampOfSeries(0);for(var a=0;a<this._chart.series.length;a++){var c=this._getLastTimestampOfSeries(a);if(c!=null&&(b==null||c>b)){b=c}}return b};RBT.Reports2.TimeSeriesChart.prototype._getNextToLastUTCTimestamp=function(a){var b=this._chart.series[a].options.data;if(b.length==0){return null}else{if(b.length==1){return b[0].u}else{return b[b.length-2].u}}};RBT.Reports2.TimeSeriesChart.prototype._findLowerBoundForUpdate=function(){var c=this._getNextToLastUTCTimestamp(0);for(var a=0;a<this._chart.series.length;a++){var b=this._getNextToLastUTCTimestamp(a);if(b!=null&&(c==null||b>c)){c=b}}return Math.floor(c/1000)};RBT.Reports2.TimeSeriesChart.prototype._getChartSize=function(){return(this._dataRangeEnd()-this._dataRangeStart())};RBT.Reports2.TimeSeriesChart.prototype._getChartWindow=function(){var a=this._chart.xAxis[0].getExtremes();return[a.min,a.max]};RBT.Reports2.TimeSeriesChart.prototype._extractData=function(c,g,a){var b=this._chart.series[c].options.data;var f;for(var d=0;d<b.length;d++){if(b[d].x>=g){f=d;break}}var e;for(d=b.length-1;d>0;d--){if(b[d].x<=a){e=d;break}}return b.slice(f,e+1)};RBT.Reports2.TimeSeriesChart.prototype._updateChart=function(){if((this._options.lazyLoading===true)&&(this._updateInProgress===false)){this._updateInProgress=true}RBT.rpc({url:this._dataUrl,successFn:Y.bind(this._addData,this),errorFn:Y.bind(this._updateFailed,this),fields:{lb:this._findLowerBoundForUpdate()}})};RBT.Reports2.TimeSeriesChart.prototype._addData=function(d){var e=false;for(var c=0;c<d.length;c++){var b=this._getLastTimestampOfSeries(c);for(var a=0;a<d[c].data.length;a++){if(b==null||d[c].data[a].x>b){this._chart.series[c].addPoint(d[c].data[a],false);e=true}}}if(e){this._chart.redraw()}if(this._options.lazyLoading===true){this._updateInProgress=false}this._numUpdateFailures=0;this._chart.hideLoading()};RBT.Reports2.TimeSeriesChart.prototype._updateFailed=function(a,b){if(b=="no-response"){this._numUpdateFailures+=1;if(this._numUpdateFailures>RBT.Reports2._UPDATE_FAILURE_THRESHOLD){this._chart.showLoading("The chart has not been updated with new data recently. There may be a problem with your network connection or the appliance.")}}else{if(b=="invalid"&&a.indexOf("Error 403")>0){return}else{if(b=="other"&&a.indexOf("statsd")>0){if(0==this._numUpdateFailures%RBT.Reports2._UPDATE_FAILURE_THRESHOLD){RBT.Reports2._showErrorMsg(a)}this._numUpdateFailures+=1}else{RBT.Reports2._showErrorMsg(a)}}}};RBT.Reports2.TimeSeriesChart.prototype._tooltipFormatter=function(){var a=this.points[0].series.chart;var c=a._rbtTimeSeriesChartObj;var b=a.xAxis[0].getExtremes();if(this.x<b.min||this.x>b.max){return false}if(c._tooltipFormatterFn){return c._tooltipFormatterFn(this)}else{return Y.bind(c._defaultTooltipFormatter,c)(this)}};RBT.Reports2.TimeSeriesChart.prototype._defaultTooltipFormatter=function(e){var d=RBT.Reports2._formatDatetimeString(e.x);for(var c=0;c<e.points.length;c++){var a=e.points[c],b=RBT.Reports2.getTextColor(a.series.color);d+="<br/>";d+='<span style="color: '+b+'; font-weight: bold">';d+=a.series.name+":";d+="</span>";d+=" ";d+=this._dataFormatterFn(a.y,a.series.name,a.series)}return d};RBT.Reports2.TimeSeriesChart.prototype.replaceChart=function(a){if(this._timer){this._timer.cancel()}this._renderToNode=Y.Object.owns(a,"renderTo")?Y.one(a.renderTo):this._renderToNode;this._dataUrl=Y.Object.owns(a,"dataUrl")?a.dataUrl:this._dataUrl;this._dataFormatterFn=Y.Object.owns(a,"dataFormatterFn")?a.dataFormatterFn:this._dataFormatterFn;this._options=Y.Object.owns(a,"options")?a.options:this._options;this._boundariesChangedFn=Y.Object.owns(a,"boundariesChangedFn")?a.boundariesChangedFn:this._boundariesChangedFn;this._postCreateChartFn=Y.Object.owns(a,"postCreateChartFn")?a.postCreateChartFn:this._postCreateChartFn;this._topPaneHeightPercent=Y.Object.owns(a,"topPaneHeightPercent")?a.topPaneHeightPercent:this._topPaneHeightPercent;this._initialWindow=Y.Object.owns(a,"initialWindow")?a.initialWindow:this._initialWindow;this._tooltipFormatterFn=Y.Object.owns(a,"tooltipFormatterFn")?a.tooltipFormatterFn:this._tooltipFormatterFn;this._shadeOffHoursPeriods=Y.Object.owns(a,"shadeOffHoursPeriods")?a.shadeOffHoursPeriods:this._shadeOffHoursPeriods;this._optionsModifierFn=Y.Object.owns(a,"optionsModifierFn")?a.optionsModifierFn:this._optionsModifierFn;this._updateInterval=Y.Object.owns(a,"updateInterval")?a.updateInterval:this._updateInterval;this._lowerBound=Y.Object.owns(a,"lowerBound")?a.lowerBound:this._lowerBound;this._upperBound=Y.Object.owns(a,"upperBound")?a.upperBound:this._upperBound;this._showMessage("Updating chart.","reports2UpdatingMessage");this._fetchAllData()};RBT.Reports2.TimeSeriesChart.prototype._showMessage=function(b,a){this._hideMessage();this._renderToNode.setStyle("backgroundColor","#F7F7F7");this._renderToNode.setStyle("position","relative");this._renderToNode.appendChild('<div class="reports2Message '+a+'">'+b+"</div>")};RBT.Reports2.TimeSeriesChart.prototype._hideMessage=function(){var a=this._renderToNode.one("div.reports2Message");if(a){a.remove(true)}this._renderToNode.setStyle("backgroundColor","transparent")};RBT.Reports2.TimeSeriesChartWithControls=function(a){this._tsc=null;this._tscDivId=Y.guid();this._startFieldId=Y.guid();this._endFieldId=Y.guid();this._windowSizeFieldId=Y.guid();this._editingStartField=false;this._editingEndField=false;this._editingWindowSizeField=false;this._windowSizeLinkTooltips={};this._parentNode=Y.one(a.parent);this._dataUrl=a.dataUrl;this._dataFormatterFn=a.dataFormatterFn;this._options=Y.Object.owns(a,"options")?a.options:RBT.Reports2.defaultHighstockOptions();this._customControlDiv=Y.Object.owns(a,"customControlDiv")?Y.one(a.customControlDiv):null;this._statsFn=Y.Object.owns(a,"statsFn")?a.statsFn:null;this._boundariesChangedFn=Y.Object.owns(a,"boundariesChangedFn")?a.boundariesChangedFn:null;this._topPaneHeightPercent=Y.Object.owns(a,"topPaneHeightPercent")?a.topPaneHeightPercent:0;this._initialWindow=Y.Object.owns(a,"initialWindow")?a.initialWindow:null;this._tooltipFormatterFn=Y.Object.owns(a,"tooltipFormatterFn")?a.tooltipFormatterFn:null;this._alwaysOnSeries=Y.Object.owns(a,"alwaysOnSeries")?a.alwaysOnSeries:[];this._hideLegend=Y.Object.owns(a,"hideLegend")?a.hideLegend:false;this._shadeOffHoursPeriods=Y.Object.owns(a,"shadeOffHoursPeriods")?a.shadeOffHoursPeriods:true;this._optionsModifierFn=Y.Object.owns(a,"optionsModifierFn")?a.optionsModifierFn:null;this._updateInterval=Y.Object.owns(a,"updateInterval")?a.updateInterval:RBT.Reports2._UPDATE_INTERVAL;this._lowerBound=Y.Object.owns(a,"lowerBound")?a.lowerBound:0;this._upperBound=Y.Object.owns(a,"upperBound")?a.upperBound:null;this._buildDom();this._tsc=new RBT.Reports2.TimeSeriesChart({renderTo:"#"+this._tscDivId,dataUrl:this._dataUrl,dataFormatterFn:this._dataFormatterFn,options:this._options,boundariesChangedFn:Y.bind(this._boundariesChanged,this),postCreateChartFn:Y.bind(this._finishInit,this),topPaneHeightPercent:this._topPaneHeightPercent,initialWindow:this._initialWindow,tooltipFormatterFn:this._tooltipFormatterFn,shadeOffHoursPeriods:this._shadeOffHoursPeriods,optionsModifierFn:this._optionsModifierFn,updateInterval:this._updateInterval,lowerBound:this._lowerBound,upperBound:this._upperBound})};RBT.Reports2.TimeSeriesChartWithControls.prototype._finishInit=function(){this._adjustControlsVisibility();this._parentNode.one("div.reports2InstrumentPanel").setStyle("visibility","visible");if(this._tsc._chart){if(!this._hideLegend){this._buildLegend()}var a=this._tsc._getChartWindow();this._updateWidgetsStartEnd(a[0],a[1])}RBT.Validator.addFieldValidation("#"+this._startFieldId,"datetime",false);RBT.Validator.addFieldValidation("#"+this._endFieldId,"datetime",false);RBT.Validator.addFieldValidation("#"+this._windowSizeFieldId,"englishTimeInterval",false);this._configureHandlers();if(RBT.Reports2._isLegacyIE()&&this._updateInterval>0){this._createPageRefreshTimer()}};RBT.Reports2.TimeSeriesChartWithControls.prototype._createPageRefreshTimer=function(){Y.later(RBT.Reports2._PAGE_REFRESH_INTERVAL*1000,this,function(){var a="";a+='<span class="reports2PageRefreshMessage">';a+="Page will refresh ";a+='<span id="countdown">';a+="in "+RBT.Reports2._pageRefreshCountdown+" seconds";a+="</span>";a+=".";a+="</span>";this._parentNode.appendChild(a);this._pageRefreshCountdownTimer=Y.later(1000,this,function(){RBT.Reports2._pageRefreshCountdown-=1;var b=Y.one("span#countdown");if(RBT.Reports2._pageRefreshCountdown<0){this._pageRefreshCountdownTimer.cancel();window.location.reload();return}if(RBT.Reports2._pageRefreshCountdown==0){b.setContent("now")}else{if(RBT.Reports2._pageRefreshCountdown==1){b.setContent("in 1 second")}else{var c="in "+RBT.Reports2._pageRefreshCountdown+" seconds";b.setContent(c)}}},null,true)})};RBT.Reports2.TimeSeriesChartWithControls.prototype._adjustControlsVisibility=function(){var b=this._parentNode.one("table.reports2SizeLinks");var a=this._parentNode.one("div.reports2WindowControls");if(this._tsc._chart){b.all("a").each(function(e,d,c){e.removeClass("disabled")});a.all("input").each(function(e,d,c){Y.Node.getDOMNode(e).disabled=false});a.one("span").removeClass("disabled")}else{b.all("a").each(function(e,d,c){e.addClass("disabled")});a.all("input").each(function(e,d,c){e.set("value","N/A");Y.Node.getDOMNode(e).disabled=true});a.one("span").addClass("disabled");a.one("span").setStyle("display","inline");a.one("a").setStyle("display","none")}};RBT.Reports2.TimeSeriesChartWithControls.prototype._buildDom=function(){this._parentNode.setStyle("position","relative");this._parentNode.appendChild('<div id="'+this._tscDivId+'" class="reports2Chart"></div>');var f="";f+='<div class="reports2InstrumentPanel" style="visibility: hidden">';f+='<div class="reports2UpdatingChartMessage" style="display: none">';f+="The control panel is unavailable while the chart is updating.";f+="</div>";f+='<table class="reports2SizeLinks">';f+="<tbody>";f+="<tr>";for(var e=0;e<5;e++){f+='<td style="width: 20%">';f+='<a href="" class="pseudoLink">'+["5m","1h","1d","1w","All"][e]+"</a>";f+="</td>"}f+="</tr>";f+="<tr>";if(typeof RBT_product!=="undefined"&&RBT_product=="cmc"){f+='<td style="width: 100%" colspan="5">';f+='<a href="" class="pseudoLink">Yesterday</a>';f+="</td>";f+="</tr>";f+="<tr>";f+='<td style="width: 100%" colspan="5">';f+='<a href="" class="pseudoLink">Last Week</a>';f+="</td>";f+="</tr>";f+="<tr>";f+='<td style="width: 100%" colspan="5">';f+='<a href="" class="pseudoLink">Last Month</a>';f+="</td>"}f+="</tr>";f+="</tbody>";f+="</table>";f+='<div class="reports2WindowControls">';f+='<input type="text" id="'+this._startFieldId+'" name="start" class="enterKeySubmits" />';f+="<br/>";f+='<input type="text" id="'+this._endFieldId+'" name="end" class="enterKeySubmits" />';f+="<br/>";f+='<input type="text" id="'+this._windowSizeFieldId+'" name="windowSize" class="enterKeySubmits" />';f+="<br/>";f+='<span style="display: none">Showing newest data</span>';f+='<a href="" class="pseudoLink" style="display: none">';f+="Show newest data";f+='<img src="/images/reports2_link_arrow.png" alt=""></img>';f+="</a>";f+="</div>";f+='<div class="reports2CustomControls"></div>';f+='<div class="reports2Legend"></div>';f+="</div>";this._parentNode.appendChild(f);var c=this._parentNode.one("div.reports2InstrumentPanel");if(this._customControlDiv){this._parentNode.one("div.reports2CustomControls").appendChild(this._customControlDiv);this._customControlDiv.setStyle("display","block");var a=0;this._customControlDiv.all("*").each(function(k,j,i){var h=Y.Node.getDOMNode(k).offsetWidth;if(h>a){a=h}});if(a>Y.Node.getDOMNode(c).offsetWidth){c.setStyle("width",a+"px")}}var b=Y.Node.getDOMNode(c).offsetWidth;var g=b+5;var d=this._parentNode.one("div.reports2Chart");d.setStyle("marginRight",g+"px")};RBT.Reports2.TimeSeriesChartWithControls.prototype._buildLegend=function(){var c={};for(var f=0;f<this._alwaysOnSeries.length;f++){c[this._alwaysOnSeries[f]]=0}var e="";for(f=0;f<this._tsc._chart.options.series.length;f++){var g=this._tsc._chart.series[f];var b=RBT.Reports2.getTextColor(g.color);var d=g.name;var a="reports2LegendSeries";if(d in c){a+=" reports2LegendSeriesAlwaysOn"}if("visible" in g&&!g.visible){a+=" reports2LegendSeriesHidden"}e+='<div class="'+a+'" series="'+f+'">';e+='<div class="reports2LegendHeader" style="background-color: '+b+"; border-color: "+b+'">';if(d in c){e+='<div class="reports2LegendSeriesName">';e+=d;e+="</div>"}else{e+='<a href="" style="color: #FFFFFF">';e+='<div class="reports2LegendSeriesName">';e+=d;e+="</div>";e+="</a>"}e+="</div>";e+='<div class="reports2LegendStats">';e+="</div>";e+="</div>"}e+='<div class="reports2LegendNonSeriesStats" style="display: none"></div>';this._parentNode.one("div.reports2Legend").appendChild(e);this._parentNode.all("div.reports2Legend a").on("click",this._legendCheckboxChange,this)};RBT.Reports2.TimeSeriesChartWithControls.prototype._setLegendHeight=function(){var g=this._parentNode.one("div.reports2InstrumentPanel");var j=g.one("table.reports2SizeLinks");var c=g.one("div.reports2WindowControls");var h=g.one("div.reports2CustomControls");var i=g.one("div.reports2Legend");var d=15;var a=0;var b=0;d+=RBT.Reports2._getVerticalPadding(g);a+=Y.Node.getDOMNode(j).offsetHeight;b+=RBT.Reports2._getVerticalMargins(j);a+=Y.Node.getDOMNode(c).offsetHeight;b+=RBT.Reports2._getVerticalMargins(c);if(this._customControlDiv){a+=Y.Node.getDOMNode(h).offsetHeight;b+=RBT.Reports2._getVerticalMargins(h)}var f=Y.Node.getDOMNode(this._parentNode).clientHeight;var e=f-d-a-b;i.setStyle("height",e)};RBT.Reports2.TimeSeriesChartWithControls.prototype._configureHandlers=function(){Y.one("#"+this._startFieldId).on("focus",this._textFieldEditingChange,this);Y.one("#"+this._startFieldId).on("blur",this._textFieldEditingChange,this);Y.one("#"+this._endFieldId).on("focus",this._textFieldEditingChange,this);Y.one("#"+this._endFieldId).on("blur",this._textFieldEditingChange,this);Y.one("#"+this._windowSizeFieldId).on("focus",this._textFieldEditingChange,this);Y.one("#"+this._windowSizeFieldId).on("blur",this._textFieldEditingChange,this);Y.one("#"+this._startFieldId).on("keypress",this._textFieldKeypress,this);Y.one("#"+this._endFieldId).on("keypress",this._textFieldKeypress,this);Y.one("#"+this._windowSizeFieldId).on("keypress",this._textFieldKeypress,this);Y.one("#"+this._startFieldId).on("change",this._datetimeChange,this);Y.one("#"+this._endFieldId).on("change",this._datetimeChange,this);Y.one("#"+this._windowSizeFieldId).on("change",this._windowSizeChange,this);this._parentNode.all("table.reports2SizeLinks a").on("click",this._chartSizeLink,this);this._parentNode.one("div.reports2WindowControls a").on("mouseover",this._updateLinkArrow,this);this._parentNode.one("div.reports2WindowControls a").on("mouseout",this._updateLinkArrow,this);this._parentNode.one("div.reports2WindowControls a").on("click",this._attachWindowToEdge,this)};RBT.Reports2.TimeSeriesChartWithControls.prototype._legendCheckboxChange=function(h){var f=h.target.ancestor("div.reports2LegendSeries");var g=f.one("div.reports2LegendHeader");var c=g.one("a");var a=f.one("div.reports2LegendStats");var d=f.getAttribute("series");var b=RBT.Reports2.getTextColor(this._tsc._chart.series[d].color);if(f.hasClass("reports2LegendSeriesInactive")){this._tsc._chart.series[d].show();f.removeClass("reports2LegendSeriesInactive");g.setStyle("backgroundColor",b);c.setStyle("color","#FFFFFF");a.setStyle("display","block")}else{this._tsc._chart.series[d].hide();f.addClass("reports2LegendSeriesInactive");g.setStyle("backgroundColor","#FFFFFF");c.setStyle("color",b);a.setStyle("display","none")}this._tsc._createEmptySpace();h.halt()};RBT.Reports2.TimeSeriesChartWithControls.prototype._textFieldEditingChange=function(d){var a=d.target.get("id");var c=this._parentNode.one("input#"+a);if(a==this._startFieldId){this._editingStartField=(d.type=="focus")}else{if(a==this._endFieldId){this._editingEndField=(d.type=="focus")}else{if(a==this._windowSizeFieldId){this._editingWindowSizeField=(d.type=="focus")}}}if(d.type=="focus"){c.addClass("focused")}else{c.removeClass("focused")}if(d.type=="blur"){var b=this._tsc._getChartWindow();this._updateWidgetsStartEnd(b[0],b[1])}};RBT.Reports2.TimeSeriesChartWithControls.prototype._textFieldKeypress=function(a){if(a.keyCode==13){a.target.blur()}};RBT.Reports2.TimeSeriesChartWithControls.prototype._boundariesChanged=function(d,a,c,b){this._updateWidgetsStartEnd(d,a);if(this._boundariesChangedFn){this._boundariesChangedFn(d,a,c,b)}};RBT.Reports2.TimeSeriesChartWithControls.prototype._updateWidgetsStartEnd=function(g,b){var a=RBT.Reports2._formatDatetimeString(g);var f=RBT.Reports2._formatDatetimeString(b);var e=englishTimeInterval((b-g)/1000);if(!this._editingStartField){Y.one("#"+this._startFieldId).set("value",a)}if(!this._editingEndField){Y.one("#"+this._endFieldId).set("value",f)}if(!this._editingWindowSizeField){Y.one("#"+this._windowSizeFieldId).set("value",e)}if(this._statsFn){this._updateStats(g,b)}var c=this._parentNode.one("div.reports2WindowControls a");var d=this._parentNode.one("div.reports2WindowControls span");if(this._tsc._dataRangeEnd()==b){c.setStyle("display","none");d.setStyle("display","inline")}else{c.setStyle("display","inline");d.setStyle("display","none")}Y.all("table.reports2SizeLinks a").each(function(j,m,k){var q=this._tsc._getChartSize();var p=b-g;var h=j.getContent();var n=this.getYesterdayStart();var l=this.getLastWeekStart();var o=this.getLastMonthStart();if(h=="All"&&q<=p){j.addClass("matches")}else{if((h=="Yesterday"&&g==n&&b==n+(24*60*60*1000))||(h=="Last Week"&&g==l&&b==l+(7*24*60*60*1000))||(h=="Last Month"&&g==o&&b==o+(this.getDaysInLastMonth()*24*60*60*1000))){j.addClass("matches")}else{if((h!="Yesterday"&&g==n&&b==n+(24*60*60*1000))||(h!="Last Week"&&g==l&&b==l+(7*24*60*60*1000))||(h!="Last Month"&&g==o&&b==o+(this.getDaysInLastMonth()*24*60*60*1000))){j.removeClass("matches")}else{if(p==RBT.Reports2._CHART_WINDOW_SIZES[h]){j.addClass("matches")}else{j.removeClass("matches")}}}}if((h!="All"&&q<RBT.Reports2._CHART_WINDOW_SIZES[h])||(h=="Yesterday"&&this._tsc._dataRangeStart()>n)||(h=="Last Week"&&this._tsc._dataRangeStart()>l)||(h=="Last Month"&&this._tsc._dataRangeStart()>o)){j.addClass("disabled");j.removeClass("matches");if(!(h in this._windowSizeLinkTooltips)){j.set("title","Data has not been collected long enough for this option.");this._windowSizeLinkTooltips[h]=new RBT.Tooltip({triggerNode:j}).render()}}else{j.removeClass("disabled");if(h in this._windowSizeLinkTooltips){this._windowSizeLinkTooltips[h].destroy();delete this._windowSizeLinkTooltips[h];j.removeClass("yui3-tooltip-trigger");j.removeAttribute("title")}}},this);if(!this._hideLegend){this._setLegendHeight()}};RBT.Reports2.TimeSeriesChartWithControls.prototype._datetimeChange=function(d){var f=Y.one("#"+this._startFieldId);var g=Y.one("#"+this._endFieldId);if((RBT.Validator.validateField(f)!=RBT.Validator.FIELD_STATE_NORMAL)||(RBT.Validator.validateField(g)!=RBT.Validator.FIELD_STATE_NORMAL)){return}var c=(new Date(f.get("value")+" UTC")).getTime();var h=(new Date(g.get("value")+" UTC")).getTime();var b=this._tsc._dataRangeStart();var i=this._tsc._dataRangeEnd();if(c<b){c=b}if(h>i){h=i}if(c>=h){var a="The start time must be earlier than the end time.";RBT.Reports2._showErrorMsg(a,null,{affinity:RBT.Dialog.AFFINITY_SE,alignNode:"#"+d.target.get("id")});return}if(h-c<RBT.Reports2._MINIMUM_TIME_RANGE){var j=RBT.Reports2._MINIMUM_TIME_RANGE/1000;var a="The time range must be at least "+englishTimeInterval(j)+".";RBT.Reports2._showErrorMsg(a,null,{affinity:RBT.Dialog.AFFINITY_SE,alignNode:"#"+d.target.get("id")});return}this._tsc._setChartWindow(c,h)};RBT.Reports2.TimeSeriesChartWithControls.prototype._windowSizeChange=function(f){var b=Y.one("#"+this._windowSizeFieldId);if(RBT.Validator.validateField(b)!=RBT.Validator.FIELD_STATE_NORMAL){return}var d=b.get("value");var a=parseEnglishTimeInterval(d)*1000;if(a<RBT.Reports2._MINIMUM_TIME_RANGE){var c=RBT.Reports2._MINIMUM_TIME_RANGE/1000;var g="The time range must be at least "+englishTimeInterval(c)+".";RBT.Reports2._showErrorMsg(g,null,{affinity:RBT.Dialog.AFFINITY_SE,alignNode:"#"+f.target.get("id")});return}this._tsc._updateChartWindowSize(a)};RBT.Reports2.TimeSeriesChartWithControls.prototype.getLastWeekStart=function(){var b=new Date();var a=false;while(true){if(b.getDay()==0&&!a){a=true}else{if(b.getDay()==0&&a){b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);return b.getTime()-(b.getTimezoneOffset()*60*1000)}}b.setTime(b.getTime()-(24*60*60*1000))}};RBT.Reports2.TimeSeriesChartWithControls.prototype.getLastMonthStart=function(){var b=new Date();var a=false;while(true){if(b.getDate()==1&&!a){a=true}else{if(b.getDate()==1&&a){b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);return b.getTime()-(b.getTimezoneOffset()*60*1000)}}b.setTime(b.getTime()-(24*60*60*1000))}};RBT.Reports2.TimeSeriesChartWithControls.prototype.getYesterdayStart=function(){var a=new Date();a.setTime(a.getTime()-(24*60*60*1000));a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a.getTime()-(a.getTimezoneOffset()*60*1000)};RBT.Reports2.TimeSeriesChartWithControls.prototype.getDaysInLastMonth=function(){var b=new Date();var a=b.getDate();while(true){b.setTime(b.getTime()-(24*60*60*1000));if(b.getDate()>a){return b.getDate()}a=b.getDate()}};RBT.Reports2.TimeSeriesChartWithControls.prototype._chartSizeLink=function(c){if(c.target.hasClass("matches")||c.target.hasClass("disabled")){c.halt();return}var a;var b=undefined;if(c.target.getContent()=="All"){a=this._tsc._getChartSize()}else{if(c.target.getContent()=="Yesterday"){a=24*60*60*1000;b=this.getYesterdayStart()}else{if(c.target.getContent()=="Last Week"){a=7*24*60*60*1000;b=this.getLastWeekStart()}else{if(c.target.getContent()=="Last Month"){a=this.getDaysInLastMonth()*24*60*60*1000;b=this.getLastMonthStart()}else{a=RBT.Reports2._CHART_WINDOW_SIZES[c.target.getContent()]}}}}this._tsc._updateChartWindowSize(a,b);c.halt()};RBT.Reports2.TimeSeriesChartWithControls.prototype._updateLinkArrow=function(b){var a=this._parentNode.one("div.reports2WindowControls img");if(b.type=="mouseover"){a.setAttribute("src","/images/reports2_link_arrow_hover.png")}else{if(b.type=="mouseout"){a.setAttribute("src","/images/reports2_link_arrow.png")}}};RBT.Reports2.TimeSeriesChartWithControls.prototype._attachWindowToEdge=function(d){var c=this._tsc._getChartWindow();var a=this._tsc._dataRangeEnd();var b=a-c[1];this._tsc._setChartWindow(c[0]+b,a);d.halt()};RBT.Reports2.TimeSeriesChartWithControls.prototype._updateStats=function(f,a){if(this._parentNode.one("div.reports2Legend").get("children").isEmpty()){return}var b=[];for(var d=0;d<this._tsc._chart.options.series.length;d++){b.push(this._tsc._extractData(d,f,a))}var c=this._statsFn(b);this._parentNode.all("div.reports2LegendStats").each(function(j,h,g){if(c[h].length>0){j.setStyle("paddingBottom","6px");j.setStyle("paddingTop","2px")}else{j.setStyle("paddingBottom","0");j.setStyle("paddingTop","0")}j.setContent(c[h].join("<br/>"))});if(c.length-b.length==1){var e=this._parentNode.one("div.reports2LegendNonSeriesStats");e.setContent(c[c.length-1].join("<br/>"));e.setStyle("display","block")}};RBT.Reports2.TimeSeriesChartWithControls.prototype.replaceChart=function(d){this._parentNode=Y.Object.owns(d,"parent")?Y.one(d.parent):this._parentNode;this._dataUrl=Y.Object.owns(d,"dataUrl")?d.dataUrl:this._dataUrl;this._dataFormatterFn=Y.Object.owns(d,"dataFormatterFn")?d.dataFormatterFn:this._dataFormatterFn;this._options=Y.Object.owns(d,"options")?d.options:this._options;this._customControlDiv=Y.Object.owns(d,"customControlDiv")?Y.one(d.customControlDiv):this._customControlDiv;this._statsFn=Y.Object.owns(d,"statsFn")?d.statsFn:this._statsFn;this._boundariesChangedFn=Y.Object.owns(d,"boundariesChangedFn")?d.boundariesChangedFn:this._boundariesChangedFn;this._topPaneHeightPercent=Y.Object.owns(d,"topPaneHeightPercent")?d.topPaneHeightPercent:this._topPaneHeightPercent;this._initialWindow=Y.Object.owns(d,"initialWindow")?d.initialWindow:this._initialWindow;this._tooltipFormatterFn=Y.Object.owns(d,"tooltipFormatterFn")?d.tooltipFormatterFn:this._tooltipFormatterFn;this._alwaysOnSeries=Y.Object.owns(d,"alwaysOnSeries")?d.alwaysOnSeries:this._alwaysOnSeries;this._hideLegend=Y.Object.owns(d,"hideLegend")?d.hideLegend:this._hideLegend;this._shadeOffHoursPeriods=Y.Object.owns(d,"shadeOffHoursPeriods")?d.shadeOffHoursPeriods:this._shadeOffHoursPeriods;this._optionsModifierFn=Y.Object.owns(d,"optionsModifierFn")?d.optionsModifierFn:this._optionsModifierFn;this._updateInterval=Y.Object.owns(d,"updateInterval")?d.updateInterval:this._updateInterval;this._lowerBound=Y.Object.owns(d,"lowerBound")?d.lowerBound:this._lowerBound;this._upperBound=Y.Object.owns(d,"upperBound")?d.upperBound:this._upperBound;var c=this._parentNode.one("div.reports2InstrumentPanel").get("children");c.each(function(g,f,e){g.setStyle("visibility","hidden")});var a=this._parentNode.one("div.reports2Legend");a.get("children").each(function(g,f,e){g.remove(true)});a.setStyle("height","auto");var b=this._parentNode.one("div.reports2UpdatingChartMessage");b.setStyle("visibility","visible");b.setStyle("display","block");this._tsc.replaceChart({dataUrl:this._dataUrl,dataFormatterFn:this._dataFormatterFn,options:this._options,postCreateChartFn:Y.bind(this._finishReplace,this),boundariesChangedFn:Y.bind(this._boundariesChanged,this),topPaneHeightPercent:this._topPaneHeightPercent,initialWindow:this._initialWindow,tooltipFormatterFn:this._tooltipFormatterFn,shadeOffHoursPeriods:this._shadeOffHoursPeriods,optionsModifierFn:this._optionsModifierFn,updateInterval:this._updateInterval,lowerBound:this._lowerBound,upperBound:this._upperBound})};RBT.Reports2.TimeSeriesChartWithControls.prototype._finishReplace=function(){if(this._tsc._chart&&!this._hideLegend){this._buildLegend()}this._parentNode.one("div.reports2UpdatingChartMessage").setStyle("display","none");var a=this._parentNode.one("div.reports2InstrumentPanel").get("children");a.each(function(e,d,c){e.setStyle("visibility","visible")});this._adjustControlsVisibility();if(this._tsc._chart){var b=this._tsc._getChartWindow();this._updateWidgetsStartEnd(b[0],b[1])}};