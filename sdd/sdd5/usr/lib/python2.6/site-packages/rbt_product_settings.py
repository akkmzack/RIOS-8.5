#!/usr/bin/python

"""!
This script should be used to define product specific settings that can be
imported from framework.
"""

import subprocess
from rrdm_util import NO_ALIGNMENT, DEFAULT_ALIGNMENT

def get_prod_id():
    product = subprocess.Popen(["egrep", "-e", "^BUILD_PROD_ID=", "/etc/build_version.sh"], stdout=subprocess.PIPE).communicate()[0].split('=')[1].strip().strip('"')
    return product


def get_prod_kernel_options():
    product=subprocess.Popen(["egrep", "-e", "^BUILD_PROD_ID=", "/etc/build_version.sh"], stdout=subprocess.PIPE).communicate()[0].split('=')[1].strip().strip('"')
    if product == 'EX':
        return 'cgroup_enable=cpuset'
    else:
        return ''

def get_prod_ssd_align_boundary():
    product = get_prod_id()
    if product == 'EX':
        return NO_ALIGNMENT
    else:
        return DEFAULT_ALIGNMENT
    
        
