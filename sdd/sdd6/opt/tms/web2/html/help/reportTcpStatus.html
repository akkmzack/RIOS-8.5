<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Viewing TCP Memory Reports</title>
    <link rel="StyleSheet" href="css/display-reports.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="display-reports.12.01.html#397565">Chapter 10	Viewing Reports and Logs</a> : Viewing TCP Memory Reports</div>
    <hr align="left" />
    <blockquote>
      <div class="Heading1Topic"><a name="397565">Viewing TCP Memory Reports</a></div>
      <div class="Body"><a name="415650">The TCP Memory report simplifies the analysis of unexplainable throughput degradations, stalled and </a>timed-out connections, and other network-related problems by providing the history of the TCP memory consumption and any TCP memory pressure events detected during network traffic processing. Use this report to gather preliminary information before calling Riverbed Support to troubleshoot an issue. </div>
      <div class="Body"><a name="428475">The TCP Memory report includes two graphs. The TCP memory consumption graph provides the absolute </a>number of memory bytes allocated by the TCP subsystem. This graph includes the following table of statistics that describe TCP memory activity for the time period you specify.</div>
      <div class="Body" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 1.0pt; margin-top: 1.0pt; text-transform: none; vertical-align: baseline"><a name="415692">&nbsp;</a></div>
      <table class="RegularTable" style="text-align: left; width: 466.70975999999996pt" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="background-color: #ADBDF2; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 164.96856pt">
            <div class="CellHeading"><a name="415473">Field</a></div>
          </td>
          <td style="background-color: #ADBDF2; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 301.7412pt">
            <div class="CellHeading"><a name="415475">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="415477">Max Threshold</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="415479">Specifies the absolute maximum amount of memory bytes that the TCP </a>stack can allocate for its needs.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="415490">Cutoff Threshold</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="415492">Specifies the number of memory bytes allocated until the TCP memory </a>allocation subsystem does not apply memory saving mechanisms and rules. As soon as the TCP memory consumption reaches the cutoff limit, the TCP stack enters a &#8220;memory pressure&#8221; state. This state applies several important limitations that restrict memory use by incoming and transmitted packets. In practice, this means that part of the incoming packets can be discarded, and user space code is limited in its abilities to send data.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="415503">Enable Threshold</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="415931">Specifies the lower boundary of TCP memory consumption, when the </a>memory pressure state is cleared and the TCP stack can use the unlimited memory allocation approach again.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="415641">Average Memory Consumption</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="416063">Specifies the average memory consumption by the TCP/IP stack.</a></div>
          </td>
        </tr>
      </table>
      <div class="Body"><a name="415950">The TCP memory pressure percentage graph provides the maximum percentage of time that the kernel has </a>spent under TCP memory pressure. In many cases, even an insignificant increase in network traffic can cause TCP memory pressure, leading to negative consequences. There are many conditions that can cause TCP memory pressure events. However, all of them can be sorted into the following two categories to identify the bottleneck in the data transfer chain:</div>
      <li class="Bullet"><span style="font-weight: bold"><a name="415952">Slow client cases</a></span> - Occur when the receiver (client) is not able to accept data at the rate the client-side Steelhead appliance or the server-side Steelhead appliance transfers data. This condition usually causes two TCP memory pressure points&#8212;one on the sender's side and another one on the receiver's (client's) side. The slow client on the sender's side (usually the client-side Steelhead appliance) is characterized by a large amount of unsent data collected in the send socket buffers. Incorrect Steelhead settings, such as overly large send buffers, can trigger TCP memory pressure, even with relatively normal network traffic.</li>
      <li class="Bullet"><span style="font-weight: bold"><a name="415954">Fast server cases</a></span> - Occur when the sender is able to transfer data faster than the receiver can accept it. This condition can be triggered not only because of insufficient CPU resources, but also because of an insufficient disk transfer rate (especially with a cold and warm data pattern). The most common cause of this problem is a lack of processing power on the Steelhead appliance. </li>
      <div class="Heading2"><a name="415507">What This Report Tells You</a></div>
      <div class="Body"><a name="415508">The TCP Memory report answers the following questions:</a></div>
      <li class="Bullet"><a name="415509">How much time is the kernel spending under TCP memory pressure?</a></li>
      <li class="Bullet"><a name="415510">What is the average memory consumption for the Steelhead appliance?</a></li>
      <div class="Heading2"><a name="415511">About Report Graphs</a></div>
      <div class="Body"><a name="415512">In bar-graph and line-graph reports, the x-axis (or tick mark) plots time, according to the interval you select. </a>The y-axis plots the metric of interest, such as GBs of bandwidth, percent (%) of data reduction, connection counts, and the like.</div>
      <div class="Body"><a name="415513">Three triangles near the top margin of the graph point to the value on the x-axis (the time) at which the peak </a>occurred. </div>
      <div class="Body"><a name="415514">The right margin of the graph points to the value on the y-axis (for example, the percent) that is the average </a>value for the time period selected.</div>
      <div class="Body"><a name="415515">Pie chart graphs do not indicate peaks or averages. Pie chart graphs represent the aggregate for the time </a>period selected.</div>
      <div class="HeadingProcedure"><a name="415551">To view the TCP Memory report</a></div>
      <div class="Step1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Step1_inner" style="width: 16.128pt; white-space: nowrap;">
                <span class="Bold">1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Step1_inner"><a name="415552">Choose Reports &gt; Diagnostics &gt; TCP Memory to display the TCP Memory page.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Step_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Step_inner" style="width: 16.128pt; white-space: nowrap;">
                <span class="Bold">2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="Step_inner"><a name="415557">Use the controls to customize the report as described in the following table. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <table class="RegularTable" style="text-align: left; width: 468.87552pt" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="background-color: #ADBDF2; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 104.68728pt">
            <div class="CellHeading"><a name="477645">Control</a></div>
          </td>
          <td style="background-color: #ADBDF2; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 364.18824pt">
            <div class="CellHeading"><a name="477647">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="477649">Period</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="477651">Select a period of Last Minute, Last 5 Minutes, Last Hour, Last Day, Last Week, Last </a>Month, or Custom from the drop-down list. </div>
            <div class="CellBody"><a name="477652">For </a><span class="Bold" style="font-weight: normal">Custom</span>, enter the <span class="Bold" style="font-weight: normal">start </span>and e<span class="Bold" style="font-weight: normal">nd</span> t<span class="Bold" style="font-weight: normal">ime</span> and click <span class="Bold">Go</span>. Use the format <span class="Bold" style="font-weight: normal">YYYY/MM/DD </span><span class="Bold" style="font-weight: normal">HH:MM:SS.</span></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="477654">Refresh</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="477656">Select a refresh rate from the drop-down list:</a></div>
            <li class="CellBullet"><a name="477657">To refresh the report every 10 seconds, select </a><span class="Bold">10 seconds</span>.</li>
            <li class="CellBullet"><a name="477658">To refresh the report every 30 seconds, select </a><span class="Bold">30 seconds</span>.</li>
            <li class="CellBullet"><a name="477659">To refresh the report every 60 seconds, select </a><span class="Bold">60 seconds</span>.</li>
            <li class="CellBullet"><a name="477660">To turn refresh off, click </a><span class="Bold">Off</span>. </li>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="477662">Go</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-top-color: #000000; border-top-style: solid; border-top-width: 1px; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="477664">Displays the report.</a></div>
          </td>
        </tr>
      </table>
      <div class="Tip">
        <span class="Bold">Tip: </span><a name="415584">To print the report, choose </a><span class="Bold" style="font-weight: normal">File</span> &gt; <span class="Bold" style="font-weight: normal">Print</span> in your Web browser to open the Print dialog box.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <hr align="left" />
    <table align="right">
      <tr>
        <td class="WebWorks_Company_Logo_Bottom">
          <a href="http://riverbed.com" target="external_window"><img src="riverbed_logo_without_tagline.jpg" border="0" /></a>
        </td>
      </tr>
    </table>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>